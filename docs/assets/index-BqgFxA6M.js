(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var ad={exports:{}},$l={};var a_;function g1(){if(a_)return $l;a_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return $l.Fragment=e,$l.jsx=i,$l.jsxs=i,$l}var r_;function y1(){return r_||(r_=1,ad.exports=g1()),ad.exports}var M=y1(),rd={exports:{}},Nt={};var s_;function _1(){if(s_)return Nt;s_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function B(R){return R===null||typeof R!="object"?null:(R=D&&R[D]||R["@@iterator"],typeof R=="function"?R:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Q={};function G(R,P,et){this.props=R,this.context=P,this.refs=Q,this.updater=et||Y}G.prototype.isReactComponent={},G.prototype.setState=function(R,P){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,P,"setState")},G.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function lt(){}lt.prototype=G.prototype;function W(R,P,et){this.props=R,this.context=P,this.refs=Q,this.updater=et||Y}var mt=W.prototype=new lt;mt.constructor=W,J(mt,G.prototype),mt.isPureReactComponent=!0;var vt=Array.isArray;function gt(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(R,P,et){var rt=et.ref;return{$$typeof:r,type:R,key:P,ref:rt!==void 0?rt:null,props:et}}function x(R,P){return w(R.type,P,R.props)}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function L(R){var P={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(et){return P[et]})}var C=/\/+/g;function Ot(R,P){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):P.toString(36)}function ht(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(gt,gt):(R.status="pending",R.then(function(P){R.status==="pending"&&(R.status="fulfilled",R.value=P)},function(P){R.status==="pending"&&(R.status="rejected",R.reason=P)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function U(R,P,et,rt,st){var ot=typeof R;(ot==="undefined"||ot==="boolean")&&(R=null);var ft=!1;if(R===null)ft=!0;else switch(ot){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(R.$$typeof){case r:case e:ft=!0;break;case E:return ft=R._init,U(ft(R._payload),P,et,rt,st)}}if(ft)return st=st(R),ft=rt===""?"."+Ot(R,0):rt,vt(st)?(et="",ft!=null&&(et=ft.replace(C,"$&/")+"/"),U(st,P,et,"",function(Xt){return Xt})):st!=null&&(V(st)&&(st=x(st,et+(st.key==null||R&&R.key===st.key?"":(""+st.key).replace(C,"$&/")+"/")+ft)),P.push(st)),1;ft=0;var Et=rt===""?".":rt+":";if(vt(R))for(var At=0;At<R.length;At++)rt=R[At],ot=Et+Ot(rt,At),ft+=U(rt,P,et,ot,st);else if(At=B(R),typeof At=="function")for(R=At.call(R),At=0;!(rt=R.next()).done;)rt=rt.value,ot=Et+Ot(rt,At++),ft+=U(rt,P,et,ot,st);else if(ot==="object"){if(typeof R.then=="function")return U(ht(R),P,et,rt,st);throw P=String(R),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ft}function K(R,P,et){if(R==null)return R;var rt=[],st=0;return U(R,rt,"","",function(ot){return P.call(et,ot,st++)}),rt}function ut(R){if(R._status===-1){var P=R._result;P=P(),P.then(function(et){(R._status===0||R._status===-1)&&(R._status=1,R._result=et)},function(et){(R._status===0||R._status===-1)&&(R._status=2,R._result=et)}),R._status===-1&&(R._status=0,R._result=P)}if(R._status===1)return R._result.default;throw R._result}var pt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ct={map:K,forEach:function(R,P,et){K(R,function(){P.apply(this,arguments)},et)},count:function(R){var P=0;return K(R,function(){P++}),P},toArray:function(R){return K(R,function(P){return P})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Nt.Activity=S,Nt.Children=ct,Nt.Component=G,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=W,Nt.StrictMode=s,Nt.Suspense=g,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},Nt.cache=function(R){return function(){return R.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(R,P,et){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var rt=J({},R.props),st=R.key;if(P!=null)for(ot in P.key!==void 0&&(st=""+P.key),P)!b.call(P,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&P.ref===void 0||(rt[ot]=P[ot]);var ot=arguments.length-2;if(ot===1)rt.children=et;else if(1<ot){for(var ft=Array(ot),Et=0;Et<ot;Et++)ft[Et]=arguments[Et+2];rt.children=ft}return w(R.type,st,rt)},Nt.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Nt.createElement=function(R,P,et){var rt,st={},ot=null;if(P!=null)for(rt in P.key!==void 0&&(ot=""+P.key),P)b.call(P,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(st[rt]=P[rt]);var ft=arguments.length-2;if(ft===1)st.children=et;else if(1<ft){for(var Et=Array(ft),At=0;At<ft;At++)Et[At]=arguments[At+2];st.children=Et}if(R&&R.defaultProps)for(rt in ft=R.defaultProps,ft)st[rt]===void 0&&(st[rt]=ft[rt]);return w(R,ot,st)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(R){return{$$typeof:p,render:R}},Nt.isValidElement=V,Nt.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:ut}},Nt.memo=function(R,P){return{$$typeof:y,type:R,compare:P===void 0?null:P}},Nt.startTransition=function(R){var P=N.T,et={};N.T=et;try{var rt=R(),st=N.S;st!==null&&st(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(gt,pt)}catch(ot){pt(ot)}finally{P!==null&&et.types!==null&&(P.types=et.types),N.T=P}},Nt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Nt.use=function(R){return N.H.use(R)},Nt.useActionState=function(R,P,et){return N.H.useActionState(R,P,et)},Nt.useCallback=function(R,P){return N.H.useCallback(R,P)},Nt.useContext=function(R){return N.H.useContext(R)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(R,P){return N.H.useDeferredValue(R,P)},Nt.useEffect=function(R,P){return N.H.useEffect(R,P)},Nt.useEffectEvent=function(R){return N.H.useEffectEvent(R)},Nt.useId=function(){return N.H.useId()},Nt.useImperativeHandle=function(R,P,et){return N.H.useImperativeHandle(R,P,et)},Nt.useInsertionEffect=function(R,P){return N.H.useInsertionEffect(R,P)},Nt.useLayoutEffect=function(R,P){return N.H.useLayoutEffect(R,P)},Nt.useMemo=function(R,P){return N.H.useMemo(R,P)},Nt.useOptimistic=function(R,P){return N.H.useOptimistic(R,P)},Nt.useReducer=function(R,P,et){return N.H.useReducer(R,P,et)},Nt.useRef=function(R){return N.H.useRef(R)},Nt.useState=function(R){return N.H.useState(R)},Nt.useSyncExternalStore=function(R,P,et){return N.H.useSyncExternalStore(R,P,et)},Nt.useTransition=function(){return N.H.useTransition()},Nt.version="19.2.3",Nt}var l_;function Qd(){return l_||(l_=1,rd.exports=_1()),rd.exports}var j=Qd(),sd={exports:{}},Zl={},ld={exports:{}},od={};var o_;function v1(){return o_||(o_=1,(function(r){function e(U,K){var ut=U.length;U.push(K);t:for(;0<ut;){var pt=ut-1>>>1,ct=U[pt];if(0<o(ct,K))U[pt]=K,U[ut]=ct,ut=pt;else break t}}function i(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var K=U[0],ut=U.pop();if(ut!==K){U[0]=ut;t:for(var pt=0,ct=U.length,R=ct>>>1;pt<R;){var P=2*(pt+1)-1,et=U[P],rt=P+1,st=U[rt];if(0>o(et,ut))rt<ct&&0>o(st,et)?(U[pt]=st,U[rt]=ut,pt=rt):(U[pt]=et,U[P]=ut,pt=P);else if(rt<ct&&0>o(st,ut))U[pt]=st,U[rt]=ut,pt=rt;else break t}}return K}function o(U,K){var ut=U.sortIndex-K.sortIndex;return ut!==0?ut:U.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,S=null,D=3,B=!1,Y=!1,J=!1,Q=!1,G=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function mt(U){for(var K=i(y);K!==null;){if(K.callback===null)s(y);else if(K.startTime<=U)s(y),K.sortIndex=K.expirationTime,e(g,K);else break;K=i(y)}}function vt(U){if(J=!1,mt(U),!Y)if(i(g)!==null)Y=!0,gt||(gt=!0,L());else{var K=i(y);K!==null&&ht(vt,K.startTime-U)}}var gt=!1,N=-1,b=5,w=-1;function x(){return Q?!0:!(r.unstable_now()-w<b)}function V(){if(Q=!1,gt){var U=r.unstable_now();w=U;var K=!0;try{t:{Y=!1,J&&(J=!1,lt(N),N=-1),B=!0;var ut=D;try{e:{for(mt(U),S=i(g);S!==null&&!(S.expirationTime>U&&x());){var pt=S.callback;if(typeof pt=="function"){S.callback=null,D=S.priorityLevel;var ct=pt(S.expirationTime<=U);if(U=r.unstable_now(),typeof ct=="function"){S.callback=ct,mt(U),K=!0;break e}S===i(g)&&s(g),mt(U)}else s(g);S=i(g)}if(S!==null)K=!0;else{var R=i(y);R!==null&&ht(vt,R.startTime-U),K=!1}}break t}finally{S=null,D=ut,B=!1}K=void 0}}finally{K?L():gt=!1}}}var L;if(typeof W=="function")L=function(){W(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ot=C.port2;C.port1.onmessage=V,L=function(){Ot.postMessage(null)}}else L=function(){G(V,0)};function ht(U,K){N=G(function(){U(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(U){switch(D){case 1:case 2:case 3:var K=3;break;default:K=D}var ut=D;D=K;try{return U()}finally{D=ut}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ut=D;D=U;try{return K()}finally{D=ut}},r.unstable_scheduleCallback=function(U,K,ut){var pt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?pt+ut:pt):ut=pt,U){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=ut+ct,U={id:E++,callback:K,priorityLevel:U,startTime:ut,expirationTime:ct,sortIndex:-1},ut>pt?(U.sortIndex=ut,e(y,U),i(g)===null&&U===i(y)&&(J?(lt(N),N=-1):J=!0,ht(vt,ut-pt))):(U.sortIndex=ct,e(g,U),Y||B||(Y=!0,gt||(gt=!0,L()))),U},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(U){var K=D;return function(){var ut=D;D=K;try{return U.apply(this,arguments)}finally{D=ut}}}})(od)),od}var u_;function E1(){return u_||(u_=1,ld.exports=v1()),ld.exports}var ud={exports:{}},en={};var c_;function T1(){if(c_)return en;c_=1;var r=Qd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},en.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:B}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:D,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},en.requestFormReset=function(g){s.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var h_;function S1(){if(h_)return ud.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ud.exports=T1(),ud.exports}var f_;function A1(){if(f_)return Zl;f_=1;var r=E1(),e=Qd(),i=S1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),W=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case G:return"Profiler";case Q:return"StrictMode";case vt:return"Suspense";case gt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case W:return t.displayName||"Context";case lt:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ot(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Ot(t(n))}catch{}}return null}var ht=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},pt=[],ct=-1;function R(t){return{current:t}}function P(t){0>ct||(t.current=pt[ct],pt[ct]=null,ct--)}function et(t,n){ct++,pt[ct]=t.current,t.current=n}var rt=R(null),st=R(null),ot=R(null),ft=R(null);function Et(t,n){switch(et(ot,n),et(st,t),et(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cy(n),t=Dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(rt),et(rt,t)}function At(){P(rt),P(st),P(ot)}function Xt(t){t.memoizedState!==null&&et(ft,t);var n=rt.current,a=Dy(n,t.type);n!==a&&(et(st,t),et(rt,a))}function se(t){st.current===t&&(P(rt),P(st)),ft.current===t&&(P(ft),Ql._currentValue=ut)}var Ue,ra;function Qt(t){if(Ue===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ue=n&&n[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+t+ra}var ye=!1;function tr(t,n){if(!t||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch($){var F=$}Reflect.construct(t,[],it)}else{try{it.call()}catch($){F=$}t.call(it.prototype)}}else{try{throw Error()}catch($){F=$}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var I=_.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qt(a):""}function Ys(t,n){switch(t.tag){case 26:case 27:case 5:return Qt(t.type);case 16:return Qt("Lazy");case 13:return t.child!==n&&n!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return tr(t.type,!1);case 11:return tr(t.type.render,!1);case 1:return tr(t.type,!0);case 31:return Qt("Activity");default:return""}}function Ks(t){try{var n="",a=null;do n+=Ys(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,ze=r.unstable_scheduleCallback,sa=r.unstable_cancelCallback,rh=r.unstable_shouldYield,xo=r.unstable_requestPaint,sn=r.unstable_now,er=r.unstable_getCurrentPriorityLevel,Xs=r.unstable_ImmediatePriority,$s=r.unstable_UserBlockingPriority,la=r.unstable_NormalPriority,sh=r.unstable_LowPriority,Mo=r.unstable_IdlePriority,Oo=r.log,Lo=r.unstable_setDisableYieldValue,Hn=null,Qe=null;function Dn(t){if(typeof Oo=="function"&&Lo(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Hn,t)}catch{}}var _e=Math.clz32?Math.clz32:zo,Uo=Math.log,Pr=Math.LN2;function zo(t){return t>>>=0,t===0?32:31-(Uo(t)/Pr|0)|0}var ii=256,nr=262144,be=4194304;function ai(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ai(l):(_&=T,_!==0?h=ai(_):a||(a=T&~t,a!==0&&(h=ai(a))))):(T=l&~f,T!==0?h=ai(T):_!==0?h=ai(_):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Gn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ir(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oh(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-_e(a),it=1<<Z;T[Z]=0,I[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var $=F[Z];$!==null&&($.lane&=-536870913)}a&=~it}l!==0&&ar(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function ar(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Zs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-_e(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Js(t,n){var a=n&-n;return a=(a&42)!==0?1:rr(a),(a&(t.suspendedLanes|n))!==0?0:a}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function jo(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Zy(t.type))}function Fn(t,n){var a=K.p;try{return K.p=t,n()}finally{K.p=a}}var Qn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Qn,ke="__reactProps$"+Qn,li="__reactContainer$"+Qn,jr="__reactEvents$"+Qn,uh="__reactListeners$"+Qn,Bo="__reactHandles$"+Qn,ko="__reactResources$"+Qn,oi="__reactMarker$"+Qn;function Br(t){delete t[Re],delete t[ke],delete t[jr],delete t[uh],delete t[Bo]}function ui(t){var n=t[Re];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[Re]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ly(t);t!==null;){if(a=t[Re])return a;t=Ly(t)}return n}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[Re]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ci(t){var n=t[ko];return n||(n=t[ko]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(t){t[oi]=!0}var Ws=new Set,tl={};function hi(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(tl[t]=n,t=0;t<n.length;t++)Ws.add(n[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function qo(t){return Ae.call(il,t)?!0:Ae.call(nl,t)?!1:el.test(t)?il[t]=!0:(nl[t]=!0,!1)}function kr(t,n,a){if(qo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function vn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ce(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function al(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Zt(t){if(!t._valueTracker){var n=oa(t)?"checked":"value";t._valueTracker=al(t,n,""+t[n])}}function sr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=oa(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lr=/[\n"\\]/g;function un(t){return t.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qr(t,n,a,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qe(n)):t.value!==""+qe(n)&&(t.value=""+qe(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?rl(t,_,qe(n)):a!=null?rl(t,_,qe(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+qe(T):t.removeAttribute("name")}function Ho(t,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(t);return}a=a!=null?""+qe(a):"",n=n!=null?""+qe(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Zt(t)}function rl(t,n,a){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ua(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Go(t,n,a){if(n!=null&&(n=""+qe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+qe(a):""}function ca(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=qe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Zt(t)}function cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Fo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Fo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ll(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&sl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&sl(t,f,n[f])}function Hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ha=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(t){return ha.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var ol=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,mi=null;function or(t){var n=Nn(t);if(n&&(t=n.stateNode)){var a=t[ke]||null;t:switch(t=n.stateNode,n.type){case"input":if(qr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ke]||null;if(!h)throw Error(s(90));qr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&sr(l)}break t;case"textarea":Go(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ua(t,!!a.multiple,n,!1)}}}var Fr=!1;function da(t,n,a){if(Fr)return t(n,a);Fr=!0;try{var l=t(n);return l}finally{if(Fr=!1,(fa!==null||mi!==null)&&(ju(),fa&&(n=fa,t=mi,mi=fa=null,or(n),t)))for(n=0;n<t.length;n++)or(t[n])}}function Kn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(Vn)try{var te={};Object.defineProperty(te,"passive",{get:function(){ur=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{ur=!1}var pi=null,ul=null,cr=null;function cl(){if(cr)return cr;var t,n=ul,a=n.length,l,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return cr=h.slice(t,1<l?1-l:void 0)}function hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Xn(){return!1}function Ye(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Xn,this.isPropagationStopped=Xn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Ye(Mi),ma=S({},Mi,{view:0,detail:0}),hl=Ye(ma),pa,Qr,yi,Yr=S({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(pa=t.screenX-yi.screenX,Qr=t.screenY-yi.screenY):Qr=pa=0,yi=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:Qr}}),fl=Ye(Yr),fr=S({},Yr,{dataTransfer:0}),Yo=Ye(fr),Ko=S({},ma,{relatedTarget:0}),dr=Ye(Ko),dl=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=Ye(dl),Kr=S({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$o=Ye(Kr),Zo=S({},Mi,{data:0}),_i=Ye(Zo),Jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=tu[t])?!!n[t]:!1}function ga(){return eu}var ln=S({},ma,{key:function(t){if(t.key){var n=Jo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nu=Ye(ln),iu=S({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Ye(iu),u=S({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),m=Ye(u),v=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ye(v),k=S({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Ye(k),dt=S({},Mi,{newState:0,oldState:0}),Vt=Ye(dt),ve=[9,13,27,32],Yt=Vn&&"CompositionEvent"in window,he=null;Vn&&"documentMode"in document&&(he=document.documentMode);var xn=Vn&&"TextEvent"in window&&!he,vi=Vn&&(!Yt||he&&8<he&&11>=he),$n=" ",Zn=!1;function mr(t,n){switch(t){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $r=!1;function B0(t,n){switch(t){case"compositionend":return Xr(n);case"keypress":return n.which!==32?null:(Zn=!0,$n);case"textInput":return t=n.data,t===$n&&Zn?null:t;default:return null}}function k0(t,n){if($r)return t==="compositionend"||!Yt&&mr(t,n)?(t=cl(),cr=ul=pi=null,$r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!q0[t.type]:n==="textarea"}function jm(t,n,a,l){fa?mi?mi.push(l):mi=[l]:fa=l,n=Qu(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ml=null,pl=null;function H0(t){Ty(t,0)}function au(t){var n=_n(t);if(sr(n))return t}function Bm(t,n){if(t==="change")return n}var km=!1;if(Vn){var ch;if(Vn){var hh="oninput"in document;if(!hh){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),hh=typeof qm.oninput=="function"}ch=hh}else ch=!1;km=ch&&(!document.documentMode||9<document.documentMode)}function Hm(){ml&&(ml.detachEvent("onpropertychange",Gm),pl=ml=null)}function Gm(t){if(t.propertyName==="value"&&au(pl)){var n=[];jm(n,pl,t,In(t)),da(H0,n)}}function G0(t,n,a){t==="focusin"?(Hm(),ml=n,pl=a,ml.attachEvent("onpropertychange",Gm)):t==="focusout"&&Hm()}function F0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(pl)}function Q0(t,n){if(t==="click")return au(n)}function Y0(t,n){if(t==="input"||t==="change")return au(n)}function K0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:K0;function gl(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ae.call(n,h)||!En(t[h],n[h]))return!1}return!0}function Fm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qm(t,n){var a=Fm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fm(a)}}function Ym(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ym(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Km(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=di(t.document)}return n}function fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var X0=Vn&&"documentMode"in document&&11>=document.documentMode,Zr=null,dh=null,yl=null,mh=!1;function Xm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mh||Zr==null||Zr!==di(l)||(l=Zr,"selectionStart"in l&&fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=Qu(dh,"onSelect"),0<l.length&&(n=new gi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Zr)))}function pr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Jr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},ph={},$m={};Vn&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function gr(t){if(ph[t])return ph[t];if(!Jr[t])return t;var n=Jr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $m)return ph[t]=n[a];return t}var Zm=gr("animationend"),Jm=gr("animationiteration"),Wm=gr("animationstart"),$0=gr("transitionrun"),Z0=gr("transitionstart"),J0=gr("transitioncancel"),tp=gr("transitionend"),ep=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function Jn(t,n){ep.set(t,n),hi(n,[t])}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Wr=0,yh=0;function su(){for(var t=Wr,n=yh=Wr=0;n<t;){var a=Mn[n];Mn[n++]=null;var l=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&np(a,h,f)}}function lu(t,n,a,l){Mn[Wr++]=t,Mn[Wr++]=n,Mn[Wr++]=a,Mn[Wr++]=l,yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _h(t,n,a,l){return lu(t,n,a,l),ou(t)}function yr(t,n){return lu(t,null,null,n),ou(t)}function np(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_e(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function ou(t){if(50<jl)throw jl=0,Df=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ts={};function W0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,n,a,l){return new W0(t,n,a,l)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,n){var a=t.alternate;return a===null?(a=Tn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ip(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function uu(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")vh(t)&&(_=1);else if(typeof t=="string")_=a1(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Tn(31,a,n,h),t.elementType=w,t.lanes=f,t;case J:return _r(a.children,h,f,n);case Q:_=8,h|=24;break;case G:return t=Tn(12,a,n,h|2),t.elementType=G,t.lanes=f,t;case vt:return t=Tn(13,a,n,h),t.elementType=vt,t.lanes=f,t;case gt:return t=Tn(19,a,n,h),t.elementType=gt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:_=10;break t;case lt:_=9;break t;case mt:_=11;break t;case N:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Tn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function _r(t,n,a,l){return t=Tn(7,t,l,n),t.lanes=a,t}function Eh(t,n,a){return t=Tn(6,t,null,n),t.lanes=a,t}function ap(t){var n=Tn(18,null,null,0);return n.stateNode=t,n}function Th(t,n,a){return n=Tn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var rp=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var a=rp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ks(n)},rp.set(t,n),n)}return{value:t,source:n,stack:Ks(n)}}var es=[],ns=0,cu=null,_l=0,Ln=[],Un=0,ya=null,Ei=1,Ti="";function Ui(t,n){es[ns++]=_l,es[ns++]=cu,cu=t,_l=n}function sp(t,n,a){Ln[Un++]=Ei,Ln[Un++]=Ti,Ln[Un++]=ya,ya=t;var l=Ei;t=Ti;var h=32-_e(l)-1;l&=~(1<<h),a+=1;var f=32-_e(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ei=1<<32-_e(n)+h|a<<h|l,Ti=f+t}else Ei=1<<f|a<<h|l,Ti=t}function Sh(t){t.return!==null&&(Ui(t,1),sp(t,1,0))}function Ah(t){for(;t===cu;)cu=es[--ns],es[ns]=null,_l=es[--ns],es[ns]=null;for(;t===ya;)ya=Ln[--Un],Ln[Un]=null,Ti=Ln[--Un],Ln[Un]=null,Ei=Ln[--Un],Ln[Un]=null}function lp(t,n){Ln[Un++]=Ei,Ln[Un++]=Ti,Ln[Un++]=ya,Ei=n.id,Ti=n.overflow,ya=t}var Ke=null,oe=null,kt=!1,_a=null,zn=!1,bh=Error(s(519));function va(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(On(n,t)),bh}function op(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Re]=t,n[ke]=l,a){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(a=0;a<kl.length;a++)Ut(kl[a],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),Ho(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),ca(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ry(n.textContent,a)?(l.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),l.onScroll!=null&&Ut("scroll",n),l.onScrollEnd!=null&&Ut("scrollend",n),l.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||va(t,!0)}function up(t){for(Ke=t.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function is(t){if(t!==Ke)return!1;if(!kt)return up(t),kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&oe&&va(t),up(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));oe=Oy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));oe=Oy(t)}else n===27?(n=oe,Ma(t.type)?(t=Kf,Kf=null,oe=t):oe=n):oe=Ke?jn(t.stateNode.nextSibling):null;return!0}function vr(){oe=Ke=null,kt=!1}function Rh(){var t=_a;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),_a=null),t}function vl(t){_a===null?_a=[t]:_a.push(t)}var wh=R(null),Er=null,zi=null;function Ea(t,n,a){et(wh,n._currentValue),n._currentValue=a}function Pi(t){t._currentValue=wh.current,P(wh)}function Ch(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Dh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Ch(f.return,a,t),l||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Ch(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function as(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ft.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}h=h.return}t!==null&&Dh(n,t,a,l),n.flags|=262144}function hu(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tr(t){Er=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xe(t){return cp(Er,t)}function fu(t,n){return Er===null&&Tr(t),cp(t,n)}function cp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return a}var tT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},eT=r.unstable_scheduleCallback,nT=r.unstable_NormalPriority,De={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new tT,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&eT(nT,function(){t.controller.abort()})}var Tl=null,Ih=0,rs=0,ss=null;function iT(t,n){if(Tl===null){var a=Tl=[];Ih=0,rs=Of(),ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ih++,n.then(hp,hp),n}function hp(){if(--Ih===0&&Tl!==null){ss!==null&&(ss.status="fulfilled");var t=Tl;Tl=null,rs=0,ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function aT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=U.S;U.S=function(t,n){Xg=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&iT(t,n),fp!==null&&fp(t,n)};var Sr=R(null);function Vh(){var t=Sr.current;return t!==null?t:ae.pooledCache}function du(t,n){n===null?et(Sr,Sr.current):et(Sr,n.pool)}function dp(){var t=Vh();return t===null?null:{parent:De._currentValue,pool:t}}var ls=Error(s(460)),xh=Error(s(474)),mu=Error(s(542)),pu={then:function(){}};function mp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Yn,Yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yp(t),t;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,yp(t),t}throw br=n,ls}}function Ar(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(br=a,ls):a}}var br=null;function gp(){if(br===null)throw Error(s(459));var t=br;return br=null,t}function yp(t){if(t===ls||t===mu)throw Error(s(483))}var os=null,Sl=0;function gu(t){var n=Sl;return Sl+=1,os===null&&(os=[]),pp(os,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function yu(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _p(t){function n(z,O){if(t){var q=z.deletions;q===null?(z.deletions=[O],z.flags|=16):q.push(O)}}function a(z,O){if(!t)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function l(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=Li(z,O),z.index=0,z.sibling=null,z}function f(z,O,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<O?(z.flags|=67108866,O):q):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,O,q,tt){return O===null||O.tag!==6?(O=Eh(q,z.mode,tt),O.return=z,O):(O=h(O,q),O.return=z,O)}function I(z,O,q,tt){var bt=q.type;return bt===J?Z(z,O,q.props.children,tt,q.key):O!==null&&(O.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===b&&Ar(bt)===O.type)?(O=h(O,q.props),Al(O,q),O.return=z,O):(O=uu(q.type,q.key,q.props,null,z.mode,tt),Al(O,q),O.return=z,O)}function H(z,O,q,tt){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Th(q,z.mode,tt),O.return=z,O):(O=h(O,q.children||[]),O.return=z,O)}function Z(z,O,q,tt,bt){return O===null||O.tag!==7?(O=_r(q,z.mode,tt,bt),O.return=z,O):(O=h(O,q),O.return=z,O)}function it(z,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Eh(""+O,z.mode,q),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return q=uu(O.type,O.key,O.props,null,z.mode,q),Al(q,O),q.return=z,q;case Y:return O=Th(O,z.mode,q),O.return=z,O;case b:return O=Ar(O),it(z,O,q)}if(ht(O)||L(O))return O=_r(O,z.mode,q,null),O.return=z,O;if(typeof O.then=="function")return it(z,gu(O),q);if(O.$$typeof===W)return it(z,fu(z,O),q);yu(z,O)}return null}function F(z,O,q,tt){var bt=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return bt!==null?null:T(z,O,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return q.key===bt?I(z,O,q,tt):null;case Y:return q.key===bt?H(z,O,q,tt):null;case b:return q=Ar(q),F(z,O,q,tt)}if(ht(q)||L(q))return bt!==null?null:Z(z,O,q,tt,null);if(typeof q.then=="function")return F(z,O,gu(q),tt);if(q.$$typeof===W)return F(z,O,fu(z,q),tt);yu(z,q)}return null}function $(z,O,q,tt,bt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(q)||null,T(O,z,""+tt,bt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case B:return z=z.get(tt.key===null?q:tt.key)||null,I(O,z,tt,bt);case Y:return z=z.get(tt.key===null?q:tt.key)||null,H(O,z,tt,bt);case b:return tt=Ar(tt),$(z,O,q,tt,bt)}if(ht(tt)||L(tt))return z=z.get(q)||null,Z(O,z,tt,bt,null);if(typeof tt.then=="function")return $(z,O,q,gu(tt),bt);if(tt.$$typeof===W)return $(z,O,q,fu(O,tt),bt);yu(O,tt)}return null}function Tt(z,O,q,tt){for(var bt=null,Gt=null,St=O,Mt=O=0,Pt=null;St!==null&&Mt<q.length;Mt++){St.index>Mt?(Pt=St,St=null):Pt=St.sibling;var Ft=F(z,St,q[Mt],tt);if(Ft===null){St===null&&(St=Pt);break}t&&St&&Ft.alternate===null&&n(z,St),O=f(Ft,O,Mt),Gt===null?bt=Ft:Gt.sibling=Ft,Gt=Ft,St=Pt}if(Mt===q.length)return a(z,St),kt&&Ui(z,Mt),bt;if(St===null){for(;Mt<q.length;Mt++)St=it(z,q[Mt],tt),St!==null&&(O=f(St,O,Mt),Gt===null?bt=St:Gt.sibling=St,Gt=St);return kt&&Ui(z,Mt),bt}for(St=l(St);Mt<q.length;Mt++)Pt=$(St,z,Mt,q[Mt],tt),Pt!==null&&(t&&Pt.alternate!==null&&St.delete(Pt.key===null?Mt:Pt.key),O=f(Pt,O,Mt),Gt===null?bt=Pt:Gt.sibling=Pt,Gt=Pt);return t&&St.forEach(function(Pa){return n(z,Pa)}),kt&&Ui(z,Mt),bt}function wt(z,O,q,tt){if(q==null)throw Error(s(151));for(var bt=null,Gt=null,St=O,Mt=O=0,Pt=null,Ft=q.next();St!==null&&!Ft.done;Mt++,Ft=q.next()){St.index>Mt?(Pt=St,St=null):Pt=St.sibling;var Pa=F(z,St,Ft.value,tt);if(Pa===null){St===null&&(St=Pt);break}t&&St&&Pa.alternate===null&&n(z,St),O=f(Pa,O,Mt),Gt===null?bt=Pa:Gt.sibling=Pa,Gt=Pa,St=Pt}if(Ft.done)return a(z,St),kt&&Ui(z,Mt),bt;if(St===null){for(;!Ft.done;Mt++,Ft=q.next())Ft=it(z,Ft.value,tt),Ft!==null&&(O=f(Ft,O,Mt),Gt===null?bt=Ft:Gt.sibling=Ft,Gt=Ft);return kt&&Ui(z,Mt),bt}for(St=l(St);!Ft.done;Mt++,Ft=q.next())Ft=$(St,z,Mt,Ft.value,tt),Ft!==null&&(t&&Ft.alternate!==null&&St.delete(Ft.key===null?Mt:Ft.key),O=f(Ft,O,Mt),Gt===null?bt=Ft:Gt.sibling=Ft,Gt=Ft);return t&&St.forEach(function(p1){return n(z,p1)}),kt&&Ui(z,Mt),bt}function ie(z,O,q,tt){if(typeof q=="object"&&q!==null&&q.type===J&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case B:t:{for(var bt=q.key;O!==null;){if(O.key===bt){if(bt=q.type,bt===J){if(O.tag===7){a(z,O.sibling),tt=h(O,q.props.children),tt.return=z,z=tt;break t}}else if(O.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===b&&Ar(bt)===O.type){a(z,O.sibling),tt=h(O,q.props),Al(tt,q),tt.return=z,z=tt;break t}a(z,O);break}else n(z,O);O=O.sibling}q.type===J?(tt=_r(q.props.children,z.mode,tt,q.key),tt.return=z,z=tt):(tt=uu(q.type,q.key,q.props,null,z.mode,tt),Al(tt,q),tt.return=z,z=tt)}return _(z);case Y:t:{for(bt=q.key;O!==null;){if(O.key===bt)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){a(z,O.sibling),tt=h(O,q.children||[]),tt.return=z,z=tt;break t}else{a(z,O);break}else n(z,O);O=O.sibling}tt=Th(q,z.mode,tt),tt.return=z,z=tt}return _(z);case b:return q=Ar(q),ie(z,O,q,tt)}if(ht(q))return Tt(z,O,q,tt);if(L(q)){if(bt=L(q),typeof bt!="function")throw Error(s(150));return q=bt.call(q),wt(z,O,q,tt)}if(typeof q.then=="function")return ie(z,O,gu(q),tt);if(q.$$typeof===W)return ie(z,O,fu(z,q),tt);yu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(a(z,O.sibling),tt=h(O,q),tt.return=z,z=tt):(a(z,O),tt=Eh(q,z.mode,tt),tt.return=z,z=tt),_(z)):a(z,O)}return function(z,O,q,tt){try{Sl=0;var bt=ie(z,O,q,tt);return os=null,bt}catch(St){if(St===ls||St===mu)throw St;var Gt=Tn(29,St,null,z.mode);return Gt.lanes=tt,Gt.return=z,Gt}}}var Rr=_p(!0),vp=_p(!1),Ta=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ou(t),np(t,null,a),n}return lu(t,l,n,a),ou(t)}function bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zs(t,a)}}function Lh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Uh=!1;function Rl(){if(Uh){var t=ss;if(t!==null)throw t}}function wl(t,n,a,l){Uh=!1;var h=t.updateQueue;Ta=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,_===null?f=H:_.next=H,_=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=I))}if(f!==null){var it=h.baseState;_=0,Z=H=I=null,T=f;do{var F=T.lane&-536870913,$=F!==T.lane;if($?(zt&F)===F:(l&F)===F){F!==0&&F===rs&&(Uh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=t,wt=T;F=n;var ie=a;switch(wt.tag){case 1:if(Tt=wt.payload,typeof Tt=="function"){it=Tt.call(ie,it,F);break t}it=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=wt.payload,F=typeof Tt=="function"?Tt.call(ie,it,F):Tt,F==null)break t;it=S({},it,F);break t;case 2:Ta=!0}}F=T.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[F]:$.push(F))}else $={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=$,I=it):Z=Z.next=$,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(I=it),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),Da|=_,t.lanes=_,t.memoizedState=it}}function Ep(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Tp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ep(a[t],n)}var us=R(null),_u=R(0);function Sp(t,n){t=Yi,et(_u,t),et(us,n),Yi=t|n.baseLanes}function zh(){et(_u,Yi),et(us,us.current)}function Ph(){Yi=_u.current,P(us),P(_u)}var Sn=R(null),Pn=null;function ba(t){var n=t.alternate;et(Ee,Ee.current&1),et(Sn,t),Pn===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(Pn=t)}function jh(t){et(Ee,Ee.current),et(Sn,t),Pn===null&&(Pn=t)}function Ap(t){t.tag===22?(et(Ee,Ee.current),et(Sn,t),Pn===null&&(Pn=t)):Ra()}function Ra(){et(Ee,Ee.current),et(Sn,Sn.current)}function An(t){P(Sn),Pn===t&&(Pn=null),P(Ee)}var Ee=R(0);function vu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qf(a)||Yf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,xt=null,ee=null,Ne=null,Eu=!1,cs=!1,wr=!1,Tu=0,Cl=0,hs=null,rT=0;function pe(){throw Error(s(321))}function Bh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!En(t[a],n[a]))return!1;return!0}function kh(t,n,a,l,h,f){return ji=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?sg:nf,wr=!1,f=a(l,h),wr=!1,cs&&(f=Rp(n,a,l,h)),bp(t),f}function bp(t){U.H=Il;var n=ee!==null&&ee.next!==null;if(ji=0,Ne=ee=xt=null,Eu=!1,Cl=0,hs=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&hu(t)&&(Ie=!0))}function Rp(t,n,a,l){xt=t;var h=0;do{if(cs&&(hs=null),Cl=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,Ne=ee=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=lg,f=n(a,l)}while(cs);return f}function sT(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Dl(n):n,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(xt.flags|=1024),n}function qh(){var t=Tu!==0;return Tu=0,t}function Hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Gh(t){if(Eu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Eu=!1}ji=0,Ne=ee=xt=null,cs=!1,Cl=Tu=0,hs=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?xt.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Te(){if(ee===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var n=Ne===null?xt.memoizedState:Ne.next;if(n!==null)Ne=n,ee=t;else{if(t===null)throw xt.alternate===null?Error(s(467)):Error(s(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?xt.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var n=Cl;return Cl+=1,hs===null&&(hs=[]),t=pp(hs,t,n),n=xt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?sg:nf),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===W)return Xe(t)}throw Error(s(438,String(t)))}function Fh(t){var n=null,a=xt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Su(),xt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=x;return n.index++,a}function Bi(t,n){return typeof n=="function"?n(t):n}function bu(t){var n=Te();return Qh(n,ee,t)}function Qh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,I=null,H=n,Z=!1;do{var it=H.lane&-536870913;if(it!==H.lane?(zt&it)===it:(ji&it)===it){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),it===rs&&(Z=!0);else if((ji&F)===F){H=H.next,F===rs&&(Z=!0);continue}else it={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=it,_=f):I=I.next=it,xt.lanes|=F,Da|=F;it=H.action,wr&&a(f,it),f=H.hasEagerState?H.eagerState:a(f,it)}else F={lane:it,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,_=f):I=I.next=F,xt.lanes|=it,Da|=it;H=H.next}while(H!==null&&H!==n);if(I===null?_=f:I.next=T,!En(f,t.memoizedState)&&(Ie=!0,Z&&(a=ss,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yh(t){var n=Te(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);En(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function wp(t,n,a){var l=xt,h=Te(),f=kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!En((ee||h).memoizedState,a);if(_&&(h.memoizedState=a,Ie=!0),h=h.queue,$h(Np.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,fs(9,{destroy:void 0},Dp.bind(null,l,h,a,n),null),ae===null)throw Error(s(349));f||(ji&127)!==0||Cp(l,n,a)}return a}function Cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xt.updateQueue,n===null?(n=Su(),xt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Dp(t,n,a,l){n.value=a,n.getSnapshot=l,Ip(n)&&Vp(t)}function Np(t,n,a){return a(function(){Ip(n)&&Vp(t)})}function Ip(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!En(t,a)}catch{return!0}}function Vp(t){var n=yr(t,2);n!==null&&pn(n,t,2)}function Kh(t){var n=on();if(typeof t=="function"){var a=t;if(t=a(),wr){Dn(!0);try{a()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function xp(t,n,a,l){return t.baseState=a,Qh(t,ee,typeof l=="function"?l:Bi)}function lT(t,n,a,l,h){if(Cu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};U.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Mp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Mp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=U.T,_={};U.T=_;try{var T=a(h,l),I=U.S;I!==null&&I(_,T),Op(t,n,T)}catch(H){Xh(t,n,H)}finally{f!==null&&_.types!==null&&(f.types=_.types),U.T=f}}else try{f=a(h,l),Op(t,n,f)}catch(H){Xh(t,n,H)}}function Op(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lp(t,n,l)},function(l){return Xh(t,n,l)}):Lp(t,n,a)}function Lp(t,n,a){n.status="fulfilled",n.value=a,Up(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mp(t,a)))}function Xh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Up(n),n=n.next;while(n!==l)}t.action=null}function Up(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zp(t,n){return n}function Pp(t,n){if(kt){var a=ae.formState;if(a!==null){t:{var l=xt;if(kt){if(oe){e:{for(var h=oe,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=jn(h.nextSibling),l=h.data==="F!";break t}}va(l)}l=!1}l&&(n=a[0])}}return a=on(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:n},a.queue=l,a=ig.bind(null,xt,l),l.dispatch=a,l=Kh(!1),f=ef.bind(null,xt,!1,l.queue),l=on(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=lT.bind(null,xt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function jp(t){var n=Te();return Bp(n,ee,t)}function Bp(t,n,a){if(n=Qh(t,n,zp)[0],t=bu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(_){throw _===ls?mu:_}else l=n;n=Te();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xt.flags|=2048,fs(9,{destroy:void 0},oT.bind(null,h,a),null)),[l,f,t]}function oT(t,n){t.action=n}function kp(t){var n=Te(),a=ee;if(a!==null)return Bp(n,a,t);Te(),n=n.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function fs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Su(),xt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function qp(){return Te().memoizedState}function Ru(t,n,a,l){var h=on();xt.flags|=t,h.memoizedState=fs(1|n,{destroy:void 0},a,l===void 0?null:l)}function wu(t,n,a,l){var h=Te();l=l===void 0?null:l;var f=h.memoizedState.inst;ee!==null&&l!==null&&Bh(l,ee.memoizedState.deps)?h.memoizedState=fs(n,f,a,l):(xt.flags|=t,h.memoizedState=fs(1|n,f,a,l))}function Hp(t,n){Ru(8390656,8,t,n)}function $h(t,n){wu(2048,8,t,n)}function uT(t){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=Su(),xt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Gp(t){var n=Te().memoizedState;return uT({ref:n,nextImpl:t}),function(){if((Kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Fp(t,n){return wu(4,2,t,n)}function Qp(t,n){return wu(4,4,t,n)}function Yp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kp(t,n,a){a=a!=null?a.concat([t]):null,wu(4,4,Yp.bind(null,n,t),a)}function Zh(){}function Xp(t,n){var a=Te();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Bh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function $p(t,n){var a=Te();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Bh(n,l[1]))return l[0];if(l=t(),wr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,n],l}function Jh(t,n,a){return a===void 0||(ji&1073741824)!==0&&(zt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Zg(),xt.lanes|=t,Da|=t,a)}function Zp(t,n,a,l){return En(a,n)?a:us.current!==null?(t=Jh(t,a,l),En(t,n)||(Ie=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(zt&261930)===0?(Ie=!0,t.memoizedState=a):(t=Zg(),xt.lanes|=t,Da|=t,n)}function Jp(t,n,a,l,h){var f=K.p;K.p=f!==0&&8>f?f:8;var _=U.T,T={};U.T=T,ef(t,!1,n,a);try{var I=h(),H=U.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=aT(I,l);Nl(t,n,Z,wn(t))}else Nl(t,n,l,wn(t))}catch(it){Nl(t,n,{then:function(){},status:"rejected",reason:it},wn())}finally{K.p=f,_!==null&&T.types!==null&&(_.types=T.types),U.T=_}}function cT(){}function Wh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Wp(t).queue;Jp(t,h,n,ut,a===null?cT:function(){return tg(t),a(l)})}function Wp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wp(t);n.next===null&&(n=t.alternate.memoizedState),Nl(t,n.next.queue,{},wn())}function tf(){return Xe(Ql)}function eg(){return Te().memoizedState}function ng(){return Te().memoizedState}function hT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=Sa(a);var l=Aa(n,t,a);l!==null&&(pn(l,n,a),bl(l,n,a)),n={cache:Nh()},t.payload=n;return}n=n.return}}function fT(t,n,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(t)?ag(n,a):(a=_h(t,n,a,l),a!==null&&(pn(a,t,l),rg(a,n,l)))}function ig(t,n,a){var l=wn();Nl(t,n,a,l)}function Nl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(t))ag(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return lu(t,n,h,0),ae===null&&su(),!1}catch{}if(a=_h(t,n,h,l),a!==null)return pn(a,t,l),rg(a,n,l),!0}return!1}function ef(t,n,a,l){if(l={lane:2,revertLane:Of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cu(t)){if(n)throw Error(s(479))}else n=_h(t,a,l,2),n!==null&&pn(n,t,2)}function Cu(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function ag(t,n){cs=Eu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function rg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zs(t,a)}}var Il={readContext:Xe,use:Au,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Il.useEffectEvent=pe;var sg={readContext:Xe,use:Au,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:Xe,useEffect:Hp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ru(4194308,4,Yp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ru(4194308,4,t,n)},useInsertionEffect:function(t,n){Ru(4,2,t,n)},useMemo:function(t,n){var a=on();n=n===void 0?null:n;var l=t();if(wr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=on();if(a!==void 0){var h=a(n);if(wr){Dn(!0);try{a(n)}finally{Dn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=fT.bind(null,xt,t),[l.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=Kh(t);var n=t.queue,a=ig.bind(null,xt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Zh,useDeferredValue:function(t,n){var a=on();return Jh(a,t,n)},useTransition:function(){var t=Kh(!1);return t=Jp.bind(null,xt,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=xt,h=on();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ae===null)throw Error(s(349));(zt&127)!==0||Cp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Hp(Np.bind(null,l,f,t),[t]),l.flags|=2048,fs(9,{destroy:void 0},Dp.bind(null,l,f,a,n),null),a},useId:function(){var t=on(),n=ae.identifierPrefix;if(kt){var a=Ti,l=Ei;a=(l&~(1<<32-_e(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Tu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=rT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:tf,useFormState:Pp,useActionState:Pp,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ef.bind(null,xt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Fh,useCacheRefresh:function(){return on().memoizedState=hT.bind(null,xt)},useEffectEvent:function(t){var n=on(),a={impl:t};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},nf={readContext:Xe,use:Au,useCallback:Xp,useContext:Xe,useEffect:$h,useImperativeHandle:Kp,useInsertionEffect:Fp,useLayoutEffect:Qp,useMemo:$p,useReducer:bu,useRef:qp,useState:function(){return bu(Bi)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=Te();return Zp(a,ee.memoizedState,t,n)},useTransition:function(){var t=bu(Bi)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:wp,useId:eg,useHostTransitionStatus:tf,useFormState:jp,useActionState:jp,useOptimistic:function(t,n){var a=Te();return xp(a,ee,t,n)},useMemoCache:Fh,useCacheRefresh:ng};nf.useEffectEvent=Gp;var lg={readContext:Xe,use:Au,useCallback:Xp,useContext:Xe,useEffect:$h,useImperativeHandle:Kp,useInsertionEffect:Fp,useLayoutEffect:Qp,useMemo:$p,useReducer:Yh,useRef:qp,useState:function(){return Yh(Bi)},useDebugValue:Zh,useDeferredValue:function(t,n){var a=Te();return ee===null?Jh(a,t,n):Zp(a,ee.memoizedState,t,n)},useTransition:function(){var t=Yh(Bi)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:wp,useId:eg,useHostTransitionStatus:tf,useFormState:kp,useActionState:kp,useOptimistic:function(t,n){var a=Te();return ee!==null?xp(a,ee,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:ng};lg.useEffectEvent=Gp;function af(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=wn(),h=Sa(l);h.payload=n,a!=null&&(h.callback=a),n=Aa(t,h,l),n!==null&&(pn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=wn(),h=Sa(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Aa(t,h,l),n!==null&&(pn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),l=Sa(a);l.tag=2,n!=null&&(l.callback=n),n=Aa(t,l,a),n!==null&&(pn(n,t,a),bl(n,t,a))}};function og(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!gl(a,l)||!gl(h,f):!0}function ug(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&rf.enqueueReplaceState(n,n.state,null)}function Cr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function cg(t){ru(t)}function hg(t){console.error(t)}function fg(t){ru(t)}function Du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function dg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(t,n,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(t,n)},a}function mg(t){return t=Sa(t),t.tag=3,t}function pg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){dg(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){dg(n,a,l),typeof h!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function dT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&as(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Bu():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Vf(t,l,h)),!1;case 22:return a.flags|=65536,l===pu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Vf(t,l,h)),!1}throw Error(s(435,a.tag))}return Vf(t,l,h),Bu(),!1}if(kt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==bh&&(t=Error(s(422),{cause:l}),vl(On(t,a)))):(l!==bh&&(n=Error(s(423),{cause:l}),vl(On(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=sf(t.stateNode,l,h),Lh(t,h),ge!==4&&(ge=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),Pl===null?Pl=[f]:Pl.push(f),ge!==4&&(ge=2),n===null)return!0;l=On(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sf(a.stateNode,l,t),Lh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Na===null||!Na.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mg(h),pg(h,t,a,l),Lh(a,h),!1}a=a.return}while(a!==null);return!1}var lf=Error(s(461)),Ie=!1;function $e(t,n,a,l){n.child=t===null?vp(n,null,a,l):Rr(n,t.child,a,l)}function gg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Tr(n),l=kh(t,n,a,_,f,h),T=qh(),t!==null&&!Ie?(Hh(t,n,h),ki(t,n,h)):(kt&&T&&Sh(n),n.flags|=1,$e(t,n,l,h),n.child)}function yg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,_g(t,n,f,l,h)):(t=uu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!pf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(_,l)&&t.ref===n.ref)return ki(t,n,h)}return n.flags|=1,t=Li(f,l),t.ref=n.ref,t.return=n,n.child=t}function _g(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(gl(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,pf(t,h))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,ki(t,n,h)}return of(t,n,a,l,h)}function vg(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Eg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(n,f!==null?f.cachePool:null),f!==null?Sp(n,f):zh(),Ap(n);else return l=n.lanes=536870912,Eg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(du(n,f.cachePool),Sp(n,f),Ra(),n.memoizedState=null):(t!==null&&du(n,null),zh(),Ra());return $e(t,n,h,a),n.child}function Vl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Eg(t,n,a,l,h){var f=Vh();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&du(n,null),zh(),Ap(n),t!==null&&as(t,n,l,!0),n.childLanes=h,null}function Nu(t,n){return n=Vu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Tg(t,n,a){return Rr(n,t.child,null,a),t=Nu(n,n.pendingProps),t.flags|=2,An(n),n.memoizedState=null,t}function mT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(kt){if(l.mode==="hidden")return t=Nu(n,l),n.lanes=536870912,Vl(null,t);if(jh(n),(t=oe)?(t=My(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ya!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,Ke=n,oe=null)):t=null,t===null)throw va(n);return n.lanes=536870912,null}return Nu(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(jh(n),h)if(n.flags&256)n.flags&=-257,n=Tg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ie||as(t,n,a,!1),h=(a&t.childLanes)!==0,Ie||h){if(l=ae,l!==null&&(_=Js(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,yr(t,_),pn(l,t,_),lf;Bu(),n=Tg(t,n,a)}else t=f.treeContext,oe=jn(_.nextSibling),Ke=n,kt=!0,_a=null,zn=!1,t!==null&&lp(n,t),n=Nu(n,l),n.flags|=4096;return n}return t=Li(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Iu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function of(t,n,a,l,h){return Tr(n),a=kh(t,n,a,l,void 0,h),l=qh(),t!==null&&!Ie?(Hh(t,n,h),ki(t,n,h)):(kt&&l&&Sh(n),n.flags|=1,$e(t,n,a,h),n.child)}function Sg(t,n,a,l,h,f){return Tr(n),n.updateQueue=null,a=Rp(n,l,a,h),bp(t),l=qh(),t!==null&&!Ie?(Hh(t,n,f),ki(t,n,f)):(kt&&l&&Sh(n),n.flags|=1,$e(t,n,a,f),n.child)}function Ag(t,n,a,l,h){if(Tr(n),n.stateNode===null){var f=ts,_=a.contextType;typeof _=="object"&&_!==null&&(f=Xe(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Mh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Xe(_):ts,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(af(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rf.enqueueReplaceState(f,f.state,null),wl(n,l,f,h),Rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=Cr(a,T);f.props=I;var H=f.context,Z=a.contextType;_=ts,typeof Z=="object"&&Z!==null&&(_=Xe(Z));var it=a.getDerivedStateFromProps;Z=typeof it=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==_)&&ug(n,f,l,_),Ta=!1;var F=n.memoizedState;f.state=F,wl(n,l,f,h),Rl(),H=n.memoizedState,T||F!==H||Ta?(typeof it=="function"&&(af(n,a,it,l),H=n.memoizedState),(I=Ta||og(n,a,I,l,F,H,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=_,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Oh(t,n),_=n.memoizedProps,Z=Cr(a,_),f.props=Z,it=n.pendingProps,F=f.context,H=a.contextType,I=ts,typeof H=="object"&&H!==null&&(I=Xe(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==it||F!==I)&&ug(n,f,l,I),Ta=!1,F=n.memoizedState,f.state=F,wl(n,l,f,h),Rl();var $=n.memoizedState;_!==it||F!==$||Ta||t!==null&&t.dependencies!==null&&hu(t.dependencies)?(typeof T=="function"&&(af(n,a,T,l),$=n.memoizedState),(Z=Ta||og(n,a,Z,l,F,$,I)||t!==null&&t.dependencies!==null&&hu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),f.props=l,f.state=$,f.context=I,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Iu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Rr(n,t.child,null,h),n.child=Rr(n,null,a,h)):$e(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ki(t,n,h),t}function bg(t,n,a,l){return vr(),n.flags|=256,$e(t,n,a,l),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(t){return{baseLanes:t,cachePool:dp()}}function hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function Rg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(h?ba(n):Ra(),(t=oe)?(t=My(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ya!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=ap(t),a.return=n,n.child=a,Ke=n,oe=null)):t=null,t===null)throw va(n);return Yf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ra(),h=n.mode,T=Vu({mode:"hidden",children:T},h),l=_r(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=cf(a),l.childLanes=hf(t,_,a),n.memoizedState=uf,Vl(null,l)):(ba(n),ff(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(ba(n),n.flags&=-257,n=df(t,n,a)):n.memoizedState!==null?(Ra(),n.child=t.child,n.flags|=128,n=null):(Ra(),T=l.fallback,h=n.mode,l=Vu({mode:"visible",children:l.children},h),T=_r(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Rr(n,t.child,null,a),l=n.child,l.memoizedState=cf(a),l.childLanes=hf(t,_,a),n.memoizedState=uf,n=Vl(null,l));else if(ba(n),Yf(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),n=df(t,n,a)}else if(Ie||as(t,n,a,!1),_=(a&t.childLanes)!==0,Ie||_){if(_=ae,_!==null&&(l=Js(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,yr(t,l),pn(_,t,l),lf;Qf(T)||Bu(),n=df(t,n,a)}else Qf(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,oe=jn(T.nextSibling),Ke=n,kt=!0,_a=null,zn=!1,t!==null&&lp(n,t),n=ff(n,l.children),n.flags|=4096);return n}return h?(Ra(),T=l.fallback,h=n.mode,I=t.child,H=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=Li(H,T):(T=_r(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Vl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=cf(a):(h=T.cachePool,h!==null?(I=De._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=dp(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=hf(t,_,a),n.memoizedState=uf,Vl(t.child,l)):(ba(n),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function ff(t,n){return n=Vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Vu(t,n){return t=Tn(22,t,null,n),t.lanes=0,t}function df(t,n,a){return Rr(n,t.child,null,a),t=ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ch(t.return,n,a)}function mf(t,n,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Cg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=Ee.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,et(Ee,_),$e(t,n,l,a),l=kt?_l:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,a,n);else if(t.tag===19)wg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),mf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}mf(n,!0,a,null,f,l);break;case"together":mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ki(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(as(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Li(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&hu(t)))}function pT(t,n,a){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),Ea(n,De,t.memoizedState.cache),vr();break;case 27:case 5:Xt(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:Ea(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ba(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Rg(t,n,a):(ba(n),t=ki(t,n,a),t!==null?t.sibling:null);ba(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(as(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Cg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Ee,Ee.current),l)break;return null;case 22:return n.lanes=0,vg(t,n,a,n.pendingProps);case 24:Ea(n,De,t.memoizedState.cache)}return ki(t,n,a)}function Dg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!pf(t,a)&&(n.flags&128)===0)return Ie=!1,pT(t,n,a);Ie=(t.flags&131072)!==0}else Ie=!1,kt&&(n.flags&1048576)!==0&&sp(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ar(n.elementType),n.type=t,typeof t=="function")vh(t)?(l=Cr(t,l),n.tag=1,n=Ag(null,n,t,l,a)):(n.tag=0,n=of(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===mt){n.tag=11,n=gg(null,n,t,l,a);break t}else if(h===N){n.tag=14,n=yg(null,n,t,l,a);break t}}throw n=Ot(t)||t,Error(s(306,n,""))}}return n;case 0:return of(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Cr(l,n.pendingProps),Ag(t,n,l,h,a);case 3:t:{if(Et(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Oh(t,n),wl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Ea(n,De,l),l!==f.cache&&Dh(n,[De],a,!0),Rl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bg(t,n,l,a);break t}else if(l!==h){h=On(Error(s(424)),n),vl(h),n=bg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,oe=jn(t.firstChild),Ke=n,kt=!0,_a=null,zn=!0,a=vp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vr(),l===h){n=ki(t,n,a);break t}$e(t,n,l,a)}n=n.child}return n;case 26:return Iu(t,n),t===null?(a=jy(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,l=Yu(ot.current).createElement(a),l[Re]=n,l[ke]=t,Ze(l,a,t),we(l),n.stateNode=l):n.memoizedState=jy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xt(n),t===null&&kt&&(l=n.stateNode=Uy(n.type,n.pendingProps,ot.current),Ke=n,zn=!0,h=oe,Ma(n.type)?(Kf=h,oe=jn(l.firstChild)):oe=h),$e(t,n,n.pendingProps.children,a),Iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((h=l=oe)&&(l=FT(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Ke=n,oe=jn(l.firstChild),zn=!1,h=!0):h=!1),h||va(n)),Xt(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Hf(h,f)?l=null:_!==null&&Hf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=kh(t,n,sT,null,null,a),Ql._currentValue=h),Iu(t,n),$e(t,n,l,a),n.child;case 6:return t===null&&kt&&((t=a=oe)&&(a=QT(a,n.pendingProps,zn),a!==null?(n.stateNode=a,Ke=n,oe=null,t=!0):t=!1),t||va(n)),null;case 13:return Rg(t,n,a);case 4:return Et(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Rr(n,null,l,a):$e(t,n,l,a),n.child;case 11:return gg(t,n,n.type,n.pendingProps,a);case 7:return $e(t,n,n.pendingProps,a),n.child;case 8:return $e(t,n,n.pendingProps.children,a),n.child;case 12:return $e(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ea(n,n.type,l.value),$e(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Tr(n),h=Xe(h),l=l(h),n.flags|=1,$e(t,n,l,a),n.child;case 14:return yg(t,n,n.type,n.pendingProps,a);case 15:return _g(t,n,n.type,n.pendingProps,a);case 19:return Cg(t,n,a);case 31:return mT(t,n,a);case 22:return vg(t,n,a,n.pendingProps);case 24:return Tr(n),l=Xe(De),t===null?(h=Vh(),h===null&&(h=ae,f=Nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Mh(n),Ea(n,De,h)):((t.lanes&a)!==0&&(Oh(t,n),wl(n,null,null,a),Rl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ea(n,De,l)):(l=f.cache,Ea(n,De,l),l!==h.cache&&Dh(n,[De],a,!0))),$e(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(t){t.flags|=4}function gf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ey())t.flags|=8192;else throw br=pu,xh}else t.flags&=-16777217}function Ng(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gy(n))if(ey())t.flags|=8192;else throw br=pu,xh}function xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Po():536870912,t.lanes|=n,gs|=n)}function xl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ue(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function gT(t,n,a){var l=n.pendingProps;switch(Ah(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(De),At(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(is(n)?qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rh())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qi(n),f!==null?(ue(n),Ng(n,f)):(ue(n),gf(n,h,null,l,a))):f?f!==t.memoizedState?(qi(n),ue(n),Ng(n,f)):(ue(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(n),ue(n),gf(n,h,t,l,a)),null;case 27:if(se(n),a=ot.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ue(n),null}t=rt.current,is(n)?op(n):(t=Uy(h,l,a),n.stateNode=t,qi(n))}return ue(n),null;case 5:if(se(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ue(n),null}if(f=rt.current,is(n))op(n);else{var _=Yu(ot.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[Re]=n,f[ke]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;t:switch(Ze(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&qi(n)}}return ue(n),gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=ot.current,is(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Re]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ry(t.nodeValue,a)),t||va(n,!0)}else t=Yu(t).createTextNode(l),t[Re]=n,n.stateNode=t}return ue(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=is(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Re]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),t=!1}else a=Rh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ue(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=is(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=Rh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),xu(n,n.updateQueue),ue(n),null);case 4:return At(),t===null&&Pf(n.stateNode.containerInfo),ue(n),null;case 10:return Pi(n.type),ue(n),null;case 19:if(P(Ee),l=n.memoizedState,l===null)return ue(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)xl(l,!1);else{if(ge!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=vu(t),f!==null){for(n.flags|=128,xl(l,!1),t=f.updateQueue,n.updateQueue=t,xu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ip(a,t),a=a.sibling;return et(Ee,Ee.current&1|2),kt&&Ui(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&sn()>zu&&(n.flags|=128,h=!0,xl(l,!1),n.lanes=4194304)}else{if(!h)if(t=vu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,xu(n,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return ue(n),null}else 2*sn()-l.renderingStartTime>zu&&a!==536870912&&(n.flags|=128,h=!0,xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=Ee.current,et(Ee,h?a&1|2:a&1),kt&&Ui(n,l.treeForkCount),t):(ue(n),null);case 22:case 23:return An(n),Ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),a=n.updateQueue,a!==null&&xu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&P(Sr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(De),ue(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function yT(t,n){switch(Ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(De),At(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return se(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(s(340));vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(An(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return P(Ee),null;case 4:return At(),null;case 10:return Pi(n.type),null;case 22:case 23:return An(n),Ph(),t!==null&&P(Sr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(De),null;case 25:return null;default:return null}}function Ig(t,n){switch(Ah(n),n.tag){case 3:Pi(De),At();break;case 26:case 27:case 5:se(n);break;case 4:At();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:P(Ee);break;case 10:Pi(n.type);break;case 22:case 23:An(n),Ph(),t!==null&&P(Sr);break;case 24:Pi(De)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Wt(n,n.return,T)}}function wa(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var I=a,H=T;try{H()}catch(Z){Wt(h,I,Z)}}}l=l.next}while(l!==f)}}catch(Z){Wt(n,n.return,Z)}}function Vg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Tp(n,a)}catch(l){Wt(t,t.return,l)}}}function xg(t,n,a){a.props=Cr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(t,n,l)}}function Ol(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Wt(t,n,h)}}function Si(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(t,n,h)}else a.current=null}function Mg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(t,t.return,h)}}function yf(t,n,a){try{var l=t.stateNode;jT(l,t.type,a,n),l[ke]=n}catch(h){Wt(t,t.return,h)}}function Og(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ma(t.type)||t.tag===4}function _f(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yn));else if(l!==4&&(l===27&&Ma(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,a),t=t.sibling;t!==null;)vf(t,n,a),t=t.sibling}function Mu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ma(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mu(t,n,a),t=t.sibling;t!==null;)Mu(t,n,a),t=t.sibling}function Lg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,l,a),n[Re]=t,n[ke]=a}catch(f){Wt(t,t.return,f)}}var Hi=!1,Ve=!1,Ef=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,He=null;function _T(t,n){if(t=t.containerInfo,kf=tc,t=Km(t),fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,H=0,Z=0,it=t,F=null;e:for(;;){for(var $;it!==a||h!==0&&it.nodeType!==3||(T=_+h),it!==f||l!==0&&it.nodeType!==3||(I=_+l),it.nodeType===3&&(_+=it.nodeValue.length),($=it.firstChild)!==null;)F=it,it=$;for(;;){if(it===t)break e;if(F===a&&++H===h&&(T=_),F===f&&++Z===l&&(I=_),($=it.nextSibling)!==null)break;it=F,F=it.parentNode}it=$}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:t,selectionRange:a},tc=!1,He=n;He!==null;)if(n=He,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,He=t;else for(;He!==null;){switch(n=He,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Tt=Cr(a.type,h);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(wt){Wt(a,a.return,wt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,He=t;break}He=n.return}}function zg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&Ml(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var h=Cr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&Vg(a),l&512&&Ol(a,a.return);break;case 3:if(Fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tp(t,n)}catch(_){Wt(a,a.return,_)}}break;case 27:n===null&&l&4&&Lg(a);case 26:case 5:Fi(t,a),n===null&&l&4&&Mg(a),l&512&&Ol(a,a.return);break;case 12:Fi(t,a);break;case 31:Fi(t,a),l&4&&Bg(t,a);break;case 13:Fi(t,a),l&4&&kg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=CT.bind(null,a),YT(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||Ve,h=Hi;var f=Ve;Hi=l,(Ve=n)&&!f?Qi(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),Hi=h,Ve=f}break;case 30:break;default:Fi(t,a)}}function Pg(t){var n=t.alternate;n!==null&&(t.alternate=null,Pg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Br(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,hn=!1;function Gi(t,n,a){for(a=a.child;a!==null;)jg(t,n,a),a=a.sibling}function jg(t,n,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ve||Si(a,n),Gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Si(a,n);var l=fe,h=hn;Ma(a.type)&&(fe=a.stateNode,hn=!1),Gi(t,n,a),Hl(a.stateNode),fe=l,hn=h;break;case 5:Ve||Si(a,n);case 6:if(l=fe,h=hn,fe=null,Gi(t,n,a),fe=l,hn=h,fe!==null)if(hn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(f){Wt(a,n,f)}else try{fe.removeChild(a.stateNode)}catch(f){Wt(a,n,f)}break;case 18:fe!==null&&(hn?(t=fe,Vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),bs(t)):Vy(fe,a.stateNode));break;case 4:l=fe,h=hn,fe=a.stateNode.containerInfo,hn=!0,Gi(t,n,a),fe=l,hn=h;break;case 0:case 11:case 14:case 15:wa(2,a,n),Ve||wa(4,a,n),Gi(t,n,a);break;case 1:Ve||(Si(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xg(a,n,l)),Gi(t,n,a);break;case 21:Gi(t,n,a);break;case 22:Ve=(l=Ve)||a.memoizedState!==null,Gi(t,n,a),Ve=l;break;default:Gi(t,n,a)}}function Bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bs(t)}catch(a){Wt(n,n.return,a)}}}function kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bs(t)}catch(a){Wt(n,n.return,a)}}function vT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ug),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ug),n;default:throw Error(s(435,t.tag))}}function Ou(t,n){var a=vT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=DT.bind(null,t,l);l.then(h,h)}})}function fn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Ma(T.type)){fe=T.stateNode,hn=!1;break t}break;case 5:fe=T.stateNode,hn=!1;break t;case 3:case 4:fe=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(fe===null)throw Error(s(160));jg(f,_,h),fe=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qg(n,t),n=n.sibling}var Wn=null;function qg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),l&4&&(wa(3,t,t.return),Ml(3,t),wa(5,t,t.return));break;case 1:fn(n,t),dn(t),l&512&&(Ve||a===null||Si(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(fn(n,t),dn(t),l&512&&(Ve||a===null||Si(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,l,a),f[Re]=t,we(f),l=f;break t;case"link":var _=qy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(l),Ze(f,l,a),h.head.appendChild(f);break;case"meta":if(_=qy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}f=h.createElement(l),Ze(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Re]=t,we(f),l=f}t.stateNode=l}else Hy(h,t.type,t.stateNode);else t.stateNode=ky(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Hy(h,t.type,t.stateNode):ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),dn(t),l&512&&(Ve||a===null||Si(a,a.return)),a!==null&&l&4&&yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),dn(t),l&512&&(Ve||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(Tt){Wt(t,t.return,Tt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(fn(n,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Tt){Wt(t,t.return,Tt)}}break;case 3:if($u=null,h=Wn,Wn=Ku(n.containerInfo),fn(n,t),Wn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bs(n.containerInfo)}catch(Tt){Wt(t,t.return,Tt)}Ef&&(Ef=!1,Hg(t));break;case 4:l=Wn,Wn=Ku(t.stateNode.containerInfo),fn(n,t),dn(t),Wn=l;break;case 12:fn(n,t),dn(t);break;case 31:fn(n,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uu=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Hi,Z=Ve;if(Hi=H||h,Ve=Z||I,fn(n,t),Ve=Z,Hi=H,dn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Hi||Ve||Dr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var it=I.memoizedProps.style,F=it!=null&&it.hasOwnProperty("display")?it.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Tt){Wt(I,I.return,Tt)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Tt){Wt(I,I.return,Tt)}}}else if(n.tag===18){if(a===null){I=n;try{var $=I.stateNode;h?xy($,!0):xy(I.stateNode,!1)}catch(Tt){Wt(I,I.return,Tt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ou(t,a))));break;case 19:fn(n,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Og(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=_f(t);Mu(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=_f(t);Mu(t,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=_f(t);vf(t,H,I);break;default:throw Error(s(161))}}catch(Z){Wt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zg(t,n.alternate,n),n=n.sibling}function Dr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:wa(4,n,n.return),Dr(n);break;case 1:Si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&xg(n,n.return,a),Dr(n);break;case 27:Hl(n.stateNode);case 26:case 5:Si(n,n.return),Dr(n);break;case 22:n.memoizedState===null&&Dr(n);break;case 30:Dr(n);break;default:Dr(n)}t=t.sibling}}function Qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,a),Ml(4,f);break;case 1:if(Qi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Wt(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ep(I[h],T)}catch(H){Wt(l,l.return,H)}}a&&_&64&&Vg(f),Ol(f,f.return);break;case 27:Lg(f);case 26:case 5:Qi(h,f,a),a&&l===null&&_&4&&Mg(f),Ol(f,f.return);break;case 12:Qi(h,f,a);break;case 31:Qi(h,f,a),a&&_&4&&Bg(h,f);break;case 13:Qi(h,f,a),a&&_&4&&kg(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,a),Ol(f,f.return);break;case 30:break;default:Qi(h,f,a)}n=n.sibling}}function Tf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function ti(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gg(t,n,a,l),n=n.sibling}function Gg(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,a,l),h&2048&&Ml(9,n);break;case 1:ti(t,n,a,l);break;case 3:ti(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(h&2048){ti(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else ti(t,n,a,l);break;case 31:ti(t,n,a,l);break;case 13:ti(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,a,l):Ll(t,n):f._visibility&2?ti(t,n,a,l):(f._visibility|=2,ds(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(_,n);break;case 24:ti(t,n,a,l),h&2048&&Sf(n.alternate,n);break;default:ti(t,n,a,l)}}function ds(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:ds(f,_,T,I,h),Ml(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ds(f,_,T,I,h):Ll(f,_):(Z._visibility|=2,ds(f,_,T,I,h)),h&&H&2048&&Tf(_.alternate,_);break;case 24:ds(f,_,T,I,h),h&&H&2048&&Sf(_.alternate,_);break;default:ds(f,_,T,I,h)}n=n.sibling}}function Ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&Tf(l.alternate,l);break;case 24:Ll(a,l),h&2048&&Sf(l.alternate,l);break;default:Ll(a,l)}n=n.sibling}}var Ul=8192;function ms(t,n,a){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Fg(t,n,a),t=t.sibling}function Fg(t,n,a){switch(t.tag){case 26:ms(t,n,a),t.flags&Ul&&t.memoizedState!==null&&r1(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:ms(t,n,a);break;case 3:case 4:var l=Wn;Wn=Ku(t.stateNode.containerInfo),ms(t,n,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,ms(t,n,a),Ul=l):ms(t,n,a));break;default:ms(t,n,a)}}function Qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];He=l,Kg(l,t)}Qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&wa(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Lu(t)):zl(t);break;default:zl(t)}}function Lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];He=l,Kg(l,t)}Qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:wa(8,n,n.return),Lu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(n));break;default:Lu(n)}t=t.sibling}}function Kg(t,n){for(;He!==null;){var a=He;switch(a.tag){case 0:case 11:case 15:wa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,He=l;else t:for(a=t;He!==null;){l=He;var h=l.sibling,f=l.return;if(Pg(l),l===a){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var ET={getCacheForType:function(t){var n=Xe(De),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Xe(De).controller.signal}},TT=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Lt=null,zt=0,Jt=0,bn=null,Ca=!1,ps=!1,Af=!1,Yi=0,ge=0,Da=0,Nr=0,bf=0,Rn=0,gs=0,Pl=null,mn=null,Rf=!1,Uu=0,Xg=0,zu=1/0,Pu=null,Na=null,Pe=0,Ia=null,ys=null,Ki=0,wf=0,Cf=null,$g=null,jl=0,Df=null;function wn(){return(Kt&2)!==0&&zt!==0?zt&-zt:U.T!==null?Of():jo()}function Zg(){if(Rn===0)if((zt&536870912)===0||kt){var t=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function pn(t,n,a){(t===ae&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(_s(t,0),Va(t,zt,Rn,!1)),ir(t,a),((Kt&2)===0||t!==ae)&&(t===ae&&((Kt&2)===0&&(Nr|=a),ge===4&&Va(t,zt,Rn,!1)),Ai(t))}function Jg(t,n,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Gn(t,n),h=l?bT(t,n):If(t,n,!0),f=l;do{if(h===0){ps&&!l&&Va(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ST(a)){h=If(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Pl;var I=T.current.memoizedState.isDehydrated;if(I&&(_s(T,_).flags|=256),_=If(T,_,!1),_!==2){if(Af&&!I){T.errorRecoveryDisabledLanes|=f,Nr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){_s(t,0),Va(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Va(l,n,Rn,!Ca);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Uu+300-sn(),10<h)){if(Va(l,n,Rn,!Ca),ri(l,0,!0)!==0)break t;Ki=n,l.timeoutHandle=Ny(Wg.bind(null,l,a,mn,Pu,Rf,n,Rn,Nr,gs,Ca,f,"Throttled",-0,0),h);break t}Wg(l,a,mn,Pu,Rf,n,Rn,Nr,gs,Ca,f,null,-0,0)}}break}while(!0);Ai(t)}function Wg(t,n,a,l,h,f,_,T,I,H,Z,it,F,$){if(t.timeoutHandle=-1,it=n.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Fg(n,f,it);var Tt=(f&62914560)===f?Uu-sn():(f&4194048)===f?Xg-sn():0;if(Tt=s1(it,Tt),Tt!==null){Ki=f,t.cancelPendingCommit=Tt(ly.bind(null,t,n,f,a,l,h,_,T,I,Z,it,null,F,$)),Va(t,f,_,!H);return}}ly(t,n,f,a,l,h,_,T,I)}function ST(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Va(t,n,a,l){n&=~bf,n&=~Nr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&ar(t,a,n)}function ju(){return(Kt&6)===0?(Bl(0),!1):!0}function Nf(){if(Lt!==null){if(Jt===0)var t=Lt.return;else t=Lt,zi=Er=null,Gh(t),os=null,Sl=0,t=Lt;for(;t!==null;)Ig(t.alternate,t),t=t.return;Lt=null}}function _s(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ki=0,Nf(),ae=t,Lt=a=Li(t.current,null),zt=n,Jt=0,bn=null,Ca=!1,ps=Gn(t,n),Af=!1,gs=Rn=bf=Nr=Da=ge=0,mn=Pl=null,Rf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-_e(l),f=1<<h;n|=t[h],l&=~f}return Yi=n,su(),a}function ty(t,n){xt=null,U.H=Il,n===ls||n===mu?(n=gp(),Jt=3):n===xh?(n=gp(),Jt=4):Jt=n===lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Lt===null&&(ge=1,Du(t,On(n,t.current)))}function ey(){var t=Sn.current;return t===null?!0:(zt&4194048)===zt?Pn===null:(zt&62914560)===zt||(zt&536870912)!==0?t===Pn:!1}function ny(){var t=U.H;return U.H=Il,t===null?Il:t}function iy(){var t=U.A;return U.A=ET,t}function Bu(){ge=4,Ca||(zt&4194048)!==zt&&Sn.current!==null||(ps=!0),(Da&134217727)===0&&(Nr&134217727)===0||ae===null||Va(ae,zt,Rn,!1)}function If(t,n,a){var l=Kt;Kt|=2;var h=ny(),f=iy();(ae!==t||zt!==n)&&(Pu=null,_s(t,n)),n=!1;var _=ge;t:do try{if(Jt!==0&&Lt!==null){var T=Lt,I=bn;switch(Jt){case 8:Nf(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var H=Jt;if(Jt=0,bn=null,vs(t,T,I,H),a&&ps){_=0;break t}break;default:H=Jt,Jt=0,bn=null,vs(t,T,I,H)}}AT(),_=ge;break}catch(Z){ty(t,Z)}while(!0);return n&&t.shellSuspendCounter++,zi=Er=null,Kt=l,U.H=h,U.A=f,Lt===null&&(ae=null,zt=0,su()),_}function AT(){for(;Lt!==null;)ay(Lt)}function bT(t,n){var a=Kt;Kt|=2;var l=ny(),h=iy();ae!==t||zt!==n?(Pu=null,zu=sn()+500,_s(t,n)):ps=Gn(t,n);t:do try{if(Jt!==0&&Lt!==null){n=Lt;var f=bn;e:switch(Jt){case 1:Jt=0,bn=null,vs(t,n,f,1);break;case 2:case 9:if(mp(f)){Jt=0,bn=null,ry(n);break}n=function(){Jt!==2&&Jt!==9||ae!==t||(Jt=7),Ai(t)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:mp(f)?(Jt=0,bn=null,ry(n)):(Jt=0,bn=null,vs(t,n,f,7));break;case 5:var _=null;switch(Lt.tag){case 26:_=Lt.memoizedState;case 5:case 27:var T=Lt;if(_?Gy(_):T.stateNode.complete){Jt=0,bn=null;var I=T.sibling;if(I!==null)Lt=I;else{var H=T.return;H!==null?(Lt=H,ku(H)):Lt=null}break e}}Jt=0,bn=null,vs(t,n,f,5);break;case 6:Jt=0,bn=null,vs(t,n,f,6);break;case 8:Nf(),ge=6;break t;default:throw Error(s(462))}}RT();break}catch(Z){ty(t,Z)}while(!0);return zi=Er=null,U.H=l,U.A=h,Kt=a,Lt!==null?0:(ae=null,zt=0,su(),ge)}function RT(){for(;Lt!==null&&!rh();)ay(Lt)}function ay(t){var n=Dg(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?ku(t):Lt=n}function ry(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Sg(a,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Sg(a,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Gh(n);default:Ig(a,n),n=Lt=ip(n,Yi),n=Dg(a,n,Yi)}t.memoizedProps=t.pendingProps,n===null?ku(t):Lt=n}function vs(t,n,a,l){zi=Er=null,Gh(n),os=null,Sl=0;var h=n.return;try{if(dT(t,h,n,a,zt)){ge=1,Du(t,On(a,t.current)),Lt=null;return}}catch(f){if(h!==null)throw Lt=h,f;ge=1,Du(t,On(a,t.current)),Lt=null;return}n.flags&32768?(kt||l===1?t=!0:ps||(zt&536870912)!==0?t=!1:(Ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):ku(n)}function ku(t){var n=t;do{if((n.flags&32768)!==0){sy(n,Ca);return}t=n.return;var a=gT(n.alternate,n,Yi);if(a!==null){Lt=a;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=t}while(n!==null);ge===0&&(ge=5)}function sy(t,n){do{var a=yT(t.alternate,t);if(a!==null){a.flags&=32767,Lt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=a}while(t!==null);ge=6,Lt=null}function ly(t,n,a,l,h,f,_,T,I){t.cancelPendingCommit=null;do qu();while(Pe!==0);if((Kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=yh,oh(t,a,f,_,T,I),t===ae&&(Lt=ae=null,zt=0),ys=n,Ia=t,Ki=a,wf=f,Cf=h,$g=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NT(la,function(){return fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=K.p,K.p=2,_=Kt,Kt|=4;try{_T(t,n,a)}finally{Kt=_,K.p=h,U.T=l}}Pe=1,oy(),uy(),cy()}}function oy(){if(Pe===1){Pe=0;var t=Ia,n=ys,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=K.p;K.p=2;var h=Kt;Kt|=4;try{qg(n,t);var f=qf,_=Km(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Ym(T.ownerDocument.documentElement,T)){if(I!==null&&fh(T)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var it=T.ownerDocument||document,F=it&&it.defaultView||window;if(F.getSelection){var $=F.getSelection(),Tt=T.textContent.length,wt=Math.min(I.start,Tt),ie=I.end===void 0?wt:Math.min(I.end,Tt);!$.extend&&wt>ie&&(_=ie,ie=wt,wt=_);var z=Qm(T,wt),O=Qm(T,ie);if(z&&O&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var q=it.createRange();q.setStart(z.node,z.offset),$.removeAllRanges(),wt>ie?($.addRange(q),$.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),$.addRange(q))}}}}for(it=[],$=T;$=$.parentNode;)$.nodeType===1&&it.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<it.length;T++){var tt=it[T];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}tc=!!kf,qf=kf=null}finally{Kt=h,K.p=l,U.T=a}}t.current=n,Pe=2}}function uy(){if(Pe===2){Pe=0;var t=Ia,n=ys,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=K.p;K.p=2;var h=Kt;Kt|=4;try{zg(t,n.alternate,n)}finally{Kt=h,K.p=l,U.T=a}}Pe=3}}function cy(){if(Pe===4||Pe===3){Pe=0,xo();var t=Ia,n=ys,a=Ki,l=$g;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ys=Ia=null,hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Na=null),Vi(a),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,h=K.p,K.p=2,U.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{U.T=n,K.p=h}}(Ki&3)!==0&&qu(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Df?jl++:(jl=0,Df=t):jl=0,Bl(0)}}function hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function qu(){return oy(),uy(),cy(),fy()}function fy(){if(Pe!==5)return!1;var t=Ia,n=wf;wf=0;var a=Vi(Ki),l=U.T,h=K.p;try{K.p=32>a?32:a,U.T=null,a=Cf,Cf=null;var f=Ia,_=Ki;if(Pe=0,ys=Ia=null,Ki=0,(Kt&6)!==0)throw Error(s(331));var T=Kt;if(Kt|=4,Yg(f.current),Gg(f,f.current,_,a),Kt=T,Bl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{K.p=h,U.T=l,hy(t,n)}}function dy(t,n,a){n=On(a,n),n=sf(t.stateNode,n,2),t=Aa(t,n,2),t!==null&&(ir(t,2),Ai(t))}function Wt(t,n,a){if(t.tag===3)dy(t,t,a);else for(;n!==null;){if(n.tag===3){dy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Na===null||!Na.has(l))){t=On(a,t),a=mg(2),l=Aa(n,a,2),l!==null&&(pg(a,l,n,t),ir(l,2),Ai(l));break}}n=n.return}}function Vf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new TT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Af=!0,h.add(a),t=wT.bind(null,t,n,a),n.then(t,t))}function wT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ae===t&&(zt&a)===a&&(ge===4||ge===3&&(zt&62914560)===zt&&300>sn()-Uu?(Kt&2)===0&&_s(t,0):bf|=a,gs===zt&&(gs=0)),Ai(t)}function my(t,n){n===0&&(n=Po()),t=yr(t,n),t!==null&&(ir(t,n),Ai(t))}function CT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),my(t,a)}function DT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),my(t,a)}function NT(t,n){return ze(t,n)}var Hu=null,Es=null,xf=!1,Gu=!1,Mf=!1,xa=0;function Ai(t){t!==Es&&t.next===null&&(Es===null?Hu=Es=t:Es=Es.next=t),Gu=!0,xf||(xf=!0,VT())}function Bl(t,n){if(!Mf&&Gu){Mf=!0;do for(var a=!1,l=Hu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-_e(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,_y(l,f))}else f=zt,f=ri(l,l===ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Gn(l,f)||(a=!0,_y(l,f));l=l.next}while(a);Mf=!1}}function IT(){py()}function py(){Gu=xf=!1;var t=0;xa!==0&&kT()&&(t=xa);for(var n=sn(),a=null,l=Hu;l!==null;){var h=l.next,f=gy(l,n);f===0?(l.next=null,a===null?Hu=h:a.next=h,h===null&&(Es=a)):(a=l,(t!==0||(f&3)!==0)&&(Gu=!0)),l=h}Pe!==0&&Pe!==5||Bl(t),xa!==0&&(xa=0)}function gy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_e(f),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=lh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=ae,a=zt,a=ri(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&sa(l),Vi(a)){case 2:case 8:a=$s;break;case 32:a=la;break;case 268435456:a=Mo;break;default:a=la}return l=yy.bind(null,t),a=ze(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&sa(l),t.callbackPriority=2,t.callbackNode=null,2}function yy(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qu()&&t.callbackNode!==a)return null;var l=zt;return l=ri(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jg(t,l,n),gy(t,sn()),t.callbackNode!=null&&t.callbackNode===a?yy.bind(null,t):null)}function _y(t,n){if(qu())return null;Jg(t,n,!0)}function VT(){HT(function(){(Kt&6)!==0?ze(Xs,IT):py()})}function Of(){if(xa===0){var t=rs;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),xa=t}return xa}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gr(""+t)}function Ey(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function xT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=vy((h[ke]||null).action),_=l.submitter;_&&(n=(n=_[ke]||null)?vy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new gi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var I=_?Ey(h,_):new FormData(h);Wh(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=_?Ey(h,_):new FormData(h),Wh(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Lf=0;Lf<gh.length;Lf++){var Uf=gh[Lf],MT=Uf.toLowerCase(),OT=Uf[0].toUpperCase()+Uf.slice(1);Jn(MT,"on"+OT)}Jn(Zm,"onAnimationEnd"),Jn(Jm,"onAnimationIteration"),Jn(Wm,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn($0,"onTransitionRun"),Jn(Z0,"onTransitionStart"),Jn(J0,"onTransitionCancel"),Jn(tp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Ty(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(Z){ru(Z)}h.currentTarget=null,f=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,H=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=H;try{f(h)}catch(Z){ru(Z)}h.currentTarget=null,f=I}}}}function Ut(t,n){var a=n[jr];a===void 0&&(a=n[jr]=new Set);var l=t+"__bubble";a.has(l)||(Sy(n,t,2,!1),a.add(l))}function zf(t,n,a){var l=0;n&&(l|=4),Sy(a,t,l,n)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[Fu]){t[Fu]=!0,Ws.forEach(function(a){a!=="selectionchange"&&(LT.has(a)||zf(a,!1,t),zf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Fu]||(n[Fu]=!0,zf("selectionchange",!1,n))}}function Sy(t,n,a,l){switch(Zy(n)){case 2:var h=u1;break;case 8:h=c1;break;default:h=Wf}a=h.bind(null,n,a,t),h=void 0,!ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function jf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ui(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=f=_;continue t}T=T.parentNode}}l=l.return}da(function(){var H=f,Z=In(a),it=[];t:{var F=ep.get(t);if(F!==void 0){var $=gi,Tt=t;switch(t){case"keypress":if(hr(a)===0)break t;case"keydown":case"keyup":$=nu;break;case"focusin":Tt="focus",$=dr;break;case"focusout":Tt="blur",$=dr;break;case"beforeblur":case"afterblur":$=dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=m;break;case Zm:case Jm:case Wm:$=Xo;break;case tp:$=A;break;case"scroll":case"scrollend":$=hl;break;case"wheel":$=X;break;case"copy":case"cut":case"paste":$=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Oi;break;case"toggle":case"beforetoggle":$=Vt}var wt=(n&4)!==0,ie=!wt&&(t==="scroll"||t==="scrollend"),z=wt?F!==null?F+"Capture":null:F;wt=[];for(var O=H,q;O!==null;){var tt=O;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||z===null||(tt=Kn(O,z),tt!=null&&wt.push(ql(O,tt,q))),ie)break;O=O.return}0<wt.length&&(F=new $(F,Tt,null,a,Z),it.push({event:F,listeners:wt}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&a!==ol&&(Tt=a.relatedTarget||a.fromElement)&&(ui(Tt)||Tt[li]))break t;if(($||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,$?(Tt=a.relatedTarget||a.toElement,$=H,Tt=Tt?ui(Tt):null,Tt!==null&&(ie=c(Tt),wt=Tt.tag,Tt!==ie||wt!==5&&wt!==27&&wt!==6)&&(Tt=null)):($=null,Tt=H),$!==Tt)){if(wt=fl,tt="onMouseLeave",z="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(wt=Oi,tt="onPointerLeave",z="onPointerEnter",O="pointer"),ie=$==null?F:_n($),q=Tt==null?F:_n(Tt),F=new wt(tt,O+"leave",$,a,Z),F.target=ie,F.relatedTarget=q,tt=null,ui(Z)===H&&(wt=new wt(z,O+"enter",Tt,a,Z),wt.target=q,wt.relatedTarget=ie,tt=wt),ie=tt,$&&Tt)e:{for(wt=UT,z=$,O=Tt,q=0,tt=z;tt;tt=wt(tt))q++;tt=0;for(var bt=O;bt;bt=wt(bt))tt++;for(;0<q-tt;)z=wt(z),q--;for(;0<tt-q;)O=wt(O),tt--;for(;q--;){if(z===O||O!==null&&z===O.alternate){wt=z;break e}z=wt(z),O=wt(O)}wt=null}else wt=null;$!==null&&Ay(it,F,$,wt,!1),Tt!==null&&ie!==null&&Ay(it,ie,Tt,wt,!0)}}t:{if(F=H?_n(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var Gt=Bm;else if(Pm(F))if(km)Gt=Y0;else{Gt=F0;var St=G0}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Hr(H.elementType)&&(Gt=Bm):Gt=Q0;if(Gt&&(Gt=Gt(t,H))){jm(it,Gt,a,Z);break t}St&&St(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&rl(F,"number",F.value)}switch(St=H?_n(H):window,t){case"focusin":(Pm(St)||St.contentEditable==="true")&&(Zr=St,dh=H,yl=null);break;case"focusout":yl=dh=Zr=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Xm(it,a,Z);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":Xm(it,a,Z)}var Mt;if(Yt)t:{switch(t){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else $r?mr(t,a)&&(Pt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(vi&&a.locale!=="ko"&&($r||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&$r&&(Mt=cl()):(pi=Z,ul="value"in pi?pi.value:pi.textContent,$r=!0)),St=Qu(H,Pt),0<St.length&&(Pt=new _i(Pt,t,null,a,Z),it.push({event:Pt,listeners:St}),Mt?Pt.data=Mt:(Mt=Xr(a),Mt!==null&&(Pt.data=Mt)))),(Mt=xn?B0(t,a):k0(t,a))&&(Pt=Qu(H,"onBeforeInput"),0<Pt.length&&(St=new _i("onBeforeInput","beforeinput",null,a,Z),it.push({event:St,listeners:Pt}),St.data=Mt)),xT(it,t,H,a,Z)}Ty(it,n)})}function ql(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Qu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,a),h!=null&&l.unshift(ql(t,h,f)),h=Kn(t,n),h!=null&&l.push(ql(t,h,f))),t.tag===3)return l;t=t.return}return[]}function UT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ay(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=Kn(a,f),H!=null&&_.unshift(ql(a,H,I))):h||(H=Kn(a,f),H!=null&&_.push(ql(a,H,I)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var zT=/\r\n?/g,PT=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(zT,`
`).replace(PT,"")}function Ry(t,n){return n=by(n),by(t)===n}function ne(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&cn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":ll(t,l,f);break;case"data":if(n!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ne(t,n,"name",h.name,h,null),ne(t,n,"formEncType",h.formEncType,h,null),ne(t,n,"formMethod",h.formMethod,h,null),ne(t,n,"formTarget",h.formTarget,h,null)):(ne(t,n,"encType",h.encType,h,null),ne(t,n,"method",h.method,h,null),ne(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Gr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ut("scroll",t);break;case"onScrollEnd":l!=null&&Ut("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Gr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ut("beforetoggle",t),Ut("toggle",t),kr(t,"popover",l);break;case"xlinkActuate":Ce(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":kr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qo.get(a)||a,kr(t,a,l))}}function Bf(t,n,a,l,h,f){switch(a){case"style":ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ut("scroll",t);break;case"onScrollEnd":l!=null&&Ut("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):kr(t,a,l)}}}function Ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",t),Ut("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ne(t,n,f,_,a,null)}}h&&ne(t,n,"srcSet",a.srcSet,a,null),l&&ne(t,n,"src",a.src,a,null);return;case"input":Ut("invalid",t);var T=f=_=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:ne(t,n,l,Z,a,null)}}Ho(t,f,T,I,H,_,h,!1);return;case"select":Ut("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ne(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!l,n!=null?ua(t,!!l,n,!1):a!=null&&ua(t,!!l,a,!0);return;case"textarea":Ut("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ne(t,n,_,T,a,null)}ca(t,l,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ne(t,n,I,l,a,null));return;case"dialog":Ut("beforetoggle",t),Ut("toggle",t),Ut("cancel",t),Ut("close",t);break;case"iframe":case"object":Ut("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)Ut(kl[l],t);break;case"image":Ut("error",t),Ut("load",t);break;case"details":Ut("toggle",t);break;case"embed":case"source":case"link":Ut("error",t),Ut("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ne(t,n,H,l,a,null)}return;default:if(Hr(n)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Bf(t,n,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ne(t,n,T,l,a,null))}function jT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,I=null,H=null,Z=null;for($ in a){var it=a[$];if(a.hasOwnProperty($)&&it!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=it;default:l.hasOwnProperty($)||ne(t,n,$,null,l,it)}}for(var F in l){var $=l[F];if(it=a[F],l.hasOwnProperty(F)&&($!=null||it!=null))switch(F){case"type":f=$;break;case"name":h=$;break;case"checked":H=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==it&&ne(t,n,F,$,l,it)}}qr(t,_,T,I,H,Z,f,h);return;case"select":$=_=T=F=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(f)||ne(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==I&&ne(t,n,h,f,l,I)}n=T,a=_,l=$,F!=null?ua(t,!!a,F,!1):!!l!=!!a&&(n!=null?ua(t,!!a,n,!0):ua(t,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":F=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ne(t,n,_,h,l,f)}Go(t,F,$);return;case"option":for(var Tt in a)F=a[Tt],a.hasOwnProperty(Tt)&&F!=null&&!l.hasOwnProperty(Tt)&&(Tt==="selected"?t.selected=!1:ne(t,n,Tt,null,l,F));for(I in l)F=l[I],$=a[I],l.hasOwnProperty(I)&&F!==$&&(F!=null||$!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":ne(t,n,I,F,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)F=a[wt],a.hasOwnProperty(wt)&&F!=null&&!l.hasOwnProperty(wt)&&ne(t,n,wt,null,l,F);for(H in l)if(F=l[H],$=a[H],l.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:ne(t,n,H,F,l,$)}return;default:if(Hr(n)){for(var ie in a)F=a[ie],a.hasOwnProperty(ie)&&F!==void 0&&!l.hasOwnProperty(ie)&&Bf(t,n,ie,void 0,l,F);for(Z in l)F=l[Z],$=a[Z],!l.hasOwnProperty(Z)||F===$||F===void 0&&$===void 0||Bf(t,n,Z,F,l,$);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&ne(t,n,z,null,l,F);for(it in l)F=l[it],$=a[it],!l.hasOwnProperty(it)||F===$||F==null&&$==null||ne(t,n,it,F,l,$)}function wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&wy(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>T)break;var Z=I.transferSize,it=I.initiatorType;Z&&wy(it)&&(I=I.responseEnd,_+=Z*(I<T?1:(T-H)/(I-H)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kf=null,qf=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function Cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gf=null;function kT(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(GT)}:Ny;function GT(t){setTimeout(function(){throw t})}function Ma(t){return t==="head"}function Vy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),bs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Hl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[oi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Hl(t.ownerDocument.body);a=h}while(a);bs(n)}function xy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),Br(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[oi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function QT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function My(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Qf(t){return t.data==="$?"||t.data==="$~"}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function YT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Kf=null;function Oy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Ly(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Uy(t,n,a){switch(n=Yu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Br(t)}var Bn=new Map,zy=new Set;function Ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=K.d;K.d={f:KT,r:XT,D:$T,C:ZT,L:JT,m:WT,X:e1,S:t1,M:n1};function KT(){var t=Xi.f(),n=ju();return t||n}function XT(t){var n=Nn(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):Xi.r(t)}var Ts=typeof document>"u"?null:document;function Py(t,n,a){var l=Ts;if(l&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),zy.has(h)||(zy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ze(n,"link",t),we(n),l.head.appendChild(n)))}}function $T(t){Xi.D(t),Py("dns-prefetch",t,null)}function ZT(t,n){Xi.C(t,n),Py("preconnect",t,n)}function JT(t,n,a){Xi.L(t,n,a);var l=Ts;if(l&&t&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var f=h;switch(n){case"style":f=Ss(t);break;case"script":f=As(t)}Bn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Bn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Fl(f))||(n=l.createElement("link"),Ze(n,"link",t),we(n),l.head.appendChild(n)))}}function WT(t,n){Xi.m(t,n);var a=Ts;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=As(t)}if(!Bn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Bn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(f)))return}l=a.createElement("link"),Ze(l,"link",t),we(l),a.head.appendChild(l)}}}function t1(t,n,a){Xi.S(t,n,a);var l=Ts;if(l&&t){var h=ci(l).hoistableStyles,f=Ss(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Gl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Bn.get(f))&&Xf(t,a);var I=_=l.createElement("link");we(I),Ze(I,"link",t),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function e1(t,n){Xi.X(t,n);var a=Ts;if(a&&t){var l=ci(a).hoistableScripts,h=As(t),f=l.get(h);f||(f=a.querySelector(Fl(h)),f||(t=S({src:t,async:!0},n),(n=Bn.get(h))&&$f(t,n),f=a.createElement("script"),we(f),Ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function n1(t,n){Xi.M(t,n);var a=Ts;if(a&&t){var l=ci(a).hoistableScripts,h=As(t),f=l.get(h);f||(f=a.querySelector(Fl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Bn.get(h))&&$f(t,n),f=a.createElement("script"),we(f),Ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function jy(t,n,a,l){var h=(h=ot.current)?Ku(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ss(a.href),a=ci(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ss(a.href);var f=ci(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Gl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),f||i1(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=ci(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ss(t){return'href="'+un(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function By(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function i1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ze(n,"link",a),we(n),t.head.appendChild(n))}function As(t){return'[src="'+un(t)+'"]'}function Fl(t){return"script[async]"+t}function ky(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return n.instance=l,we(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),we(l),Ze(l,"style",h),Xu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ss(a.href);var f=t.querySelector(Gl(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;l=By(a),(h=Bn.get(h))&&Xf(l,h),f=(t.ownerDocument||t).createElement("link"),we(f);var _=f;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ze(f,"link",l),n.state.loading|=4,Xu(f,a.precedence,t),n.instance=f;case"script":return f=As(a.src),(h=t.querySelector(Fl(f)))?(n.instance=h,we(h),h):(l=a,(h=Bn.get(f))&&(l=S({},a),$f(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),we(h),Ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Xu(l,a.precedence,t));return n.instance}function Xu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var $u=null;function qy(t,n,a){if($u===null){var l=new Map,h=$u=new Map;h.set(a,l)}else h=$u,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[oi]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function Hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function a1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function r1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ss(l.href),f=n.querySelector(Gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Zu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,we(f);return}f=n.ownerDocument||n,l=By(l),(h=Bn.get(h))&&Xf(l,h),f=f.createElement("link"),we(f);var _=f;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ze(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Zf=0;function s1(t,n){return t.stylesheets&&t.count===0&&Wu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Zf===0&&(Zf=62500*BT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Zf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ju=null;function Wu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ju=new Map,n.forEach(l1,t),Ju=null,Zu.call(t))}function l1(t,n){if(!(n.state.loading&4)){var a=Ju.get(t);if(a)var l=a.get(null);else{a=new Map,Ju.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ql={$$typeof:W,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function o1(t,n,a,l,h,f,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Fy(t,n,a,l,h,f,_,T,I,H,Z,it){return t=new o1(t,n,a,_,I,H,Z,it,T),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),t.current=f,f.stateNode=t,n=Nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Mh(f),t}function Qy(t){return t?(t=ts,t):ts}function Yy(t,n,a,l,h,f){h=Qy(h),l.context===null?l.context=h:l.pendingContext=h,l=Sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Aa(t,l,n),a!==null&&(pn(a,t,n),bl(a,t,n))}function Ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jf(t,n){Ky(t,n),(t=t.alternate)&&Ky(t,n)}function Xy(t){if(t.tag===13||t.tag===31){var n=yr(t,67108864);n!==null&&pn(n,t,67108864),Jf(t,67108864)}}function $y(t){if(t.tag===13||t.tag===31){var n=wn();n=rr(n);var a=yr(t,n);a!==null&&pn(a,t,n),Jf(t,n)}}var tc=!0;function u1(t,n,a,l){var h=U.T;U.T=null;var f=K.p;try{K.p=2,Wf(t,n,a,l)}finally{K.p=f,U.T=h}}function c1(t,n,a,l){var h=U.T;U.T=null;var f=K.p;try{K.p=8,Wf(t,n,a,l)}finally{K.p=f,U.T=h}}function Wf(t,n,a,l){if(tc){var h=td(l);if(h===null)jf(t,n,l,ec,a),Jy(t,l);else if(f1(h,t,n,a,l))l.stopPropagation();else if(Jy(t,l),n&4&&-1<h1.indexOf(t)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ai(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-_e(_);T.entanglements[1]|=I,_&=~I}Ai(f),(Kt&6)===0&&(zu=sn()+500,Bl(0))}}break;case 31:case 13:T=yr(f,2),T!==null&&pn(T,f,2),ju(),Jf(f,2)}if(f=td(l),f===null&&jf(t,n,l,ec,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else jf(t,n,l,null,a)}}function td(t){return t=In(t),ed(t)}var ec=null;function ed(t){if(ec=null,t=ui(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ec=t,null}function Zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case Xs:return 2;case $s:return 8;case la:case sh:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var nd=!1,Oa=null,La=null,Ua=null,Yl=new Map,Kl=new Map,za=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(t,n){switch(t){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&Xy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function f1(t,n,a,l,h){switch(n){case"focusin":return Oa=Xl(Oa,t,n,a,l,h),!0;case"dragenter":return La=Xl(La,t,n,a,l,h),!0;case"mouseover":return Ua=Xl(Ua,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Yl.set(f,Xl(Yl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Kl.set(f,Xl(Kl.get(f)||null,t,n,a,l,h)),!0}return!1}function Wy(t){var n=ui(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){$y(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){$y(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=td(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return n=Nn(a),n!==null&&Xy(n),t.blockedOn=a,!1;n.shift()}return!0}function t_(t,n,a){nc(t)&&a.delete(n)}function d1(){nd=!1,Oa!==null&&nc(Oa)&&(Oa=null),La!==null&&nc(La)&&(La=null),Ua!==null&&nc(Ua)&&(Ua=null),Yl.forEach(t_),Kl.forEach(t_)}function ic(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,d1)))}var ac=null;function e_(t){ac!==t&&(ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ac===t&&(ac=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ed(l||a)===null)continue;break}var f=Nn(a);f!==null&&(t.splice(n,3),n-=3,Wh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function bs(t){function n(I){return ic(I,t)}Oa!==null&&ic(Oa,t),La!==null&&ic(La,t),Ua!==null&&ic(Ua,t),Yl.forEach(n),Kl.forEach(n);for(var a=0;a<za.length;a++){var l=za[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<za.length&&(a=za[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&za.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[ke]||null;if(typeof f=="function")_||e_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[ke]||null)T=_.formAction;else if(ed(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),e_(a)}}}function n_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function id(t){this._internalRoot=t}rc.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=wn();Yy(a,l,t,n,null,null)},rc.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Yy(t.current,2,null,t,null,null),ju(),n[li]=null}};function rc(t){this._internalRoot=t}rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=jo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<za.length&&n!==0&&n<za[a].priority;a++);za.splice(a,0,t),a===0&&Wy(t)}};var i_=e.version;if(i_!=="19.2.3")throw Error(s(527,i_,"19.2.3"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var m1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Hn=sc.inject(m1),Qe=sc}catch{}}return Zl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=cg,f=hg,_=fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Fy(t,1,!1,null,null,a,l,null,h,f,_,n_),t[li]=n.current,Pf(t),new id(n)},Zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=cg,_=hg,T=fg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=Fy(t,1,!0,n,a??null,l,h,I,f,_,T,n_),n.context=Qy(null),a=n.current,l=wn(),l=rr(l),h=Sa(l),h.callback=null,Aa(a,h,l),a=l,n.current.lanes=a,ir(n,a),Ai(n),t[li]=n.current,Pf(t),new rc(n)},Zl.version="19.2.3",Zl}var d_;function b1(){if(d_)return sd.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sd.exports=A1(),sd.exports}var R1=b1();var m_="popstate";function w1(r={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return Sd("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ho(o)}return D1(e,i,null,r)}function de(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ei(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C1(){return Math.random().toString(36).substring(2,10)}function p_(r,e){return{usr:r.state,key:r.key,idx:e}}function Sd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?js(e):e,state:i,key:e&&e.key||s||C1()}}function ho({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function js(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function D1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function S(){p="POP";let Q=E(),G=Q==null?null:Q-y;y=Q,g&&g({action:p,location:J.location,delta:G})}function D(Q,G){p="PUSH";let lt=Sd(J.location,Q,G);y=E()+1;let W=p_(lt,y),mt=J.createHref(lt);try{d.pushState(W,"",mt)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;o.location.assign(mt)}c&&g&&g({action:p,location:J.location,delta:1})}function B(Q,G){p="REPLACE";let lt=Sd(J.location,Q,G);y=E();let W=p_(lt,y),mt=J.createHref(lt);d.replaceState(W,"",mt),c&&g&&g({action:p,location:J.location,delta:0})}function Y(Q){return N1(Q)}let J={get action(){return p},get location(){return r(o,d)},listen(Q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(m_,S),g=Q,()=>{o.removeEventListener(m_,S),g=null}},createHref(Q){return e(o,Q)},createURL:Y,encodeLocation(Q){let G=Y(Q);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:D,replace:B,go(Q){return d.go(Q)}};return J}function N1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),de(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ho(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Vv(r,e,i="/"){return I1(r,e,i,!1)}function I1(r,e,i,s){let o=typeof e=="string"?js(e):e,c=Wi(o.pathname||"/",i);if(c==null)return null;let d=xv(r);V1(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=q1(c);p=B1(d[g],y,s)}return p}function xv(r,e=[],i=[],s="",o=!1){let c=(d,p,g=o,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;de(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=$i([s,E.relativePath]),D=i.concat(E);d.children&&d.children.length>0&&(de(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),xv(d.children,e,D,S,g)),!(d.path==null&&!d.index)&&e.push({path:S,score:P1(S,d.index),routesMeta:D})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of Mv(d.path))c(d,p,!0,g)}),e}function Mv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Mv(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function V1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:j1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var x1=/^:[\w-]+$/,M1=3,O1=2,L1=1,U1=10,z1=-2,g_=r=>r==="*";function P1(r,e){let i=r.split("/"),s=i.length;return i.some(g_)&&(s+=z1),e&&(s+=O1),i.filter(o=>!g_(o)).reduce((o,c)=>o+(x1.test(c)?M1:c===""?L1:U1),s)}function j1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function B1(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=Ac({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),D=g.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=Ac({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:$i([c,S.pathname]),pathnameBase:Q1($i([c,S.pathnameBase])),route:D}),S.pathnameBase!=="/"&&(c=$i([c,S.pathnameBase]))}return d}function Ac(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=k1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},D)=>{if(E==="*"){let Y=p[D]||"";d=c.slice(0,c.length-Y.length).replace(/(.)\/+$/,"$1")}const B=p[D];return S&&!B?y[E]=void 0:y[E]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function k1(r,e=!1,i=!0){ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function q1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var Ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H1=r=>Ov.test(r);function G1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?js(r):r,c;if(i)if(H1(i))c=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${i}`)}i.startsWith("/")?c=y_(i.substring(1),"/"):c=y_(i,e)}else c=e;return{pathname:c,search:Y1(s),hash:K1(o)}}function y_(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function cd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Lv(r){let e=F1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Uv(r,e,i,s=!1){let o;typeof r=="string"?o=js(r):(o={...r},de(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),de(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),de(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let D=d.split("/");for(;D[0]==="..";)D.shift(),S-=1;o.pathname=D.join("/")}p=S>=0?e[S]:"/"}let g=G1(o,p),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),Q1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Y1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,K1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,X1=class{constructor(r,e,i,s=!1){this.status=r,this.statusText=e||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function $1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Z1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pv(r,e){let i=r;if(typeof i!="string"||!Ov.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(zv)try{let c=new URL(window.location.href),d=i.startsWith("//")?new URL(c.protocol+i):new URL(i),p=Wi(d.pathname,e);d.origin===c.origin&&p!=null?i=p+d.search+d.hash:o=!0}catch{ei(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jv=["POST","PUT","PATCH","DELETE"];new Set(jv);var J1=["GET",...jv];new Set(J1);var Bs=j.createContext(null);Bs.displayName="DataRouter";var Bc=j.createContext(null);Bc.displayName="DataRouterState";var W1=j.createContext(!1),Bv=j.createContext({isTransitioning:!1});Bv.displayName="ViewTransition";var tS=j.createContext(new Map);tS.displayName="Fetchers";var eS=j.createContext(null);eS.displayName="Await";var qn=j.createContext(null);qn.displayName="Navigation";var So=j.createContext(null);So.displayName="Location";var aa=j.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var Yd=j.createContext(null);Yd.displayName="RouteError";var kv="REACT_ROUTER_ERROR",nS="REDIRECT",iS="ROUTE_ERROR_RESPONSE";function aS(r){if(r.startsWith(`${kv}:${nS}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rS(r){if(r.startsWith(`${kv}:${iS}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new X1(e.status,e.statusText,e.data)}catch{}}function sS(r,{relative:e}={}){de(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=j.useContext(qn),{hash:o,pathname:c,search:d}=bo(r,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:$i([i,c])),s.createHref({pathname:p,search:d,hash:o})}function Ao(){return j.useContext(So)!=null}function Lr(){return de(Ao(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(So).location}var qv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hv(r){j.useContext(qn).static||j.useLayoutEffect(r)}function lS(){let{isDataRoute:r}=j.useContext(aa);return r?ES():oS()}function oS(){de(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Bs),{basename:e,navigator:i}=j.useContext(qn),{matches:s}=j.useContext(aa),{pathname:o}=Lr(),c=JSON.stringify(Lv(s)),d=j.useRef(!1);return Hv(()=>{d.current=!0}),j.useCallback((g,y={})=>{if(ei(d.current,qv),!d.current)return;if(typeof g=="number"){i.go(g);return}let E=Uv(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}j.createContext(null);function bo(r,{relative:e}={}){let{matches:i}=j.useContext(aa),{pathname:s}=Lr(),o=JSON.stringify(Lv(i));return j.useMemo(()=>Uv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function uS(r,e){return Gv(r,e)}function Gv(r,e,i,s,o){de(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(qn),{matches:d}=j.useContext(aa),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let lt=S&&S.path||"";Qv(y,!S||lt.endsWith("*")||lt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${lt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${lt}"> to <Route path="${lt==="/"?"*":`${lt}/*`}">.`)}let D=Lr(),B;if(e){let lt=typeof e=="string"?js(e):e;de(E==="/"||lt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${lt.pathname}" was given in the \`location\` prop.`),B=lt}else B=D;let Y=B.pathname||"/",J=Y;if(E!=="/"){let lt=E.replace(/^\//,"").split("/");J="/"+Y.replace(/^\//,"").split("/").slice(lt.length).join("/")}let Q=Vv(r,{pathname:J});ei(S||Q!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),ei(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=mS(Q&&Q.map(lt=>Object.assign({},lt,{params:Object.assign({},g,lt.params),pathname:$i([E,c.encodeLocation?c.encodeLocation(lt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?E:$i([E,c.encodeLocation?c.encodeLocation(lt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathnameBase])})),d,i,s,o);return e&&G?j.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},G):G}function cS(){let r=vS(),e=$1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),i?j.createElement("pre",{style:o},i):null,d)}var hS=j.createElement(cS,null),Fv=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=rS(r.digest);i&&(r=i)}let e=r!==void 0?j.createElement(aa.Provider,{value:this.props.routeContext},j.createElement(Yd.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(fS,{error:r},e):e}};Fv.contextType=W1;var hd=new WeakMap;function fS({children:r,error:e}){let{basename:i}=j.useContext(qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=aS(e.digest);if(s){let o=hd.get(e);if(o)throw o;let c=Pv(s.location,i);if(zv&&!hd.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw hd.set(e,d),d}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function dS({routeContext:r,match:e,children:i}){let s=j.useContext(Bs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(aa.Provider,{value:r},i)}function mS(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let E=c.findIndex(S=>S.route.id&&d?.[S.route.id]!==void 0);de(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let p=!1,g=-1;if(i)for(let E=0;E<c.length;E++){let S=c[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:D,errors:B}=i,Y=S.route.loader&&!D.hasOwnProperty(S.route.id)&&(!B||B[S.route.id]===void 0);if(S.route.lazy||Y){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=i&&s?(E,S)=>{s(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Z1(i.matches),errorInfo:S})}:void 0;return c.reduceRight((E,S,D)=>{let B,Y=!1,J=null,Q=null;i&&(B=d&&S.route.id?d[S.route.id]:void 0,J=S.route.errorElement||hS,p&&(g<0&&D===0?(Qv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,Q=null):g===D&&(Y=!0,Q=S.route.hydrateFallbackElement||null)));let G=e.concat(c.slice(0,D+1)),lt=()=>{let W;return B?W=J:Y?W=Q:S.route.Component?W=j.createElement(S.route.Component,null):S.route.element?W=S.route.element:W=E,j.createElement(dS,{match:S,routeContext:{outlet:E,matches:G,isDataRoute:i!=null},children:W})};return i&&(S.route.ErrorBoundary||S.route.errorElement||D===0)?j.createElement(Fv,{location:i.location,revalidation:i.revalidation,component:J,error:B,children:lt(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:y}):lt()},null)}function Kd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pS(r){let e=j.useContext(Bs);return de(e,Kd(r)),e}function gS(r){let e=j.useContext(Bc);return de(e,Kd(r)),e}function yS(r){let e=j.useContext(aa);return de(e,Kd(r)),e}function Xd(r){let e=yS(r),i=e.matches[e.matches.length-1];return de(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function _S(){return Xd("useRouteId")}function vS(){let r=j.useContext(Yd),e=gS("useRouteError"),i=Xd("useRouteError");return r!==void 0?r:e.errors?.[i]}function ES(){let{router:r}=pS("useNavigate"),e=Xd("useNavigate"),i=j.useRef(!1);return Hv(()=>{i.current=!0}),j.useCallback(async(o,c={})=>{ei(i.current,qv),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var __={};function Qv(r,e,i){!e&&!__[r]&&(__[r]=!0,ei(!1,i))}j.memo(TS);function TS({routes:r,future:e,state:i,onError:s}){return Gv(r,void 0,i,s,e)}function Wl(r){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SS({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){de(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[p,o,c,d]);typeof i=="string"&&(i=js(i));let{pathname:y="/",search:E="",hash:S="",state:D=null,key:B="default"}=i,Y=j.useMemo(()=>{let J=Wi(y,p);return J==null?null:{location:{pathname:J,search:E,hash:S,state:D,key:B},navigationType:s}},[p,y,E,S,D,B,s]);return ei(Y!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:j.createElement(qn.Provider,{value:g},j.createElement(So.Provider,{children:e,value:Y}))}function AS({children:r,location:e}){return uS(Ad(r),e)}function Ad(r,e=[]){let i=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let c=[...e,o];if(s.type===j.Fragment){i.push.apply(i,Ad(s.props.children,c));return}de(s.type===Wl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Ad(s.props.children,c)),i.push(d)}),i}var mc="get",pc="application/x-www-form-urlencoded";function kc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function bS(r){return kc(r)&&r.tagName.toLowerCase()==="button"}function RS(r){return kc(r)&&r.tagName.toLowerCase()==="form"}function wS(r){return kc(r)&&r.tagName.toLowerCase()==="input"}function CS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function DS(r,e){return r.button===0&&(!e||e==="_self")&&!CS(r)}var lc=null;function NS(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var IS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fd(r){return r!=null&&!IS.has(r)?(ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pc}"`),null):r}function VS(r,e){let i,s,o,c,d;if(RS(r)){let p=r.getAttribute("action");s=p?Wi(p,e):null,i=r.getAttribute("method")||mc,o=fd(r.getAttribute("enctype"))||pc,c=new FormData(r)}else if(bS(r)||wS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?Wi(g,e):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||mc,o=fd(r.getAttribute("formenctype"))||fd(p.getAttribute("enctype"))||pc,c=new FormData(p,r),!NS()){let{name:y,type:E,value:S}=r;if(E==="image"){let D=y?`${y}.`:"";c.append(`${D}x`,"0"),c.append(`${D}y`,"0")}else y&&c.append(y,S)}}else{if(kc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=mc,s=null,o=pc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $d(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xS(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Wi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function MS(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function LS(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await MS(c,i);return d.links?d.links():[]}return[]}));return jS(s.flat(1).filter(OS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function v_(r,e,i,s,o,c){let d=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function US(r,e,{includeHydrateFallback:i}={}){return zS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function zS(r){return[...new Set(r)]}function PS(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function jS(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(PS(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Yv(){let r=j.useContext(Bs);return $d(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function BS(){let r=j.useContext(Bc);return $d(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zd=j.createContext(void 0);Zd.displayName="FrameworkContext";function Kv(){let r=j.useContext(Zd);return $d(r,"You must render this element inside a <HydratedRouter> element"),r}function kS(r,e){let i=j.useContext(Zd),[s,o]=j.useState(!1),[c,d]=j.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,D=j.useRef(null);j.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let J=G=>{G.forEach(lt=>{d(lt.isIntersecting)})},Q=new IntersectionObserver(J,{threshold:.5});return D.current&&Q.observe(D.current),()=>{Q.disconnect()}}},[r]),j.useEffect(()=>{if(s){let J=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(J)}}},[s]);let B=()=>{o(!0)},Y=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,D,{}]:[c,D,{onFocus:Jl(p,B),onBlur:Jl(g,Y),onMouseEnter:Jl(y,B),onMouseLeave:Jl(E,Y),onTouchStart:Jl(S,B)}]:[!1,D,{}]}function Jl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function qS({page:r,...e}){let{router:i}=Yv(),s=j.useMemo(()=>Vv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?j.createElement(GS,{page:r,matches:s,...e}):null}function HS(r){let{manifest:e,routeModules:i}=Kv(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return LS(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function GS({page:r,matches:e,...i}){let s=Lr(),{manifest:o,routeModules:c}=Kv(),{basename:d}=Yv(),{loaderData:p,matches:g}=BS(),y=j.useMemo(()=>v_(r,e,g,o,s,"data"),[r,e,g,o,s]),E=j.useMemo(()=>v_(r,e,g,o,s,"assets"),[r,e,g,o,s]),S=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,J=!1;if(e.forEach(G=>{let lt=o.routes[G.route.id];!lt||!lt.hasLoader||(!y.some(W=>W.route.id===G.route.id)&&G.route.id in p&&c[G.route.id]?.shouldRevalidate||lt.hasClientLoader?J=!0:Y.add(G.route.id))}),Y.size===0)return[];let Q=xS(r,d,"data");return J&&Y.size>0&&Q.searchParams.set("_routes",e.filter(G=>Y.has(G.route.id)).map(G=>G.route.id).join(",")),[Q.pathname+Q.search]},[d,p,s,o,y,e,r,c]),D=j.useMemo(()=>US(E,o),[E,o]),B=HS(E);return j.createElement(j.Fragment,null,S.map(Y=>j.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...i})),D.map(Y=>j.createElement("link",{key:Y,rel:"modulepreload",href:Y,...i})),B.map(({key:Y,link:J})=>j.createElement("link",{key:Y,nonce:i.nonce,...J})))}function FS(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var QS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QS&&(window.__reactRouterVersion="7.11.0")}catch{}function YS({basename:r,children:e,unstable_useTransitions:i,window:s}){let o=j.useRef();o.current==null&&(o.current=w1({window:s,v5Compat:!0}));let c=o.current,[d,p]=j.useState({action:c.action,location:c.location}),g=j.useCallback(y=>{i===!1?p(y):j.startTransition(()=>p(y))},[i]);return j.useLayoutEffect(()=>c.listen(g),[c,g]),j.createElement(SS,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:i})}var Xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ns=j.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:D,...B},Y){let{basename:J,unstable_useTransitions:Q}=j.useContext(qn),G=typeof y=="string"&&Xv.test(y),lt=Pv(y,J);y=lt.to;let W=sS(y,{relative:o}),[mt,vt,gt]=kS(s,B),N=ZS(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:D,unstable_useTransitions:Q});function b(x){e&&e(x),x.defaultPrevented||N(x)}let w=j.createElement("a",{...B,...gt,href:lt.absoluteURL||W,onClick:lt.isExternal||c?e:b,ref:FS(Y,vt),target:g,"data-discover":!G&&i==="render"?"true":void 0});return mt&&!G?j.createElement(j.Fragment,null,w,j.createElement(qS,{page:W})):w});Ns.displayName="Link";var KS=j.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},E){let S=bo(d,{relative:y.relative}),D=Lr(),B=j.useContext(Bc),{navigator:Y,basename:J}=j.useContext(qn),Q=B!=null&&nA(S)&&p===!0,G=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,lt=D.pathname,W=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;i||(lt=lt.toLowerCase(),W=W?W.toLowerCase():null,G=G.toLowerCase()),W&&J&&(W=Wi(W,J)||W);const mt=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let vt=lt===G||!o&&lt.startsWith(G)&&lt.charAt(mt)==="/",gt=W!=null&&(W===G||!o&&W.startsWith(G)&&W.charAt(G.length)==="/"),N={isActive:vt,isPending:gt,isTransitioning:Q},b=vt?e:void 0,w;typeof s=="function"?w=s(N):w=[s,vt?"active":null,gt?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let x=typeof c=="function"?c(N):c;return j.createElement(Ns,{...y,"aria-current":b,className:w,ref:E,style:x,to:d,viewTransition:p},typeof g=="function"?g(N):g)});KS.displayName="NavLink";var XS=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=mc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:D,...B},Y)=>{let{unstable_useTransitions:J}=j.useContext(qn),Q=tA(),G=eA(p,{relative:y}),lt=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&Xv.test(p),mt=vt=>{if(g&&g(vt),vt.defaultPrevented)return;vt.preventDefault();let gt=vt.nativeEvent.submitter,N=gt?.getAttribute("formmethod")||d,b=()=>Q(gt||vt.currentTarget,{fetcherKey:e,method:N,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:D});J&&i!==!1?j.startTransition(()=>b()):b()};return j.createElement("form",{ref:Y,method:lt,action:G,onSubmit:s?g:mt,...B,"data-discover":!W&&r==="render"?"true":void 0})});XS.displayName="Form";function $S(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $v(r){let e=j.useContext(Bs);return de(e,$S(r)),e}function ZS(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=lS(),E=Lr(),S=bo(r,{relative:c});return j.useCallback(D=>{if(DS(D,e)){D.preventDefault();let B=i!==void 0?i:ho(E)===ho(S),Y=()=>y(r,{replace:B,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:p});g?j.startTransition(()=>Y()):Y()}},[E,y,S,i,s,e,r,o,c,d,p,g])}var JS=0,WS=()=>`__${String(++JS)}__`;function tA(){let{router:r}=$v("useSubmit"),{basename:e}=j.useContext(qn),i=_S(),s=r.fetch,o=r.navigate;return j.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:E,body:S}=VS(c,e);if(d.navigate===!1){let D=d.fetcherKey||WS();await s(D,i,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:S,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:E,body:S,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,i])}function eA(r,{relative:e}={}){let{basename:i}=j.useContext(qn),s=j.useContext(aa);de(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...bo(r||".",{relative:e})},d=Lr();if(r==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:$i([i,c.pathname])),ho(c)}function nA(r,{relative:e}={}){let i=j.useContext(Bv);de(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$v("useViewTransitionState"),o=bo(r,{relative:e});if(!i.isTransitioning)return!1;let c=Wi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Wi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Ac(o.pathname,d)!=null||Ac(o.pathname,c)!=null}const iA=()=>{};var E_={};const Zv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},aA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|y>>6,B=y&63;g||(B=64,d||(D=64)),s.push(i[E],i[S],i[D],i[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new rA;const D=c<<2|p>>4;if(s.push(D),y!==64){const B=p<<4&240|y>>2;if(s.push(B),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sA=function(r){const e=Zv(r);return Jv.encodeByteArray(e,!0)},bc=function(r){return sA(r).replace(/\./g,"")},lA=function(r){try{return Jv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uA=()=>oA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof E_>"u")return;const r=E_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lA(r[1]);return e&&JSON.parse(e)},Jd=()=>{try{return iA()||uA()||cA()||hA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fA=r=>Jd()?.emulatorHosts?.[r],dA=r=>{const e=fA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Wv=()=>Jd()?.config;class mA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Wd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pA(r){return(await fetch(r,{credentials:"include"})).ok}function gA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bc(JSON.stringify(i)),bc(JSON.stringify(d)),""].join(".")}const ao={};function yA(){const r={prod:[],emulator:[]};for(const e of Object.keys(ao))ao[e]?r.emulator.push(e):r.prod.push(e);return r}function _A(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let T_=!1;function vA(r,e){if(typeof window>"u"||typeof document>"u"||!Wd(window.location.host)||ao[r]===e||ao[r]||T_)return;ao[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=yA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,B){D.setAttribute("width","24"),D.setAttribute("id",B),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{T_=!0,d()},D}function E(D,B){D.setAttribute("id",B),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=_A(s),B=i("text"),Y=document.getElementById(B)||document.createElement("span"),J=i("learnmore"),Q=document.getElementById(J)||document.createElement("a"),G=i("preprendIcon"),lt=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const W=D.element;p(W),E(Q,J);const mt=y();g(lt,G),W.append(lt,Y,Q,mt),document.body.appendChild(W)}c?(Y.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function EA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TA(){const r=Jd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SA(){return!TA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function bA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const RA="FirebaseError";class ks extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=RA,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tE.prototype.create)}}class tE{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?wA(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ks(o,p,s)}}function wA(r,e){return r.replace(CA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CA=/\{\$([^}]+)}/g;function Rc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(S_(c)&&S_(d)){if(!Rc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function S_(r){return r!==null&&typeof r=="object"}function ta(r){return r&&r._delegate?r._delegate:r}class fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ir="[DEFAULT]";class DA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new mA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(r){return r===Ir?void 0:r}function IA(r){return r.instantiationMode==="EAGER"}class VA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const xA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},MA=Ht.INFO,OA={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},LA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=OA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eE{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const UA=(r,e)=>e.some(i=>r instanceof i);let A_,b_;function zA(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,bd=new WeakMap,iE=new WeakMap,dd=new WeakMap,tm=new WeakMap;function jA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ba(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&nE.set(i,r)}).catch(()=>{}),tm.set(e,r),e}function BA(r){if(bd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});bd.set(r,e)}let Rd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return bd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||iE.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ba(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kA(r){Rd=r(Rd)}function qA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(md(this),e,...i);return iE.set(s,e.sort?e.sort():[e]),Ba(s)}:PA().includes(r)?function(...e){return r.apply(md(this),e),Ba(nE.get(this))}:function(...e){return Ba(r.apply(md(this),e))}}function HA(r){return typeof r=="function"?qA(r):(r instanceof IDBTransaction&&BA(r),UA(r,zA())?new Proxy(r,Rd):r)}function Ba(r){if(r instanceof IDBRequest)return jA(r);if(dd.has(r))return dd.get(r);const e=HA(r);return e!==r&&(dd.set(r,e),tm.set(e,r)),e}const md=r=>tm.get(r);function GA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=Ba(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Ba(d.result),g.oldVersion,g.newVersion,Ba(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const FA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],pd=new Map;function R_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=QA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FA.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&g.done]))[0]};return pd.set(e,c),c}kA(r=>({...r,get:(e,i,s)=>R_(e,i)||r.get(e,i,s),has:(e,i)=>!!R_(e,i)||r.has(e,i)}));class YA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function KA(r){return r.getComponent()?.type==="VERSION"}const wd="@firebase/app",w_="0.14.6";const ea=new eE("@firebase/app"),XA="@firebase/app-compat",$A="@firebase/analytics-compat",ZA="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",tb="@firebase/auth",eb="@firebase/auth-compat",nb="@firebase/database",ib="@firebase/data-connect",ab="@firebase/database-compat",rb="@firebase/functions",sb="@firebase/functions-compat",lb="@firebase/installations",ob="@firebase/installations-compat",ub="@firebase/messaging",cb="@firebase/messaging-compat",hb="@firebase/performance",fb="@firebase/performance-compat",db="@firebase/remote-config",mb="@firebase/remote-config-compat",pb="@firebase/storage",gb="@firebase/storage-compat",yb="@firebase/firestore",_b="@firebase/ai",vb="@firebase/firestore-compat",Eb="firebase",Tb="12.6.0";const Cd="[DEFAULT]",Sb={[wd]:"fire-core",[XA]:"fire-core-compat",[ZA]:"fire-analytics",[$A]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[tb]:"fire-auth",[eb]:"fire-auth-compat",[nb]:"fire-rtdb",[ib]:"fire-data-connect",[ab]:"fire-rtdb-compat",[rb]:"fire-fn",[sb]:"fire-fn-compat",[lb]:"fire-iid",[ob]:"fire-iid-compat",[ub]:"fire-fcm",[cb]:"fire-fcm-compat",[hb]:"fire-perf",[fb]:"fire-perf-compat",[db]:"fire-rc",[mb]:"fire-rc-compat",[pb]:"fire-gcs",[gb]:"fire-gcs-compat",[yb]:"fire-fst",[vb]:"fire-fst-compat",[_b]:"fire-vertex","fire-js":"fire-js",[Eb]:"fire-js-all"};const wc=new Map,Ab=new Map,Dd=new Map;function C_(r,e){try{r.container.addComponent(e)}catch(i){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Cc(r){const e=r.name;if(Dd.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;Dd.set(e,r);for(const i of wc.values())C_(i,r);for(const i of Ab.values())C_(i,r);return!0}function bb(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Rb(r){return r==null?!1:r.settings!==void 0}const wb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new tE("app","Firebase",wb);class Cb{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}const Db=Tb;function aE(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Cd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ka.create("bad-app-name",{appName:String(o)});if(i||(i=Wv()),!i)throw ka.create("no-options");const c=wc.get(o);if(c){if(Rc(i,c.options)&&Rc(s,c.config))return c;throw ka.create("duplicate-app",{appName:o})}const d=new VA(o);for(const g of Dd.values())d.addComponent(g);const p=new Cb(i,s,d);return wc.set(o,p),p}function Nb(r=Cd){const e=wc.get(r);if(!e&&r===Cd&&Wv())return aE();if(!e)throw ka.create("no-app",{appName:r});return e}function Is(r,e,i){let s=Sb[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(d.join(" "));return}Cc(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Ib="firebase-heartbeat-database",Vb=1,mo="firebase-heartbeat-store";let gd=null;function rE(){return gd||(gd=GA(Ib,Vb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mo)}catch(i){console.warn(i)}}}}).catch(r=>{throw ka.create("idb-open",{originalErrorMessage:r.message})})),gd}async function xb(r){try{const i=(await rE()).transaction(mo),s=await i.objectStore(mo).get(sE(r));return await i.done,s}catch(e){if(e instanceof ks)ea.warn(e.message);else{const i=ka.create("idb-get",{originalErrorMessage:e?.message});ea.warn(i.message)}}}async function D_(r,e){try{const s=(await rE()).transaction(mo,"readwrite");await s.objectStore(mo).put(e,sE(r)),await s.done}catch(i){if(i instanceof ks)ea.warn(i.message);else{const s=ka.create("idb-set",{originalErrorMessage:i?.message});ea.warn(s.message)}}}function sE(r){return`${r.name}!${r.options.appId}`}const Mb=1024,Ob=30;class Lb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ob){const o=Pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ea.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N_(),{heartbeatsToSend:i,unsentEntries:s}=Ub(this._heartbeatsCache.heartbeats),o=bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ea.warn(e),""}}}function N_(){return new Date().toISOString().substring(0,10)}function Ub(r,e=Mb){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),I_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),I_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class zb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?bA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function I_(r){return bc(JSON.stringify({version:2,heartbeats:r})).length}function Pb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function jb(r){Cc(new fo("platform-logger",e=>new YA(e),"PRIVATE")),Cc(new fo("heartbeat",e=>new Lb(e),"PRIVATE")),Is(wd,w_,r),Is(wd,w_,"esm2020"),Is("fire-js","")}jb("");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qa,lE;(function(){var r;function e(N,b){function w(){}w.prototype=b.prototype,N.F=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(x,V,L){for(var C=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)C[Ot-2]=arguments[Ot];return b.prototype[V].apply(x,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,w){w||(w=0);const x=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)x[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;V<16;++V)x[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],V=N.g[2];let L=N.g[3],C;C=b+(L^w&(V^L))+x[0]+3614090360&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(V^b&(w^V))+x[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(w^L&(b^w))+x[2]+606105819&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(b^V&(L^b))+x[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(L^w&(V^L))+x[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(V^b&(w^V))+x[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(w^L&(b^w))+x[6]+2821735955&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(b^V&(L^b))+x[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(L^w&(V^L))+x[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(V^b&(w^V))+x[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(w^L&(b^w))+x[10]+4294925233&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(b^V&(L^b))+x[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(L^w&(V^L))+x[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(V^b&(w^V))+x[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=V+(w^L&(b^w))+x[14]+2792965006&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(b^V&(L^b))+x[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(V^L&(w^V))+x[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(b^w))+x[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(L^b))+x[11]+643717713&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(V^L))+x[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^L&(w^V))+x[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(b^w))+x[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(L^b))+x[15]+3634488961&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(V^L))+x[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^L&(w^V))+x[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(b^w))+x[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(L^b))+x[3]+4107603335&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(V^L))+x[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^L&(w^V))+x[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(b^w))+x[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(L^b))+x[7]+1735328473&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(V^L))+x[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(w^V^L)+x[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^V)+x[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^w)+x[11]+1839030562&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^b)+x[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^L)+x[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^V)+x[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^w)+x[7]+4139469664&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^b)+x[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^L)+x[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^V)+x[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^w)+x[3]+3572445317&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^b)+x[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^L)+x[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^V)+x[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=V+(L^b^w)+x[15]+530742520&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^b)+x[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(V^(w|~L))+x[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~V))+x[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~w))+x[14]+2878612391&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~b))+x[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~L))+x[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~V))+x[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~w))+x[10]+4293915773&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~b))+x[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~L))+x[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~V))+x[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~w))+x[6]+2734768916&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~b))+x[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~L))+x[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~V))+x[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=V+(b^(L|~w))+x[2]+718787259&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~b))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,b){b===void 0&&(b=N.length);const w=b-this.blockSize,x=this.C;let V=this.h,L=0;for(;L<b;){if(V==0)for(;L<=w;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<b;)if(x[V++]=N.charCodeAt(L++),V==this.blockSize){o(this,x),V=0;break}}else for(;L<b;)if(x[V++]=N[L++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=b},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,w=0;w<4;++w)for(let x=0;x<32;x+=8)N[b++]=this.g[w]>>>x&255;return N};function c(N,b){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function d(N,b){this.h=b;const w=[];let x=!0;for(let V=N.length-1;V>=0;V--){const L=N[V]|0;x&&L==b||(w[V]=L,x=!1)}this.g=w}var p={};function g(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Q(y(-N));const b=[];let w=1;for(let x=0;N>=w;x++)b[x]=N/w|0,w*=4294967296;return new d(b,0)}function E(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return Q(E(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(b,8));let x=S;for(let L=0;L<N.length;L+=8){var V=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+V),b);V<8?(V=y(Math.pow(b,V)),x=x.j(V).add(y(C))):(x=x.j(w),x=x.add(y(C)))}return x}var S=g(0),D=g(1),B=g(16777216);r=d.prototype,r.m=function(){if(J(this))return-Q(this).m();let N=0,b=1;for(let w=0;w<this.g.length;w++){const x=this.i(w);N+=(x>=0?x:4294967296+x)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(J(this))return"-"+Q(this).toString(N);const b=y(Math.pow(N,6));var w=this;let x="";for(;;){const V=mt(w,b).g;w=G(w,V.j(b));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=V,Y(w))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function J(N){return N.h==-1}r.l=function(N){return N=G(this,N),J(N)?-1:Y(N)?0:1};function Q(N){const b=N.g.length,w=[];for(let x=0;x<b;x++)w[x]=~N.g[x];return new d(w,~N.h).add(D)}r.abs=function(){return J(this)?Q(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),w=[];let x=0;for(let V=0;V<=b;V++){let L=x+(this.i(V)&65535)+(N.i(V)&65535),C=(L>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);x=C>>>16,L&=65535,C&=65535,w[V]=C<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function G(N,b){return N.add(Q(b))}r.j=function(N){if(Y(this)||Y(N))return S;if(J(this))return J(N)?Q(this).j(Q(N)):Q(Q(this).j(N));if(J(N))return Q(this.j(Q(N)));if(this.l(B)<0&&N.l(B)<0)return y(this.m()*N.m());const b=this.g.length+N.g.length,w=[];for(var x=0;x<2*b;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(let V=0;V<N.g.length;V++){const L=this.i(x)>>>16,C=this.i(x)&65535,Ot=N.i(V)>>>16,ht=N.i(V)&65535;w[2*x+2*V]+=C*ht,lt(w,2*x+2*V),w[2*x+2*V+1]+=L*ht,lt(w,2*x+2*V+1),w[2*x+2*V+1]+=C*Ot,lt(w,2*x+2*V+1),w[2*x+2*V+2]+=L*Ot,lt(w,2*x+2*V+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new d(w,0)};function lt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function W(N,b){this.g=N,this.h=b}function mt(N,b){if(Y(b))throw Error("division by zero");if(Y(N))return new W(S,S);if(J(N))return b=mt(Q(N),b),new W(Q(b.g),Q(b.h));if(J(b))return b=mt(N,Q(b)),new W(Q(b.g),b.h);if(N.g.length>30){if(J(N)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var w=D,x=b;x.l(N)<=0;)w=vt(w),x=vt(x);var V=gt(w,1),L=gt(x,1);for(x=gt(x,2),w=gt(w,2);!Y(x);){var C=L.add(x);C.l(N)<=0&&(V=V.add(w),L=C),x=gt(x,1),w=gt(w,1)}return b=G(N,V.j(b)),new W(V,b)}for(V=S;N.l(b)>=0;){for(w=Math.max(1,Math.floor(N.m()/b.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=y(w),C=L.j(b);J(C)||C.l(N)>0;)w-=x,L=y(w),C=L.j(b);Y(L)&&(L=D),V=V.add(L),N=G(N,C)}return new W(V,N)}r.B=function(N){return mt(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let x=0;x<b;x++)w[x]=this.i(x)&N.i(x);return new d(w,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let x=0;x<b;x++)w[x]=this.i(x)|N.i(x);return new d(w,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),w=[];for(let x=0;x<b;x++)w[x]=this.i(x)^N.i(x);return new d(w,this.h^N.h)};function vt(N){const b=N.g.length+1,w=[];for(let x=0;x<b;x++)w[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(w,N.h)}function gt(N,b){const w=b>>5;b%=32;const x=N.g.length-w,V=[];for(let L=0;L<x;L++)V[L]=b>0?N.i(L+w)>>>b|N.i(L+w+1)<<32-b:N.i(L+w);return new d(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,qa=d}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oE,to,uE,gc,Nd,cE,hE,fE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in v))break t;v=v[k]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=g,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,k,X){for(var dt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)dt[Vt-2]=arguments[Vt];return m.prototype[k].apply(A,dt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Y(u,m){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const X=k.length||0;u.length=v+X;for(let dt=0;dt<X;dt++)u[v+dt]=k[dt]}else u.push(k)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){d.setTimeout(()=>{throw u},0)}function G(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,v){const A=W.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new J(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,gt=!1,N=new lt,b=()=>{const u=Promise.resolve(void 0);vt=()=>{u.then(w)}};function w(){for(var u;u=G();){try{u.h.call(u.g)}catch(v){Q(v)}var m=W;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}gt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Ot(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Ot,V),Ot.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ot.Z.h.call(this)},Ot.prototype.h=function(){Ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),U=0;function K(u,m,v,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=k,this.key=++U,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function ct(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function R(u){const m={};for(const v in u)m[v]=u[v];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)u[v]=A[v];for(let X=0;X<P.length;X++)v=P[X],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,A,k){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const dt=ot(u,m,A,k);return dt>-1?(m=u[dt],v||(m.fa=!1)):(m=new K(m,this.src,X,!!A,k),m.fa=v,u.push(m)),m};function st(u,m){const v=m.type;if(v in u.g){var A=u.g[v],k=Array.prototype.indexOf.call(A,m,void 0),X;(X=k>=0)&&Array.prototype.splice.call(A,k,1),X&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ot(u,m,v,A){for(let k=0;k<u.length;++k){const X=u[k];if(!X.da&&X.listener==m&&X.capture==!!v&&X.ha==A)return k}return-1}var ft="closure_lm_"+(Math.random()*1e6|0),Et={};function At(u,m,v,A,k){if(Array.isArray(m)){for(let X=0;X<m.length;X++)At(u,m[X],v,A,k);return null}return v=Ks(v),u&&u[ht]?u.J(m,v,p(A)?!!A.capture:!1,k):Xt(u,m,v,!1,A,k)}function Xt(u,m,v,A,k,X){if(!m)throw Error("Invalid event type");const dt=p(k)?!!k.capture:!!k;let Vt=tr(u);if(Vt||(u[ft]=Vt=new rt(u)),v=Vt.add(m,v,A,dt,X),v.proxy)return v;if(A=se(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(k=dt),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(Qt(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function se(){function u(v){return m.call(u.src,u.listener,v)}const m=ye;return u}function Ue(u,m,v,A,k){if(Array.isArray(m))for(var X=0;X<m.length;X++)Ue(u,m[X],v,A,k);else A=p(A)?!!A.capture:!!A,v=Ks(v),u&&u[ht]?(u=u.i,X=String(m).toString(),X in u.g&&(m=u.g[X],v=ot(m,v,A,k),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[X],u.h--)))):u&&(u=tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,v,A,k)),(v=u>-1?m[u]:null)&&ra(v))}function ra(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ht])st(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Qt(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=tr(m))?(st(v,u),v.h==0&&(v.src=null,m[ft]=null)):ut(u)}}}function Qt(u){return u in Et?Et[u]:Et[u]="on"+u}function ye(u,m){if(u.da)u=!0;else{m=new Ot(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ra(u),u=v.call(A,m)}return u}function tr(u){return u=u[ft],u instanceof rt?u:null}var Ys="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ks(u){return typeof u=="function"?u:(u[Ys]||(u[Ys]=function(m){return u.handleEvent(m)}),u[Ys])}function Ae(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}S(Ae,x),Ae.prototype[ht]=!0,Ae.prototype.removeEventListener=function(u,m,v,A){Ue(this,u,m,v,A)};function ze(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var k=m;m=new V(A,u),et(m,k)}k=!0;let X,dt;if(v)for(dt=v.length-1;dt>=0;dt--)X=m.g=v[dt],k=sa(X,A,!0,m)&&k;if(X=m.g=u,k=sa(X,A,!0,m)&&k,k=sa(X,A,!1,m)&&k,v)for(dt=0;dt<v.length;dt++)X=m.g=v[dt],k=sa(X,A,!1,m)&&k}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ut(v[A]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},Ae.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function sa(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let X=0;X<m.length;++X){const dt=m[X];if(dt&&!dt.da&&dt.capture==v){const Vt=dt.listener,ve=dt.ha||dt.src;dt.fa&&st(u.i,dt),k=Vt.call(ve,A)!==!1&&k}}return k&&!A.defaultPrevented}function rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function xo(u){u.g=rh(()=>{u.g=null,u.i&&(u.i=!1,xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(u){x.call(this),this.h=u,this.g={}}S(er,x);var Xs=[];function $s(u){pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ra(m)},u),u.g={}}er.prototype.N=function(){er.Z.N.call(this),$s(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var la=d.JSON.stringify,sh=d.JSON.parse,Mo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Oo(){}function Lo(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){V.call(this,"d")}S(Qe,V);function Dn(){V.call(this,"c")}S(Dn,V);var _e={},Uo=null;function Pr(){return Uo=Uo||new Ae}_e.Ia="serverreachability";function zo(u){V.call(this,_e.Ia,u)}S(zo,V);function ii(u){const m=Pr();ze(m,new zo(m))}_e.STAT_EVENT="statevent";function nr(u,m){V.call(this,_e.STAT_EVENT,u),this.stat=m}S(nr,V);function be(u){const m=Pr();ze(m,new nr(m,u))}_e.Ja="timingevent";function ai(u,m){V.call(this,_e.Ja,u),this.size=m}S(ai,V);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function lh(u,m,v,A,k,X){u.info(function(){if(u.g)if(X){var dt="",Vt=X.split("&");for(let Yt=0;Yt<Vt.length;Yt++){var ve=Vt[Yt].split("=");if(ve.length>1){const he=ve[0];ve=ve[1];const xn=he.split("_");dt=xn.length>=2&&xn[1]=="type"?dt+(he+"="+ve+"&"):dt+(he+"=redacted&")}}}else dt=null;else dt=X;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+v+`
`+dt})}function Po(u,m,v,A,k,X,dt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+v+`
`+X+" "+dt})}function si(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+oh(u,v)+(A?" "+A:"")})}function ir(u,m){u.info(function(){return"TIMEOUT: "+m})}Gn.prototype.info=function(){};function oh(u,m){if(!u.g)return m;if(!m)return null;try{const X=JSON.parse(m);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var v=X[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let dt=1;dt<A.length;dt++)A[dt]=""}}}}return la(X)}catch{return m}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Js;function rr(){}S(rr,Oo),rr.prototype.g=function(){return new XMLHttpRequest},Js=new rr;function Vi(u){return encodeURIComponent(String(u))}function jo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Re={},ke={};function li(u,m,v){u.M=1,u.A=sr(Ce(m)),u.u=v,u.R=!0,jr(u,null)}function jr(u,m){u.F=Date.now(),oi(u),u.B=Ce(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Hr(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Qn,u.g=tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new sn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(Xs[0]=k.toString()),k=Xs);for(let X=0;X<k.length;X++){const dt=At(v,k[X],A||m.handleEvent,!1,m.h||m);if(!dt)break;m.g[dt.key]=dt}m=u.J?R(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),lh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const Vt=Xn(this.g),ve=this.g.ya(),Yt=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Vt!=4||ve==7||(ve==8||Yt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=uh(this);if(this.o=m==200,Po(this.i,this.v,this.B,this.l,this.S,Vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var X=A;break e}}X=null}if(u=X)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,be(12),_n(this),Nn(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=ko(this,v),he==ke){Vt==4&&(this.m=4,be(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,be(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,he,null),ci(this,he);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),dl(dt),dt.P=!0,be(11))}}else si(this.i,this.l,v,null),ci(this,v);Vt==4&&_n(this),this.o&&!this.K&&(Vt==4?$o(this.j,this):(this.o=!1,oi(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),_n(this),Nn(this)}}}catch{}};function uh(u){if(!Bo(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const A=m.length,k=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let X=0;X<A;X++)u.h.h=!0,v+=u.h.i.decode(m[X],{stream:!(k&&X==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Bo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ko(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ke:(v=Number(m.substring(v,A)),isNaN(v)?Re:(A+=1,A+v>m.length?ke:(m=m.slice(A,A+v),u.C=A+v,m)))}Fn.prototype.cancel=function(){this.K=!0,_n(this)};function oi(u){u.T=Date.now()+u.H,Br(u,u.H)}function Br(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(y(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ir(this.i,this.B),this.M!=2&&(ii(),be(17)),_n(this),this.m=2,Nn(this)):Br(this,this.T-u)};function Nn(u){u.j.I==0||u.K||$o(u.j,u)}function _n(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$s(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Kr(v),pa(v);else break t;dr(v),be(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&Kr(v),!C(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let Yt=k[m];const he=Yt[0];if(!(he<=v.K))if(v.K=he,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const xn=Yt[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const vi=Yt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const $n=Yt[5];$n!=null&&typeof $n=="number"&&$n>0&&(A=1.5*$n,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=u.g;if(Zn){const mr=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var X=A.h;X.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(el(X,X.h),X.h=null))}if(A.G){const Xr=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(A.wa=Xr,Zt(A.J,A.G,Xr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var dt=u;if(A.na=Wo(A,A.L?A.ba:null,A.W),dt.L){nl(A.h,dt);var Vt=dt,ve=A.O;ve&&(Vt.H=ve),Vt.D&&(ui(Vt),oi(Vt)),A.g=dt}else Ko(A);v.i.length>0&&yi(v)}else Yt[0]!="stop"&&Yt[0]!="close"||_i(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?_i(v,7):hl(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}ii(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function Ws(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function el(u,m){u.g?u.g.add(m):u.h=m}function nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ws.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let k,X=null;A>=0?(k=u[v].substring(0,A),X=u[v].substring(A+1)):k=u[v],m(k,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,oa(this,u.u),this.h=u.h,al(this,Qo(u.i)),this.m=u.m):u&&(m=String(u).match(qo))?(this.l=!1,qe(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),oa(this,m[4]),this.h=di(m[5]||"",!0),al(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new ca(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,qr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,qr,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(lr(v,v.charAt(0)=="/"?rl:Ho,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",lr(v,Go)),u.join("")},vn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)oa(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=m.h.lastIndexOf("/");k!=-1&&(A=m.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const X=[];for(let dt=0;dt<k.length;){const Vt=k[dt++];Vt=="."?A&&dt==k.length&&X.push(""):Vt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&dt==k.length&&X.push("")):(X.push(Vt),A=!0)}A=X.join("/")}else A=k}return v?m.h=A:v=u.i.toString()!=="",v?al(m,Qo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new vn(u)}function qe(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function oa(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function al(u,m,v){m instanceof ca?(u.i=m,Gr(u.i,u.l)):(v||(m=lr(m,ua)),u.i=new ca(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function sr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qr=/[#\/\?@]/g,Ho=/[#\?:]/g,rl=/[#\?]/g,ua=/[#\?@]/g,Go=/#/g;function ca(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&kr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ca.prototype,r.add=function(u,m){cn(this),this.i=null,u=ha(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Fo(u,m){cn(u),m=ha(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function sl(u,m){return cn(u),m=ha(u,m),u.g.has(m)}r.forEach=function(u,m){cn(this),this.g.forEach(function(v,A){v.forEach(function(k){u.call(m,k,A,this)},this)},this)};function ll(u,m){cn(u);let v=[];if(typeof m=="string")sl(u,m)&&(v=v.concat(u.g.get(ha(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return cn(this),this.i=null,u=ha(this,u),sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ll(this,u),u.length>0?String(u[0]):m):m};function Hr(u,m,v){Fo(u,m),v.length>0&&(u.i=null,u.g.set(ha(u,m),B(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const k=Vi(v);v=ll(this,v);for(let X=0;X<v.length;X++){let dt=k;v[X]!==""&&(dt+="="+Vi(v[X])),u.push(dt)}}return this.i=u.join("&")};function Qo(u){const m=new ca;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ha(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gr(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Fo(this,A),Hr(this,k,v))},u)),u.j=m}function Yn(u,m){const v=new Gn;if(d.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(In,v,"TestLoadImage: error",!1,m,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ol(u,m){const v=new Gn,A=new AbortController,k=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(k),X.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function fa(){this.g=new Mo}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(mi,Oo),mi.prototype.g=function(){return new or(this.i,this.h)};function or(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(or,Ae),r=or.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?da(this):Kn(this),this.readyState==3&&Fr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,da(this))},r.Na=function(u){this.g&&(this.response=u,da(this))},r.ga=function(){this.g&&da(this)};function da(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return pt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function ur(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Vn(v),typeof u=="string"?v!=null&&Vi(v):Zt(u,m,v))}function te(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,Ae);var pi=/^https?$/i,ul=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Js.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(X){cr(this,X);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())v.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ul,m,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,dt]of v)this.g.setRequestHeader(X,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){cr(this,X)}};function cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,cl(u),xi(u)}function cl(u){u.A||(u.A=!0,ze(u,"complete"),ze(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ze(this,"complete"),ze(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},r.Xa=function(){hr(this)};function hr(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ze(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const X=u.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=X===0){let dt=String(u.D).match(qo)[1]||null;!dt&&d.self&&d.self.location&&(dt=d.self.location.protocol.slice(0,-1)),A=!pi.test(dt?dt.toLowerCase():"")}v=A}if(v)ze(u,"complete"),ze(u,"success");else{u.o=6;try{var k=Xn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",cl(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ze(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var v=jo(u[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=m[k]||[];m[k]=X,X.push(v)}ct(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ma(u){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ws(u&&u.concurrentRequestLimit),this.Ba=new fa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ma.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){be(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Wo(this,null,this.W),yi(this)};function hl(u){if(Qr(u),u.I==3){var m=u.V++,v=Ce(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),fr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=sr(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}Jo(u)}function pa(u){u.g&&(dl(u),u.g.cancel(),u.g=null)}function Qr(u){pa(u),u.v&&(d.clearTimeout(u.v),u.v=null),Kr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;vt||b(),gt||(vt(),gt=!0),N.add(m,u),u.D=0}}function Yr(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(y(u.Ea,u,m),Zo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Fn(this,this.j,u);let X=this.o;if(this.U&&(X?(X=R(X),et(X,this.U)):X=this.U),this.u!==null||this.R||(k.J=X,X=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Yo(this,k,m),v=Ce(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),fr(this,v),X&&(this.R?m="headers="+Vi(Vn(X))+"&"+m:this.u&&ur(v,this.u,X)),el(this.h,k),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),k.U=!0,li(k,v,null)):li(k,v,m),this.I=2}}else this.I==3&&(u?fl(this,u):this.i.length==0||tl(this.h)||fl(this))};function fl(u,m){var v;m?v=m.l:v=u.V++;const A=Ce(u.J);Zt(A,"SID",u.M),Zt(A,"RID",v),Zt(A,"AID",u.K),fr(u,A),u.u&&u.o&&ur(A,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Yo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),el(u.h,v),li(v,A,m)}function fr(u,m){u.H&&pt(u.H,function(v,A){Zt(m,A,v)}),u.l&&pt({},function(v,A){Zt(m,A,v)})}function Yo(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let Vt=-1;for(;;){const ve=["count="+v];Vt==-1?v>0?(Vt=k[0].g,ve.push("ofs="+Vt)):Vt=0:ve.push("ofs="+Vt);let Yt=!0;for(let he=0;he<v;he++){var X=k[he].g;const xn=k[he].map;if(X-=Vt,X<0)Vt=Math.max(0,k[he].g-100),Yt=!1;else try{X="req"+X+"_"||"";try{var dt=xn instanceof Map?xn:Object.entries(xn);for(const[vi,$n]of dt){let Zn=$n;p($n)&&(Zn=la($n)),ve.push(X+vi+"="+encodeURIComponent(Zn))}}catch(vi){throw ve.push(X+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(xn)}}if(Yt){dt=ve.join("&");break t}}dt=void 0}return u=u.i.splice(0,v),m.G=u,dt}function Ko(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;vt||b(),gt||(vt(),gt=!0),N.add(m,u),u.A=0}}function dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(y(u.Da,u),Zo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Xo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),pa(this),Xo(this))};function dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Xo(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),fr(u,m),u.u&&u.o&&ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=sr(Ce(m)),v.u=null,v.R=!0,jr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,pa(this),dr(this),be(19))};function Kr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $o(u,m){var v=null;if(u.g==m){Kr(u),dl(u),u.g=null;var A=2}else if(fi(u.h,m))v=m.G,nl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;A=Pr(),ze(A,new ai(A,v)),yi(u)}else Ko(u);else if(k=m.m,k==3||k==0&&m.X>0||!(A==1&&Yr(u,m)||A==2&&dr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Zo(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const k=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(A,"https"),sr(A),k?Yn(A.toString(),v):ol(A.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Jo(u),Qr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Jo(u){if(u.I=0,u.ja=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ja,m),Y(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Wo(u,m,v){var A=v instanceof vn?Ce(v):new vn(v);if(A.g!="")m&&(A.g=m+"."+A.g),oa(A,A.u);else{var k=d.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const X=new vn(null);A&&qe(X,A),m&&(X.g=m),k&&oa(X,k),v&&(X.h=v),A=X}return v=u.G,m=u.wa,v&&m&&Zt(A,v,m),Zt(A,"VER",u.ka),fr(u,A),A}function tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new mi({ab:v})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}r=eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ga(){}ga.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){Ae.call(this),this.g=new ma(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}S(ln,Ae),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){hl(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=la(u),u=v);m.i.push(new we(m.Ya++,u)),m.I==3&&yi(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,ln.Z.N.call(this)};function nu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(nu,Qe);function iu(){Dn.call(this),this.status=1}S(iu,Dn);function Oi(u){this.g=u}S(Oi,eu),Oi.prototype.ra=function(){ze(this.g,"a")},Oi.prototype.qa=function(u){ze(this.g,new nu(u))},Oi.prototype.pa=function(u){ze(this.g,new iu)},Oi.prototype.oa=function(){ze(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,fE=function(){return new ga},hE=function(){return Pr()},cE=_e,Nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,gc=ar,Zs.COMPLETE="complete",uE=Zs,Lo.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,to=Lo,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,oE=te}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",M_="4.9.3";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let qs="12.7.0";const Mr=new eE("@firebase/firestore");function Rs(){return Mr.logLevel}function _t(r,...e){if(Mr.logLevel<=Ht.DEBUG){const i=e.map(em);Mr.debug(`Firestore (${qs}): ${r}`,...i)}}function na(r,...e){if(Mr.logLevel<=Ht.ERROR){const i=e.map(em);Mr.error(`Firestore (${qs}): ${r}`,...i)}}function Ms(r,...e){if(Mr.logLevel<=Ht.WARN){const i=e.map(em);Mr.warn(`Firestore (${qs}): ${r}`,...i)}}function em(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Ct(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,dE(r,s,i)}function dE(r,e,i){let s=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw na(s),new Error(s)}function $t(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||dE(e,o,s)}function It(r,e){return r}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class mE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class kb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qb{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$t(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new mE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class Hb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Hb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$t(this.o===void 0,3512);const s=c=>{c.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,_t("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Qb(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function jt(r,e){return r<e?-1:r>e?1:0}function Id(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return yd(o)===yd(c)?jt(o,c):yd(o)?1:-1}return jt(r.length,e.length)}const Yb=55296,Kb=57343;function yd(r){const e=r.charCodeAt(0);return e>=Yb&&e<=Kb}function Os(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const L_="__name__";class bi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ct(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ct(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=bi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return jt(e.length,i.length)}static compareSegments(e,i){const s=bi.isNumericId(e),o=bi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(i)):Id(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qa.fromString(e.substring(4,e.length-2))}}class le extends bi{construct(e,i,s){return new le(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new yt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const Xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends bi{construct(e,i,s){return new We(e,i,s)}static isValidIdentifier(e){return Xb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new We([L_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new yt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new yt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new yt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new yt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(i)}static emptyPath(){return new We([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(le.fromString(e))}static fromName(e){return new Rt(le.fromString(e).popFirst(5))}static empty(){return new Rt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new le(e.slice()))}}function pE(r,e,i){if(!i)throw new yt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $b(r,e,i,s){if(e===!0&&s===!0)throw new yt(nt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function U_(r){if(!Rt.isDocumentKey(r))throw new yt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z_(r){if(Rt.isDocumentKey(r))throw new yt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ct(12329,{type:typeof r})}function Ga(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new yt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qc(r);throw new yt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Oe(r,e){const i={typeString:r};return e&&(i.value=e),i}function Ro(r,e){if(!gE(r))throw new yt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new yt(nt.INVALID_ARGUMENT,i);return!0}const P_=-62135596800,j_=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(e){return ce.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*j_);return new ce(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P_)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ro(e,ce._jsonSchema))return new ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Oe("string",ce._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Dt{static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new ce(0,0))}static max(){return new Dt(new ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const po=-1;function Zb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(s===1e9?new ce(i+1,0):new ce(i,s));return new Fa(o,Rt.empty(),e)}function Jb(r){return new Fa(r.readTime,r.key,po)}class Fa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Fa(Dt.min(),Rt.empty(),po)}static max(){return new Fa(Dt.max(),Rt.empty(),po)}}function Wb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Rt.comparator(r.documentKey,e.documentKey),i!==0?i:jt(r.largestBatchId,e.largestBatchId))}const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hs(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==tR)throw r;_t("LocalStore","Unexpectedly lost primary lease")}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):at.reject(i)}static resolve(e){return new at(((i,s)=>{i(e)}))}static reject(e){return new at(((i,s)=>{s(e)}))}static waitFor(e){return new at(((i,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(g=>s(g)))})),d=!0,c===o&&i()}))}static or(e){let i=at.resolve(!1);for(const s of e)i=i.next((o=>o?at.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new at(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((E=>{d[y]=E,++p,p===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new at(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function nR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gs(r){return r.name==="IndexedDbTransactionError"}class Hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hc.ce=-1;const im=-1;function Gc(r){return r==null}function Dc(r){return r===0&&1/r==-1/0}function iR(r){return typeof r=="number"&&Number.isInteger(r)&&!Dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yE="";function aR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=B_(e)),e=rR(r.get(i),e);return B_(e)}function rR(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function B_(r){return r+yE+""}function k_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Za(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function _E(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class me{constructor(e,i){this.comparator=e,this.root=i||Je.EMPTY}insert(e,i){return new me(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Je.RED,this.left=o??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Je(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Be(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new Cn([])}unionWith(e){let i=new Be(We.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Cn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const sR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(r){if($t(!!r,39018),typeof r=="string"){let e=0;const i=sR.exec(r);if($t(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ya(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const EE="server_timestamp",TE="__type__",SE="__previous_value__",AE="__local_write_time__";function am(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===EE}function Fc(r){const e=r.mapValue.fields[SE];return am(e)?Fc(e):e}function go(r){const e=Qa(r.mapValue.fields[AE].timestampValue);return new ce(e.seconds,e.nanos)}class lR{constructor(e,i,s,o,c,d,p,g,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Nc="(default)";class yo{constructor(e,i){this.projectId=e,this.database=i||Nc}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}const bE="__type__",oR="__max__",cc={mapValue:{}},RE="__vector__",Ic="value";function Ka(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?am(r)?4:cR(r)?9007199254740991:uR(r)?10:11:Ct(28295,{value:r})}function Ii(r,e){if(r===e)return!0;const i=Ka(r);if(i!==Ka(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return go(r).isEqual(go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Qa(o.timestampValue),p=Qa(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Ya(o.bytesValue).isEqual(Ya(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Se(o.geoPointValue.latitude)===Se(c.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Se(o.integerValue)===Se(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Se(o.doubleValue),p=Se(c.doubleValue);return d===p?Dc(d)===Dc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Os(r.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(k_(d)!==k_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ii(d[g],p[g])))return!1;return!0})(r,e);default:return Ct(52216,{left:r})}}function _o(r,e){return(r.values||[]).find((i=>Ii(i,e)))!==void 0}function Ls(r,e){if(r===e)return 0;const i=Ka(r),s=Ka(e);if(i!==s)return jt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Se(c.integerValue||c.doubleValue),g=Se(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return H_(r.timestampValue,e.timestampValue);case 4:return H_(go(r),go(e));case 5:return Id(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ya(c),g=Ya(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=jt(p[y],g[y]);if(E!==0)return E}return jt(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=jt(Se(c.latitude),Se(d.latitude));return p!==0?p:jt(Se(c.longitude),Se(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return G_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Ic]?.arrayValue,E=g[Ic]?.arrayValue,S=jt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:G_(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===cc.mapValue&&d===cc.mapValue)return 0;if(c===cc.mapValue)return 1;if(d===cc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const D=Id(g[S],E[S]);if(D!==0)return D;const B=Ls(p[g[S]],y[E[S]]);if(B!==0)return B}return jt(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Ct(23264,{he:i})}}function H_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return jt(r,e);const i=Qa(r),s=Qa(e),o=jt(i.seconds,s.seconds);return o!==0?o:jt(i.nanos,s.nanos)}function G_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ls(i[o],s[o]);if(c)return c}return jt(i.length,s.length)}function Us(r){return Vd(r)}function Vd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Qa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ya(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Rt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Vd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Vd(i.fields[d])}`;return o+"}"})(r.mapValue):Ct(61005,{value:r})}function yc(r){switch(Ka(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fc(r);return e?16+yc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+yc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Za(s.fields,((c,d)=>{o+=c.length+yc(d)})),o})(r.mapValue);default:throw Ct(13486,{value:r})}}function F_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xd(r){return!!r&&"integerValue"in r}function rm(r){return!!r&&"arrayValue"in r}function Q_(r){return!!r&&"nullValue"in r}function Y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _c(r){return!!r&&"mapValue"in r}function uR(r){return(r?.mapValue?.fields||{})[bE]?.stringValue===RE}function ro(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Za(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=ro(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ro(r.arrayValue.values[i]);return e}return{...r}}function cR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===oR}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!_c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(i)}setAll(e){let i=We.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=ro(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());_c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];_c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Za(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new yn(ro(this.value))}}function wE(r){const e=[];return Za(r.fields,((i,s)=>{const o=new We([i]);if(_c(s)){const c=wE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Cn(e)}class rn{constructor(e,i,s,o,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,Dt.min(),Dt.min(),Dt.min(),yn.empty(),0)}static newFoundDocument(e,i,s,o){return new rn(e,1,i,Dt.min(),s,o,0)}static newNoDocument(e,i){return new rn(e,2,i,Dt.min(),Dt.min(),yn.empty(),0)}static newUnknownDocument(e,i){return new rn(e,3,i,Dt.min(),Dt.min(),yn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vc{constructor(e,i){this.position=e,this.inclusive=i}}function K_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=Rt.comparator(Rt.fromName(d.referenceValue),i.key):s=Ls(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function X_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],e.position[i]))return!1;return!0}class vo{constructor(e,i="asc"){this.field=e,this.dir=i}}function hR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class CE{}class Me extends CE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new dR(e,i,s):i==="array-contains"?new gR(e,s):i==="in"?new yR(e,s):i==="not-in"?new _R(e,s):i==="array-contains-any"?new vR(e,s):new Me(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new mR(e,s):new pR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ls(i,this.value)):i!==null&&Ka(this.value)===Ka(i)&&this.matchesComparison(Ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends CE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ni(e,i)}matches(e){return DE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(r){return r.op==="and"}function NE(r){return fR(r)&&DE(r)}function fR(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function Md(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Us(r.value);if(NE(r))return r.filters.map((e=>Md(e))).join(",");{const e=r.filters.map((i=>Md(i))).join(",");return`${r.op}(${e})`}}function IE(r,e){return r instanceof Me?(function(s,o){return o instanceof Me&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)})(r,e):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&IE(d,o.filters[p])),!0):!1})(r,e):void Ct(19439)}function VE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Us(i.value)}`})(r):r instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(VE).join(" ,")+"}"})(r):"Filter"}class dR extends Me{constructor(e,i,s){super(e,i,s),this.key=Rt.fromName(s.referenceValue)}matches(e){const i=Rt.comparator(e.key,this.key);return this.matchesComparison(i)}}class mR extends Me{constructor(e,i){super(e,"in",i),this.keys=xE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class pR extends Me{constructor(e,i){super(e,"not-in",i),this.keys=xE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function xE(r,e){return(e.arrayValue?.values||[]).map((i=>Rt.fromName(i.referenceValue)))}class gR extends Me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return rm(i)&&_o(i.arrayValue,this.value)}}class yR extends Me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class _R extends Me{constructor(e,i){super(e,"not-in",i)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class vR extends Me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>_o(this.value.arrayValue,s)))}}class ER{constructor(e,i=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function $_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new ER(r,e,i,s,o,c,d)}function sm(r){const e=It(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Md(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Us(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Us(s))).join(",")),e.Te=i}return e.Te}function lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!hR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!IE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!X_(r.startAt,e.startAt)&&X_(r.endAt,e.endAt)}function Od(r){return Rt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Fs{constructor(e,i=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(r,e,i,s,o,c,d,p){return new Fs(r,e,i,s,o,c,d,p)}function om(r){return new Fs(r)}function Z_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ME(r){return r.collectionGroup!==null}function so(r){const e=It(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Be(We.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vo(c,s))})),i.has(We.keyField().canonicalString())||e.Ie.push(new vo(We.keyField(),s))}return e.Ie}function Ri(r){const e=It(r);return e.Ee||(e.Ee=SR(e,so(r))),e.Ee}function SR(r,e){if(r.limitType==="F")return $_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new vo(o.field,c)}));const i=r.endAt?new Vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vc(r.startAt.position,r.startAt.inclusive):null;return $_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Ld(r,e){const i=r.filters.concat([e]);return new Fs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function xc(r,e,i){return new Fs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Qc(r,e){return lm(Ri(r),Ri(e))&&r.limitType===e.limitType}function OE(r){return`${sm(Ri(r))}|lt:${r.limitType}`}function ws(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>VE(o))).join(", ")}]`),Gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Us(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Us(o))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function Yc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Rt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of so(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,g){const y=K_(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,so(s),o)||s.endAt&&!(function(d,p,g){const y=K_(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,so(s),o))})(r,e)}function AR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LE(r){return(e,i)=>{let s=!1;for(const o of so(r)){const c=bR(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function bR(r,e,i){const s=r.field.isKeyField()?Rt.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Ls(g,y):Ct(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ct(19790,{direction:r.dir})}}class Ur{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const RR=new me(Rt.comparator);function ia(){return RR}const UE=new me(Rt.comparator);function eo(...r){let e=UE;for(const i of r)e=e.insert(i.key,i);return e}function zE(r){let e=UE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Vr(){return lo()}function PE(){return lo()}function lo(){return new Ur((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wR=new me(Rt.comparator),CR=new Be(Rt.comparator);function Bt(...r){let e=CR;for(const i of r)e=e.add(i);return e}const DR=new Be(jt);function NR(){return DR}function um(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function jE(r){return{integerValue:""+r}}function IR(r,e){return iR(e)?jE(e):um(r,e)}class Kc{constructor(){this._=void 0}}function VR(r,e,i){return r instanceof Mc?(function(o,c){const d={fields:{[TE]:{stringValue:EE},[AE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&am(c)&&(c=Fc(c)),c&&(d.fields[SE]=c),{mapValue:d}})(i,e):r instanceof Eo?kE(r,e):r instanceof To?qE(r,e):(function(o,c){const d=BE(o,c),p=J_(d)+J_(o.Ae);return xd(d)&&xd(o.Ae)?jE(p):um(o.serializer,p)})(r,e)}function xR(r,e,i){return r instanceof Eo?kE(r,e):r instanceof To?qE(r,e):i}function BE(r,e){return r instanceof Oc?(function(s){return xd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Mc extends Kc{}class Eo extends Kc{constructor(e){super(),this.elements=e}}function kE(r,e){const i=HE(e);for(const s of r.elements)i.some((o=>Ii(o,s)))||i.push(s);return{arrayValue:{values:i}}}class To extends Kc{constructor(e){super(),this.elements=e}}function qE(r,e){let i=HE(e);for(const s of r.elements)i=i.filter((o=>!Ii(o,s)));return{arrayValue:{values:i}}}class Oc extends Kc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J_(r){return Se(r.integerValue||r.doubleValue)}function HE(r){return rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function MR(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Os(s.elements,o.elements,Ii):s instanceof Oc&&o instanceof Oc?Ii(s.Ae,o.Ae):s instanceof Mc&&o instanceof Mc})(r.transform,e.transform)}class OR{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Xc{}function GE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new QE(r.key,wi.none()):new wo(r.key,r.data,wi.none());{const i=r.data,s=yn.empty();let o=new Be(We.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ja(r.key,s,new Cn(o.toArray()),wi.none())}}function LR(r,e,i){r instanceof wo?(function(o,c,d){const p=o.value.clone(),g=tv(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ja?(function(o,c,d){if(!vc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=tv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(FE(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function oo(r,e,i,s){return r instanceof wo?(function(c,d,p,g){if(!vc(c.precondition,d))return p;const y=c.value.clone(),E=ev(c.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ja?(function(c,d,p,g){if(!vc(c.precondition,d))return p;const y=ev(c.fieldTransforms,g,d),E=d.data;return E.setAll(FE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(c,d,p){return vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function UR(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=BE(s.transform,o||null);c!=null&&(i===null&&(i=yn.empty()),i.set(s.field,c))}return i||null}function W_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Os(s,o,((c,d)=>MR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wo extends Xc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ja extends Xc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function tv(r,e,i){const s=new Map;$t(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,xR(d,p,i[o]))}return s}function ev(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,VR(c,d,e))}return s}class QE extends Xc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Xc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&LR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=oo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=PE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const g=GE(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Dt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Bt())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,((i,s)=>W_(i,s)))&&Os(this.baseMutations,e.baseMutations,((i,s)=>W_(i,s)))}}class cm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){$t(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wR})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new cm(e,i,s,o)}}class jR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BR{constructor(e,i){this.count=e,this.unchangedNames=i}}var xe,qt;function kR(r){switch(r){case nt.OK:return Ct(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Ct(15467,{code:r})}}function YE(r){if(r===void 0)return na("GRPC error has no .code"),nt.UNKNOWN;switch(r){case xe.OK:return nt.OK;case xe.CANCELLED:return nt.CANCELLED;case xe.UNKNOWN:return nt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return nt.INTERNAL;case xe.UNAVAILABLE:return nt.UNAVAILABLE;case xe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case xe.NOT_FOUND:return nt.NOT_FOUND;case xe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case xe.ABORTED:return nt.ABORTED;case xe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case xe.DATA_LOSS:return nt.DATA_LOSS;default:return Ct(39323,{code:r})}}(qt=xe||(xe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function qR(){return new TextEncoder}const HR=new qa([4294967295,4294967295],0);function nv(r){const e=qR().encode(r),i=new lE;return i.update(e),new Uint8Array(i.digest())}function iv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qa([i,s],0),new qa([o,c],0)]}class hm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(s<0)throw new no(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=qa.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(qa.fromNumber(s)));return o.compare(HR)===1&&(o=new qa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[s,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new hm(c,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=nv(e),[s,o]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $c{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new $c(Dt.min(),o,new me(jt),ia(),Bt())}}class Co{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Co(s,i,Bt(),Bt(),Bt())}}class Ec{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class KE{constructor(e,i){this.targetId=e,this.Ce=i}}class XE{constructor(e,i,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class av{constructor(){this.ve=0,this.Fe=rv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Bt(),i=Bt(),s=Bt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Ct(38017,{changeType:c})}})),new Co(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=rv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ia(),this.Je=hc(),this.He=hc(),this.Ye=new me(jt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ct(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Od(c))if(s===0){const d=new Rt(c.path);this.et(i,d,rn.newNoDocument(d,Dt.min()))}else $t(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Ya(s).toUint8Array()}catch(g){if(g instanceof vE)return Ms("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new hm(d,o,c)}catch(g){return Ms(g instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Od(p.target)){const g=new Rt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,rn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Bt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new $c(e,i,this.Ye,this.je,s);return this.je=ia(),this.Je=hc(),this.He=hc(),this.Ye=new me(jt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new av,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Be(jt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Be(jt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||_t("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new av),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function hc(){return new me(Rt.comparator)}function rv(){return new me(Rt.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},QR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YR={and:"AND",or:"OR"};class KR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ud(r,e){return r.useProto3Json||Gc(e)?e:{value:e}}function Lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $E(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XR(r,e){return Lc(r,e.toTimestamp())}function Ci(r){return $t(!!r,49232),Dt.fromTimestamp((function(i){const s=Qa(i);return new ce(s.seconds,s.nanos)})(r))}function fm(r,e){return zd(r,e).canonicalString()}function zd(r,e){const i=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function ZE(r){const e=le.fromString(r);return $t(n0(e),10190,{key:e.toString()}),e}function Pd(r,e){return fm(r.databaseId,e.path)}function _d(r,e){const i=ZE(e);if(i.get(1)!==r.databaseId.projectId)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Rt(WE(i))}function JE(r,e){return fm(r.databaseId,e)}function $R(r){const e=ZE(r);return e.length===4?le.emptyPath():WE(e)}function jd(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WE(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function sv(r,e,i){return{name:Pd(r,e),fields:i.value.mapValue.fields}}function ZR(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ct(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?($t(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?nt.UNKNOWN:YE(y.code);return new yt(E,y.message||"")})(d);i=new XE(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_d(r,s.document.name),c=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):Dt.min(),p=new yn({mapValue:{fields:s.document.fields}}),g=rn.newFoundDocument(o,c,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Ec(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_d(r,s.document),c=s.readTime?Ci(s.readTime):Dt.min(),d=rn.newNoDocument(o,c),p=s.removedTargetIds||[];i=new Ec([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_d(r,s.document),c=s.removedTargetIds||[];i=new Ec([],c,o,null)}else{if(!("filter"in e))return Ct(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new BR(o,c),p=s.targetId;i=new KE(p,d)}}return i}function JR(r,e){let i;if(e instanceof wo)i={update:sv(r,e.key,e.value)};else if(e instanceof QE)i={delete:Pd(r,e.key)};else if(e instanceof Ja)i={update:sv(r,e.key,e.data),updateMask:l2(e.fieldMask)};else{if(!(e instanceof zR))return Ct(16599,{Vt:e.type});i={verify:Pd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Oc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ct(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:XR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ct(27497)})(r,e.precondition)),i}function WR(r,e){return r&&r.length>0?($t(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ci(o.updateTime):Ci(c);return d.isEqual(Dt.min())&&(d=Ci(c)),new OR(d,o.transformResults||[])})(i,e)))):[]}function t2(r,e){return{documents:[JE(r,e.path)]}}function e2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=JE(r,o);const c=(function(y){if(y.length!==0)return e0(ni.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(D){return{field:Cs(D.field),direction:a2(D.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Ud(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function n2(r){let e=$R(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){$t(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const D=t0(S);return D instanceof ni&&NE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(Y){return new vo(Ds(Y.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,Gc(D)?null:D})(i.limit));let g=null;i.startAt&&(g=(function(S){const D=!!S.before,B=S.values||[];return new Vc(B,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const D=!S.before,B=S.values||[];return new Vc(B,D)})(i.endAt)),TR(e,o,d,c,p,"F",g,y)}function i2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ds(i.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ds(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ds(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ds(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ds(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((s=>t0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(i.compositeFilter.op))})(r):Ct(30097,{filter:r})}function a2(r){return FR[r]}function r2(r){return QR[r]}function s2(r){return YR[r]}function Cs(r){return{fieldPath:r.canonicalString()}}function Ds(r){return We.fromServerFormat(r.fieldPath)}function e0(r){return r instanceof Me?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NAN"}};if(Q_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NOT_NAN"}};if(Q_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(i.field),op:r2(i.op),value:i.value}}})(r):r instanceof ni?(function(i){const s=i.getFilters().map((o=>e0(o)));return s.length===1?s[0]:{compositeFilter:{op:s2(i.op),filters:s}}})(r):Ct(54877,{filter:r})}function l2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function n0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ja{constructor(e,i,s,o,c=Dt.min(),d=Dt.min(),p=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o2{constructor(e){this.yt=e}}function u2(r){const e=n2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xc(e,e.limit,"L"):e}class c2{constructor(){this.Cn=new h2}addToCollectionParentIndex(e,i){return this.Cn.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(Fa.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(Fa.min())}updateCollectionGroup(e,i,s){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class h2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Be(le.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Be(le.comparator)).toArray()}}const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(i0,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class zs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zs(0)}static cr(){return new zs(-1)}}const ov="LruGarbageCollector",f2=1048576;function uv([r,e],[i,s]){const o=jt(r,i);return o===0?jt(e,s):o}class d2{constructor(e){this.Ir=e,this.buffer=new Be(uv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();uv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class m2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_t(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gs(i)?_t(ov,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.Vr(3e5)}))}}class p2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return at.resolve(Hc.ce);const s=new d2(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(lv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Rs()<=Ht.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function g2(r,e){return new p2(r,e)}class y2{constructor(){this.changes=new Ur((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?at.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class v2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&oo(s.mutation,o,Cn.empty(),ce.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Bt()){const o=Vr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=eo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Vr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Bt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let c=ia();const d=lo(),p=(function(){return lo()})();return i.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ja)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),oo(E.mutation,y,E.mutation.getFieldMask(),ce.now())):d.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new _2(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=lo();let o=new me(((d,p)=>d-p)),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Cn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const S=(o.get(p.batchId)||Bt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,S=PE();E.forEach((D=>{if(!c.has(D)){const B=GE(i.get(D),s.get(D));B!==null&&S.set(D,B),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return at.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return Rt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ME(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):at.resolve(Vr());let p=po,g=c;return d.next((y=>at.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?at.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{g=g.insert(E,D)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Bt()))).next((E=>({batchId:p,changes:zE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Rt(i)).next((s=>{let o=eo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=eo();return this.indexManager.getCollectionParents(e,c).next((p=>at.forEach(p,(g=>{const y=(function(S,D){return new Fs(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,rn.newInvalidDocument(E)))}));let p=eo();return d.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&oo(E.mutation,y,Cn.empty(),ce.now()),Yc(i,y)&&(p=p.insert(g,y))})),p}))}}class E2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return at.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(i)),at.resolve()}getNamedQuery(e,i){return at.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:u2(o.bundledQuery),readTime:Ci(o.readTime)}})(i)),at.resolve()}}class T2{constructor(){this.overlays=new me(Rt.comparator),this.qr=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Vr();return at.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),at.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),at.resolve()}getOverlaysForCollection(e,i,s){const o=Vr(),c=i.length+1,d=new Rt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return at.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new me(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Vr(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Vr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return at.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jR(i,s));let c=this.qr.get(i);c===void 0&&(c=Bt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class S2{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}class dm{constructor(){this.Qr=new Be(Ge.$r),this.Ur=new Be(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ge(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ge(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new Rt(new le([])),s=new Ge(i,e),o=new Ge(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Rt(new le([])),s=new Ge(i,e),o=new Ge(i,e+1);let c=Bt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ge(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ge{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Rt.comparator(e.key,i.key)||jt(e.Yr,i.Yr)}static Kr(e,i){return jt(e.Yr,i.Yr)||Rt.comparator(e.key,i.key)}}class A2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Be(Ge.$r)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PR(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return at.resolve(d)}lookupMutationBatch(e,i){return at.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return at.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?im:this.tr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),at.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Be(jt);return i.forEach((o=>{const c=new Ge(o,0),d=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),at.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;Rt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new Rt(c),0);let p=new Be(jt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),at.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return at.forEach(i.mutations,(o=>{const c=new Ge(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ge(i,0),o=this.Zr.firstAfterOrEqual(s);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class b2{constructor(e){this.ri=e,this.docs=(function(){return new me(Rt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return at.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(e,i){let s=ia();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),at.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ia();const d=i.path,p=new Rt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Wb(Jb(E),s)<=0||(o.has(E.key)||Yc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return at.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Ct(9500)}ii(e,i){return at.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new R2(this)}getSize(e){return at.resolve(this.size)}}class R2 extends y2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),at.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class w2{constructor(e){this.persistence=e,this.si=new Ur((i=>sm(i)),lm),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new dm,this.targetCount=0,this.ai=zs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),at.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new zs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.Pr(i),at.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),at.waitFor(c).next((()=>o))}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return at.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),at.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),at.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return at.resolve(s)}containsKey(e,i){return at.resolve(this._i.containsKey(i))}}class a0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Hc(0),this.li=!1,this.li=!0,this.hi=new S2,this.referenceDelegate=e(this),this.Pi=new w2(this),this.indexManager=new c2,this.remoteDocumentCache=(function(o){return new b2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new o2(i),this.Ii=new E2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new T2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new A2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){_t("MemoryPersistence","Starting transaction:",e);const o=new C2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return at.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class C2 extends eR{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.Ri=new dm,this.Vi=null}static mi(e){return new mm(e)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),at.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),at.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(s=>{const o=Rt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Dt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Uc{constructor(e,i){this.persistence=e,this.pi=new Ur((s=>aR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=g2(this,i)}static mi(e,i){return new Uc(e,i)}Ei(){}di(e){return at.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return at.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?at.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,c.removeEntry(d,Dt.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),at.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),at.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),at.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=yc(e.data.value)),i}br(e,i,s){return at.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return at.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Bt(),o=Bt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new pm(e,i.fromCache,s,o)}}class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class N2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SA()?8:nR(EA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new D2;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Rs()<=Ht.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",ws(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(Rs()<=Ht.DEBUG&&_t("QueryEngine","Query:",ws(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Rs()<=Ht.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",ws(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):at.resolve())}ys(e,i){if(Z_(i))return at.resolve(null);let s=Ri(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=xc(i,null,"F"),s=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Bt(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,xc(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,s,o){return Z_(i)||o.isEqual(Dt.min())?at.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?at.resolve(null):(Rs()<=Ht.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ws(i)),this.vs(e,d,i,Zb(o,po)).next((p=>p)))}))}Ds(e,i){let s=new Be(LE(e));return i.forEach(((o,c)=>{Yc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Rs()<=Ht.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",ws(i)),this.ps.getDocumentsMatchingQuery(e,i,Fa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const gm="LocalStore",I2=3e8;class V2{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new me(jt),this.xs=new Ur((c=>sm(c)),lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function x2(r,e,i,s){return new V2(r,e,i,s)}async function r0(r,e){const i=It(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=Bt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function M2(r,e){const i=It(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const S=y.batch,D=S.keys();let B=at.resolve();return D.forEach((Y=>{B=B.next((()=>E.getEntry(g,Y))).next((J=>{const Q=y.docVersions.get(Y);$t(Q!==null,48541),J.version.compareTo(Q)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Bt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function s0(r){const e=It(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function O2(r,e){const i=It(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const D=o.get(S);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let B=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(tn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(S,B),(function(J,Q,G){return J.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=I2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(D,B,E)&&p.push(i.Pi.updateTargetData(c,B))}));let g=ia(),y=Bt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(L2(c,d,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Dt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(E)}return at.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=o,c)))}function L2(r,e,i){let s=Bt(),o=Bt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=ia();return i.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Dt.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):_t(gm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function U2(r,e){const i=It(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function z2(r,e){const i=It(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,at.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new ja(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Bd(r,e,i){const s=It(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Gs(d))throw d;_t(gm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function cv(r,e,i){const s=It(r);let o=Dt.min(),c=Bt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,E){const S=It(g),D=S.xs.get(E);return D!==void 0?at.resolve(S.Ms.get(D)):S.Pi.getTargetData(y,E)})(s,d,Ri(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Dt.min(),i?c:Bt()))).next((p=>(P2(s,AR(e),p),{documents:p,Qs:c})))))}function P2(r,e,i){let s=r.Os.get(e)||Dt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class hv{constructor(){this.activeTargetIds=NR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j2{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class B2{Oo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_t(fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_t(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fc=null;function kd(){return fc===null?fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():fc++,"0x"+fc.toString(16)}const vd="RestConnection",k2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=kd(),p=this.zo(e,i.toUriEncodedString());_t(vd,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),E=Wd(y);return this.Jo(e,p,g,s,E).then((S=>(_t(vd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ms(vd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=k2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class H2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nn="WebChannelConnection";class G2 extends q2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=kd();return new Promise(((p,g)=>{const y=new oE;y.setWithCredentials(!0),y.listenOnce(uE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case gc.NO_ERROR:const S=y.getResponseJson();_t(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case gc.TIMEOUT:_t(nn,`RPC '${e}' ${d} timed out`),g(new yt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const D=y.getStatus();if(_t(nn,`RPC '${e}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B?.error;if(Y&&Y.status&&Y.message){const J=(function(G){const lt=G.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(lt)>=0?lt:nt.UNKNOWN})(Y.status);g(new yt(J,Y.message))}else g(new yt(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new yt(nt.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{_t(nn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);_t(nn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=kd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fE(),p=hE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");_t(nn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=d.createWebChannel(E,g);this.I_(S);let D=!1,B=!1;const Y=new H2({Yo:Q=>{B?_t(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(D||(_t(nn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),D=!0),_t(nn,`RPC '${e}' stream ${o} sending:`,Q),S.send(Q))},Zo:()=>S.close()}),J=(Q,G,lt)=>{Q.listen(G,(W=>{try{lt(W)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return J(S,to.EventType.OPEN,(()=>{B||(_t(nn,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),J(S,to.EventType.CLOSE,(()=>{B||(B=!0,_t(nn,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(S))})),J(S,to.EventType.ERROR,(Q=>{B||(B=!0,Ms(nn,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),Y.a_(new yt(nt.UNAVAILABLE,"The operation could not be completed")))})),J(S,to.EventType.MESSAGE,(Q=>{if(!B){const G=Q.data[0];$t(!!G,16349);const lt=G,W=lt?.error||lt[0]?.error;if(W){_t(nn,`RPC '${e}' stream ${o} received error:`,W);const mt=W.status;let vt=(function(b){const w=xe[b];if(w!==void 0)return YE(w)})(mt),gt=W.message;vt===void 0&&(vt=nt.INTERNAL,gt="Unknown error status: "+mt+" with message "+W.message),B=!0,Y.a_(new yt(vt,gt)),S.close()}else _t(nn,`RPC '${e}' stream ${o} received:`,G),Y.u_(G)}})),J(p,cE.STAT_EVENT,(Q=>{Q.stat===Nd.PROXY?_t(nn,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Nd.NOPROXY&&_t(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Ed(){return typeof document<"u"?document:null}function Zc(r){return new KR(r,!0)}class l0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&_t("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mv="PersistentStream";class o0{constructor(e,i,s,o,c,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(na(i.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new yt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _t(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(_t(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class F2 extends o0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ZR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Dt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Dt.min():d.readTime?Ci(d.readTime):Dt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=jd(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=Od(g)?{documents:t2(c,g)}:{query:e2(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=$E(c,d.resumeToken);const y=Ud(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Dt.min())>0){p.readTime=Lc(c,d.snapshotVersion.toTimestamp());const y=Ud(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=i2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=jd(this.serializer),i.removeTarget=e,this.q_(i)}}class Q2 extends o0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=WR(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=jd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>JR(this.serializer,s)))};this.q_(i)}}class Y2{}class K2 extends Y2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,zd(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(nt.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,zd(i,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new yt(nt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class X2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(na(i),this.aa=!1):_t("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Or="RemoteStore";class $2{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{zr(this)&&(_t(Or,"Restarting streams for network reachability change."),await(async function(g){const y=It(g);y.Ea.add(4),await Do(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Jc(y)})(this))}))})),this.Ra=new X2(s,o)}}async function Jc(r){if(zr(r))for(const e of r.da)await e(!0)}async function Do(r){for(const e of r.da)await e(!1)}function u0(r,e){const i=It(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Em(i)?vm(i):Qs(i).O_()&&_m(i,e))}function ym(r,e){const i=It(r),s=Qs(i);i.Ia.delete(e),s.O_()&&c0(i,e),i.Ia.size===0&&(s.O_()?s.L_():zr(i)&&i.Ra.set("Unknown"))}function _m(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qs(r).Y_(e)}function c0(r,e){r.Va.Ue(e),Qs(r).Z_(e)}function vm(r){r.Va=new GR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Qs(r).start(),r.Ra.ua()}function Em(r){return zr(r)&&!Qs(r).x_()&&r.Ia.size>0}function zr(r){return It(r).Ea.size===0}function h0(r){r.Va=void 0}async function Z2(r){r.Ra.set("Online")}async function J2(r){r.Ia.forEach(((e,i)=>{_m(r,e)}))}async function W2(r,e){h0(r),Em(r)?(r.Ra.ha(e),vm(r)):r.Ra.set("Unknown")}async function tw(r,e,i){if(r.Ra.set("Online"),e instanceof XE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){_t(Or,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zc(r,s)}else if(e instanceof Ec?r.Va.Ze(e):e instanceof KE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Dt.min()))try{const s=await s0(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),c0(c,g);const S=new ja(E.target,g,y,E.sequenceNumber);_m(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){_t(Or,"Failed to raise snapshot:",s),await zc(r,s)}}async function zc(r,e,i){if(!Gs(e))throw e;r.Ea.add(1),await Do(r),r.Ra.set("Offline"),i||(i=()=>s0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{_t(Or,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Jc(r)}))}function f0(r,e){return e().catch((i=>zc(r,i,e)))}async function Wc(r){const e=It(r),i=Xa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:im;for(;ew(e);)try{const o=await U2(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,nw(e,o)}catch(o){await zc(e,o)}d0(e)&&m0(e)}function ew(r){return zr(r)&&r.Ta.length<10}function nw(r,e){r.Ta.push(e);const i=Xa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function d0(r){return zr(r)&&!Xa(r).x_()&&r.Ta.length>0}function m0(r){Xa(r).start()}async function iw(r){Xa(r).ra()}async function aw(r){const e=Xa(r);for(const i of r.Ta)e.ea(i.mutations)}async function rw(r,e,i){const s=r.Ta.shift(),o=cm.from(s,e,i);await f0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Wc(r)}async function sw(r,e){e&&Xa(r).X_&&await(async function(s,o){if((function(d){return kR(d)&&d!==nt.ABORTED})(o.code)){const c=s.Ta.shift();Xa(s).B_(),await f0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Wc(s)}})(r,e),d0(r)&&m0(r)}async function pv(r,e){const i=It(r);i.asyncQueue.verifyOperationInProgress(),_t(Or,"RemoteStore received new credentials");const s=zr(i);i.Ea.add(3),await Do(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Jc(i)}async function lw(r,e){const i=It(r);e?(i.Ea.delete(2),await Jc(i)):e||(i.Ea.add(2),await Do(i),i.Ra.set("Unknown"))}function Qs(r){return r.ma||(r.ma=(function(i,s,o){const c=It(i);return c.sa(),new F2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Z2.bind(null,r),t_:J2.bind(null,r),r_:W2.bind(null,r),H_:tw.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Em(r)?vm(r):r.Ra.set("Unknown")):(await r.ma.stop(),h0(r))}))),r.ma}function Xa(r){return r.fa||(r.fa=(function(i,s,o){const c=It(i);return c.sa(),new Q2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:iw.bind(null,r),r_:sw.bind(null,r),ta:aw.bind(null,r),na:rw.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Wc(r)):(await r.fa.stop(),r.Ta.length>0&&(_t(Or,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Tm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,p=new Tm(e,i,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(r,e){if(na("AsyncQueue",`${e}: ${r}`),Gs(r))return new yt(nt.UNAVAILABLE,`${e}: ${r}`);throw r}class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||Rt.comparator(i.key,s.key):(i,s)=>Rt.comparator(i.key,s.key),this.keyedMap=eo(),this.sortedSet=new me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class gv{constructor(){this.ga=new me(Rt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ct(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ps{constructor(e,i,s,o,c,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ps(e,i,Vs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class ow{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uw{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=It(i),c=o.queries;o.queries=yv(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new yt(nt.ABORTED,"Firestore shutting down"))}}function yv(){return new Ur((r=>OE(r)),Qc)}async function p0(r,e){const i=It(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new ow,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Sm(d,`Initialization of query '${ws(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Am(i)}async function g0(r,e){const i=It(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function cw(r,e){const i=It(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&Am(i)}function hw(r,e,i){const s=It(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function Am(r){r.Ca.forEach((e=>{e.next()}))}var qd,_v;(_v=qd||(qd={})).Ma="default",_v.Cache="cache";class y0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qd.Cache}}class _0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class fw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=LE(e),this.tu=new Vs(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const D=o.get(E),B=Yc(this.query,S)?S:null,Y=!!D&&this.mutatedKeys.has(D.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Q=!1;D&&B?D.data.isEqual(B.data)?Y!==J&&(s.track({type:3,doc:B}),Q=!0):this.su(D,B)||(s.track({type:2,doc:B}),Q=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!D&&B?(s.track({type:0,doc:B}),Q=!0):D&&!B&&(s.track({type:1,doc:D}),Q=!0,(g||y)&&(p=!0)),Q&&(B?(d=d.add(B),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(B,Y){const J=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:Q})}};return J(B)-J(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Ps(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new v0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new _0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Bt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ps.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bm="SyncEngine";class dw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class mw{constructor(e){this.key=e,this.hu=!1}}class pw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ur((p=>OE(p)),Qc),this.Iu=new Map,this.Eu=new Set,this.du=new me(Rt.comparator),this.Au=new Map,this.Ru=new dm,this.Vu={},this.mu=new Map,this.fu=zs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gw(r,e,i=!0){const s=R0(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await E0(s,e,i,!0),o}async function yw(r,e){const i=R0(r);await E0(i,e,!0,!1)}async function E0(r,e,i,s){const o=await z2(r.localStore,Ri(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await _w(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&u0(r.remoteStore,o),p}async function _w(r,e,i,s,o){r.pu=(S,D,B)=>(async function(J,Q,G,lt){let W=Q.view.ru(G);W.Cs&&(W=await cv(J.localStore,Q.query,!1).then((({documents:N})=>Q.view.ru(N,W))));const mt=lt&&lt.targetChanges.get(Q.targetId),vt=lt&&lt.targetMismatches.get(Q.targetId)!=null,gt=Q.view.applyChanges(W,J.isPrimaryClient,mt,vt);return Ev(J,Q.targetId,gt.au),gt.snapshot})(r,S,D,B);const c=await cv(r.localStore,e,!0),d=new fw(e,c.Qs),p=d.ru(c.documents),g=Co.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);Ev(r,i,y.au);const E=new dw(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function vw(r,e,i){const s=It(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Qc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&ym(s.remoteStore,o.targetId),Hd(s,o.targetId)})).catch(Hs)):(Hd(s,o.targetId),await Bd(s.localStore,o.targetId,!0))}async function Ew(r,e){const i=It(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ym(i.remoteStore,s.targetId))}async function Tw(r,e,i){const s=Dw(r);try{const o=await(function(d,p){const g=It(d),y=ce.now(),E=p.reduce(((B,Y)=>B.add(Y.key)),Bt());let S,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Y=ia(),J=Bt();return g.Ns.getEntries(B,E).next((Q=>{Y=Q,Y.forEach(((G,lt)=>{lt.isValidDocument()||(J=J.add(G))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,Y))).next((Q=>{S=Q;const G=[];for(const lt of p){const W=UR(lt,S.get(lt.key).overlayedDocument);W!=null&&G.push(new Ja(lt.key,W,wE(W.value.mapValue),wi.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,G,p)})).next((Q=>{D=Q;const G=Q.applyToLocalDocumentSet(S,J);return g.documentOverlayCache.saveOverlays(B,Q.batchId,G)}))})).then((()=>({batchId:D.batchId,changes:zE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new me(jt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await No(s,o.changes),await Wc(s.remoteStore)}catch(o){const c=Sm(o,"Failed to persist write");i.reject(c)}}async function T0(r,e){const i=It(r);try{const s=await O2(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$t(d.hu,14607):o.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await No(i,s,e)}catch(s){await Hs(s)}}function vv(r,e,i){const s=It(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=It(d);g.onlineState=p;let y=!1;g.queries.forEach(((E,S)=>{for(const D of S.Sa)D.va(p)&&(y=!0)})),y&&Am(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Sw(r,e,i){const s=It(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new me(Rt.comparator);d=d.insert(c,rn.newNoDocument(c,Dt.min()));const p=Bt().add(c),g=new $c(Dt.min(),new Map,new me(jt),d,p);await T0(s,g),s.du=s.du.remove(c),s.Au.delete(e),Rm(s)}else await Bd(s.localStore,e,!1).then((()=>Hd(s,e,i))).catch(Hs)}async function Aw(r,e){const i=It(r),s=e.batch.batchId;try{const o=await M2(i.localStore,e);A0(i,s,null),S0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await No(i,o)}catch(o){await Hs(o)}}async function bw(r,e,i){const s=It(r);try{const o=await(function(d,p){const g=It(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>($t(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);A0(s,e,i),S0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await No(s,o)}catch(o){await Hs(o)}}function S0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function A0(r,e,i){const s=It(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||b0(r,s)}))}function b0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ym(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Rm(r))}function Ev(r,e,i){for(const s of i)s instanceof _0?(r.Ru.addReference(s.key,e),Rw(r,s)):s instanceof v0?(_t(bm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||b0(r,s.key)):Ct(19791,{wu:s})}function Rw(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(_t(bm,"New document in limbo: "+i),r.Eu.add(s),Rm(r))}function Rm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new Rt(le.fromString(e)),s=r.fu.next();r.Au.set(s,new mw(i)),r.du=r.du.insert(i,s),u0(r.remoteStore,new ja(Ri(om(i.path)),s,"TargetPurposeLimboResolution",Hc.ce))}}async function No(r,e,i){const s=It(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=pm.As(g.targetId,y);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const E=It(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>at.forEach(y,(D=>at.forEach(D.Es,(B=>E.persistence.referenceDelegate.addReference(S,D.targetId,B))).next((()=>at.forEach(D.ds,(B=>E.persistence.referenceDelegate.removeReference(S,D.targetId,B)))))))))}catch(S){if(!Gs(S))throw S;_t(gm,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const B=E.Ms.get(D),Y=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(D,J)}}})(s.localStore,c))}async function ww(r,e){const i=It(r);if(!i.currentUser.isEqual(e)){_t(bm,"User change. New user:",e.toKey());const s=await r0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new yt(nt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await No(i,s.Ls)}}function Cw(r,e){const i=It(r),s=i.Au.get(e);if(s&&s.hu)return Bt().add(s.key);{let o=Bt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function R0(r){const e=It(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sw.bind(null,e),e.Pu.H_=cw.bind(null,e.eventManager),e.Pu.yu=hw.bind(null,e.eventManager),e}function Dw(r){const e=It(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bw.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return x2(this.persistence,new N2,e.initialUser,this.serializer)}Cu(e){return new a0(mm.mi,this.serializer)}Du(e){return new j2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class Nw extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$t(this.persistence.referenceDelegate instanceof Uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new m2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new a0((s=>Uc.mi(s,i)),this.serializer)}}class Gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ww.bind(null,this.syncEngine),await lw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uw})()}createDatastore(e){const i=Zc(e.databaseInfo.databaseId),s=(function(c){return new G2(c)})(e.databaseInfo);return(function(c,d,p,g){return new K2(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,p){return new $2(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new B2})())}createSyncEngine(e,i){return(function(o,c,d,p,g,y,E){const S=new pw(o,c,d,p,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=It(i);_t(Or,"RemoteStore shutting down."),s.Ea.add(5),await Do(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gd.provider={build:()=>new Gd};class w0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const $a="FirestoreClient";class Iw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{_t($a,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(_t($a,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Sm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Td(r,e){r.asyncQueue.verifyOperationInProgress(),_t($a,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await r0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Tv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Vw(r);_t($a,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>pv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>pv(e.remoteStore,o))),r._onlineComponents=e}async function Vw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_t($a,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ms("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new Pc)}}else _t($a,"Using default OfflineComponentProvider"),await Td(r,new Nw(void 0));return r._offlineComponents}async function C0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_t($a,"Using user provided OnlineComponentProvider"),await Tv(r,r._uninitializedComponentsProvider._online)):(_t($a,"Using default OnlineComponentProvider"),await Tv(r,new Gd))),r._onlineComponents}function xw(r){return C0(r).then((e=>e.syncEngine))}async function D0(r){const e=await C0(r),i=e.eventManager;return i.onListen=gw.bind(null,e.syncEngine),i.onUnlisten=vw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=yw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ew.bind(null,e.syncEngine),i}function Mw(r,e,i={}){const s=new Zi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const E=new w0({next:D=>{E.Nu(),d.enqueueAndForget((()=>g0(c,S)));const B=D.docs.has(p);!B&&D.fromCache?y.reject(new yt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&D.fromCache&&g&&g.source==="server"?y.reject(new yt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new y0(om(p.path),E,{includeMetadataChanges:!0,qa:!0});return p0(c,S)})(await D0(r),r.asyncQueue,e,i,s))),s.promise}function Ow(r,e,i={}){const s=new Zi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const E=new w0({next:D=>{E.Nu(),d.enqueueAndForget((()=>g0(c,S))),D.fromCache&&g.source==="server"?y.reject(new yt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new y0(p,E,{includeMetadataChanges:!0,qa:!0});return p0(c,S)})(await D0(r),r.asyncQueue,e,i,s))),s.promise}function N0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Sv=new Map;const I0="firestore.googleapis.com",Av=!0;class bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I0,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f2)throw new yt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$b("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Bb;switch(s.type){case"firstParty":return new Gb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Sv.get(i);s&&(_t("ComponentProvider","Removing Datastore"),Sv.delete(i),s.terminate())})(this),Promise.resolve()}}function Lw(r,e,i,s={}){r=Ga(r,th);const o=Wd(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(pA(`https://${p}`),vA("Firestore",!0)),c.host!==I0&&c.host!==p&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!Rc(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=an.MOCK_USER;else{y=gA(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new yt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new an(S)}r._authCredentials=new kb(new mE(y,E))}}class Wa{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class Le{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Le(this.firestore,e,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Ro(i,Le._jsonSchema))return new Le(e,s||null,new Rt(le.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Oe("string",Le._jsonSchemaVersion),referencePath:Oe("string")};class Ha extends Wa{constructor(e,i,s){super(e,i,om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Le(this.firestore,null,new Rt(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function je(r,e,...i){if(r=ta(r),pE("collection","path",e),r instanceof th){const s=le.fromString(e,...i);return z_(s),new Ha(r,null,s)}{if(!(r instanceof Le||r instanceof Ha))throw new yt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(e,...i));return z_(s),new Ha(r.firestore,null,s)}}function Ji(r,e,...i){if(r=ta(r),arguments.length===1&&(e=nm.newId()),pE("doc","path",e),r instanceof th){const s=le.fromString(e,...i);return U_(s),new Le(r,null,new Rt(s))}{if(!(r instanceof Le||r instanceof Ha))throw new yt(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(e,...i));return U_(s),new Le(r.firestore,r instanceof Ha?r.converter:null,new Rt(s))}}const Rv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l0(this,"async_queue_retry"),this._c=()=>{const s=Ed();s&&_t(Rv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gs(e))throw e;_t(Rv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,na("INTERNAL UNHANDLED ERROR: ",Cv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Tm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ct(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Cv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Io extends th{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function Uw(r,e){const i=typeof r=="object"?r:Nb(),s=typeof r=="string"?r:Nc,o=bb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=dA("firestore");c&&Lw(o,...c)}return o}function wm(r){if(r._terminated)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zw(r),r._firestoreClient}function zw(r){const e=r._freezeSettings(),i=(function(o,c,d,p){return new lR(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,N0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Iw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(tn.fromBase64String(e))}catch(i){throw new yt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new kn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ro(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Oe("string",kn._jsonSchemaVersion),bytes:Oe("string")};class eh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new yt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cm{constructor(e){this._methodName=e}}class Di{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new yt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new yt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(Ro(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Oe("string",Di._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ro(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ni(e.vectorValues);throw new yt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Oe("string",Ni._jsonSchemaVersion),vectorValues:Oe("object")};const Pw=/^__.*__$/;class jw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,i,this.fieldTransforms):new wo(e,this.data,i,this.fieldTransforms)}}class V0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ja(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function x0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:r})}}class Dm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(x0(this.Ac)&&Pw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Zc(e)}Cc(e,i,s,o=!1){return new Dm({Ac:e,methodName:i,Dc:s,path:We.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(r){const e=r._freezeSettings(),i=Zc(r._databaseId);return new Bw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function kw(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);Im("Data must be an object, but it was:",d,s);const p=M0(s,d);let g,y;if(c.merge)g=new Cn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const D=Fd(e,S,i);if(!d.contains(D))throw new yt(nt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);L0(E,D)||E.push(D)}g=new Cn(E),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new jw(new yn(p),g,y)}class nh extends Cm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}function qw(r,e,i,s){const o=r.Cc(1,e,i);Im("Data must be an object, but it was:",o,s);const c=[],d=yn.empty();Za(s,((g,y)=>{const E=Vm(e,g,i);y=ta(y);const S=o.yc(E);if(y instanceof nh)c.push(E);else{const D=Vo(y,S);D!=null&&(c.push(E),d.set(E,D))}}));const p=new Cn(c);return new V0(d,p,o.fieldTransforms)}function Hw(r,e,i,s,o,c){const d=r.Cc(1,e,i),p=[Fd(e,s,i)],g=[o];if(c.length%2!=0)throw new yt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(Fd(e,c[D])),g.push(c[D+1]);const y=[],E=yn.empty();for(let D=p.length-1;D>=0;--D)if(!L0(y,p[D])){const B=p[D];let Y=g[D];Y=ta(Y);const J=d.yc(B);if(Y instanceof nh)y.push(B);else{const Q=Vo(Y,J);Q!=null&&(y.push(B),E.set(B,Q))}}const S=new Cn(y);return new V0(E,S,d.fieldTransforms)}function Gw(r,e,i,s=!1){return Vo(i,r.Cc(s?4:3,e))}function Vo(r,e){if(O0(r=ta(r)))return Im("Unsupported field value:",e,r),M0(r,e);if(r instanceof Cm)return(function(s,o){if(!x0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let g=Vo(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=ta(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ce.fromDate(s);return{timestampValue:Lc(o.serializer,c)}}if(s instanceof ce){const c=new ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,c)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:$E(o.serializer,s._byteString)};if(s instanceof Le){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:fm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(d,p){return{mapValue:{fields:{[bE]:{stringValue:RE},[Ic]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return um(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${qc(s)}`)})(r,e)}function M0(r,e){const i={};return _E(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(r,((s,o)=>{const c=Vo(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function O0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof Di||r instanceof kn||r instanceof Le||r instanceof Cm||r instanceof Ni)}function Im(r,e,i){if(!O0(i)||!gE(i)){const s=qc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Fd(r,e,i){if((e=ta(e))instanceof eh)return e._internalPath;if(typeof e=="string")return Vm(r,e);throw jc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Fw=new RegExp("[~\\*/\\[\\]]");function Vm(r,e,i){if(e.search(Fw)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new eh(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function jc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new yt(nt.INVALID_ARGUMENT,p+r+g)}function L0(r,e){return r.some((i=>i.isEqual(e)))}class U0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ih("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Qw extends U0{data(){return super.data()}}function ih(r,e){return typeof e=="string"?Vm(r,e):e instanceof eh?e._internalPath:e._delegate._internalPath}function Yw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new yt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xm{}class Mm extends xm{}function uo(r,e,...i){let s=[];e instanceof xm&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((g=>g instanceof Om)).length,p=c.filter((g=>g instanceof ah)).length;if(d>1||d>0&&p>0)throw new yt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ah extends Mm{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new ah(e,i,s)}_apply(e){const i=this._parse(e);return z0(e._query,i),new Wa(e.firestore,e.converter,Ld(e._query,i))}_parse(e){const i=Nm(e.firestore);return(function(c,d,p,g,y,E,S){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new yt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Nv(S,E);const Y=[];for(const J of S)Y.push(Dv(g,c,J));D={arrayValue:{values:Y}}}else D=Dv(g,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Nv(S,E),D=Gw(p,d,S,E==="in"||E==="not-in");return Me.create(y,E,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Tc(r,e,i){const s=e,o=ih("where",r);return ah._create(o,s,i)}class Om extends xm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Om(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)z0(d,g),d=Ld(d,g)})(e._query,i),new Wa(e.firestore,e.converter,Ld(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lm extends Mm{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Lm(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new yt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new yt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vo(c,d)})(e._query,this._field,this._direction);return new Wa(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Fs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Kw(r,e="asc"){const i=e,s=ih("orderBy",r);return Lm._create(s,i)}class Um extends Mm{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Um(e,i,s)}_apply(e){return new Wa(e.firestore,e.converter,xc(e._query,this._limit,this._limitType))}}function Xw(r){return Um._create("limit",r,"F")}function Dv(r,e,i){if(typeof(i=ta(i))=="string"){if(i==="")throw new yt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(e)&&i.indexOf("/")!==-1)throw new yt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(le.fromString(i));if(!Rt.isDocumentKey(s))throw new yt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return F_(r,new Rt(s))}if(i instanceof Le)return F_(r,i._key);throw new yt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qc(i)}.`)}function Nv(r,e){if(!Array.isArray(r)||r.length===0)throw new yt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z0(r,e){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new yt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class $w{convertValue(e,i="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Za(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Ic].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new Ni(i)}convertGeoPoint(e){return new Di(Se(e.latitude),Se(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Fc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){const i=Qa(e);return new ce(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=le.fromString(e);$t(n0(s),9688,{name:e});const o=new yo(s.get(1),s.get(3)),c=new Rt(s.popFirst(5));return o.isEqual(i)||na(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Zw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xr extends U0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(ih("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=xr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",xr._jsonSchema={type:Oe("string",xr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Sc extends xr{data(e={}){return super.data(e)}}class xs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Sc(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Sc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new io(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:Jw(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Jw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:r})}}function zm(r){r=Ga(r,Le);const e=Ga(r.firestore,Io);return Mw(wm(e),r._key).then((i=>tC(e,r,i)))}xs._jsonSchemaVersion="firestore/querySnapshot/1.0",xs._jsonSchema={type:Oe("string",xs._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class P0 extends $w{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function Fe(r){r=Ga(r,Wa);const e=Ga(r.firestore,Io),i=wm(e),s=new P0(e);return Yw(r._query),Ow(i,r._query).then((o=>new xs(e,s,r,o)))}function co(r,e,i,...s){r=Ga(r,Le);const o=Ga(r.firestore,Io),c=Nm(o);let d;return d=typeof(e=ta(e))=="string"||e instanceof eh?Hw(c,"updateDoc",r._key,e,i,s):qw(c,"updateDoc",r._key,e),j0(o,[d.toMutation(r._key,wi.exists(!0))])}function Ww(r,e){const i=Ga(r.firestore,Io),s=Ji(r),o=Zw(r.converter,e);return j0(i,[kw(Nm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function j0(r,e){return(function(s,o){const c=new Zi;return s.asyncQueue.enqueueAndForget((async()=>Tw(await xw(s),o,c))),c.promise})(wm(r),e)}function tC(r,e,i){const s=i.docs.get(e._key),o=new P0(r);return new xr(r,o,e._key,s,new io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){qs=o})(Db),Cc(new fo("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Io(new qb(s.getProvider("auth-internal")),new Fb(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Is(x_,M_,e),Is(x_,M_,"esm2020")})();var eC="firebase",nC="12.7.0";Is(eC,nC,"app");const iC={apiKey:"AIzaSyDxk3T_7oF_ObNbw97fj9GnUj5f4fTaqgU",authDomain:"acc-fantasy-667a8.firebaseapp.com",projectId:"acc-fantasy-667a8",storageBucket:"acc-fantasy-667a8.firebasestorage.app",messagingSenderId:"938894260054",appId:"1:938894260054:web:4748ebc7fbeaf254c808f7"},aC=aE(iC),re=Uw(aC),Iv=4;function rC(){const[r,e]=j.useState("loading"),[i,s]=j.useState(""),[o,c]=j.useState(1),[d,p]=j.useState(1),[g,y]=j.useState([]),[E,S]=j.useState([]),[D,B]=j.useState([]);j.useEffect(()=>{let G=!0;async function lt(){e("loading"),s("");try{const W=await zm(Ji(re,"league","main")),mt=Number(W.data()?.currentWeek)||1,[vt,gt,N]=await Promise.all([Fe(je(re,"teams")),Fe(je(re,"matchups")),Fe(uo(je(re,"transactions"),Kw("timestamp","desc"),Xw(50)))]),b=vt.docs.map(V=>{const L=V.data()||{};return{id:V.id,teamId:L.teamId||V.id,name:L.teamName||L.owner||L.teamId||V.id}}),w=gt.docs.map(V=>V.data()||{}),x=N.docs.map(V=>({id:V.id,...V.data()}));if(!G)return;c(mt),p(mt),y(b),S(w),B(x),e("success")}catch(W){if(!G)return;s(W?.message||"Failed to load standings."),e("error")}}return lt(),()=>{G=!1}},[]);const Y=j.useMemo(()=>{const G=Math.max(1,o);return Array.from({length:G},(lt,W)=>W+1)},[o]),J=j.useMemo(()=>{const G={};return g.forEach(W=>{G[W.teamId]={wins:0,losses:0,pf:0,pa:0}}),E.forEach(W=>{const mt=Number(W.week)||0;if(mt<1||mt>d)return;const vt=W.team1,gt=W.team2;if(!vt||!gt)return;G[vt]||(G[vt]={wins:0,losses:0,pf:0,pa:0}),G[gt]||(G[gt]={wins:0,losses:0,pf:0,pa:0});const N=Number(W.team1Points)||0,b=Number(W.team2Points)||0;if(G[vt].pf+=N,G[vt].pa+=b,G[gt].pf+=b,G[gt].pa+=N,W.completed===!0&&W.winner){const w=String(W.winner),x=w===vt?gt:w===gt?vt:null;x&&(G[w].wins+=1,G[x].losses+=1)}}),g.map(W=>{const mt=G[W.teamId]||{wins:0,losses:0,pf:0,pa:0},vt=mt.wins+mt.losses,gt=vt?mt.wins/vt:0;return{...W,...mt,winPct:gt}}).sort((W,mt)=>mt.winPct!==W.winPct?mt.winPct-W.winPct:mt.pf!==W.pf?mt.pf-W.pf:mt.pa!==W.pa?mt.pa-W.pa:W.name.localeCompare(mt.name)).map((W,mt)=>({...W,rank:mt+1}))},[g,E,d]),Q=G=>G?(G.toDate?G.toDate():new Date(G)).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"";return M.jsxs("div",{className:"standings-page",children:[M.jsxs("div",{className:"standings-header",children:[M.jsx("h2",{children:"League Standings"}),M.jsxs("div",{className:"week-select",children:[M.jsx("span",{children:"Week"}),M.jsx("select",{value:d,onChange:G=>p(Number(G.target.value)),children:Y.map(G=>M.jsx("option",{value:G,children:G},G))})]})]}),M.jsxs("div",{className:"standings-table",children:[M.jsxs("div",{className:"table-header",children:[M.jsx("div",{children:"Rank"}),M.jsx("div",{children:"Team"}),M.jsx("div",{children:"W"}),M.jsx("div",{children:"L"}),M.jsx("div",{children:"PF"}),M.jsx("div",{children:"PA"})]}),r==="loading"&&M.jsx("div",{className:"table-state",children:"Loading"}),r==="error"&&M.jsxs("div",{className:"table-state error",children:["Failed to load standings.",M.jsx("div",{className:"error-detail",children:i})]}),r==="success"&&J.map(G=>M.jsxs("div",{children:[M.jsxs("div",{className:"table-row",children:[M.jsx("div",{className:"rank",children:G.rank}),M.jsx("div",{className:"team-name",children:G.name}),M.jsx("div",{children:G.wins}),M.jsx("div",{children:G.losses}),M.jsx("div",{children:G.pf.toFixed(2)}),M.jsx("div",{children:G.pa.toFixed(2)})]}),G.rank===Iv&&J.length>Iv&&M.jsx("div",{className:"cutline"})]},G.teamId))]}),r==="success"&&D.length>0&&M.jsxs("div",{className:"transactions-section",children:[M.jsx("h3",{children:"Recent Transactions"}),M.jsx("div",{className:"transactions-list",children:D.map(G=>M.jsxs("div",{className:"transaction-item",children:[M.jsx("span",{className:"txn-time",children:Q(G.timestamp)}),M.jsx("span",{className:"txn-team",children:G.teamName}),M.jsx("span",{className:"txn-action",children:G.type==="add"&&M.jsxs(M.Fragment,{children:["added ",M.jsx("strong",{children:G.playerAdded}),G.playerDropped&&M.jsxs(M.Fragment,{children:[", dropped ",M.jsx("strong",{children:G.playerDropped})]})]})})]},G.id))})]})]})}const sC=["G1","G2","F1","F2","FC","Bench","IR"];function dc(r){return(Number(r)||0).toFixed(2)}function lC(){const[r,e]=j.useState("loading"),[i,s]=j.useState(""),[o,c]=j.useState(1),[d,p]=j.useState(1),[g,y]=j.useState({}),[E,S]=j.useState({}),[D,B]=j.useState({}),[Y,J]=j.useState({}),[Q,G]=j.useState([]);j.useEffect(()=>{let b=!0;async function w(){e("loading"),s("");try{const V=(await zm(Ji(re,"league","main"))).data()||{},L=Number(V.currentWeek)||1,[C,Ot]=await Promise.all([Fe(je(re,"teams")),Fe(je(re,"players"))]),ht={};C.docs.forEach(K=>{const ut=K.data()||{},pt=ut.teamId||K.id;ht[pt]={id:K.id,teamId:pt,name:ut.teamName||ut.owner||pt,roster:ut.roster||{}}});const U={};if(Ot.docs.forEach(K=>{const ut=K.data()||{},pt=String(ut.playerId||K.id);U[pt]={playerId:pt,name:ut.name||pt,teamId:ut.teamId??null}}),!b)return;c(L),p(L),y(ht),S(U),e("success")}catch(x){if(!b)return;s(x?.message||"Failed to load matchups."),e("error")}}return w(),()=>{b=!1}},[]);const lt=j.useMemo(()=>Array.from({length:10},(w,x)=>x+1),[]);j.useEffect(()=>{if(r!=="success")return;(async()=>{try{const[w,x,V,L]=await Promise.all([Fe(uo(je(re,"matchups"),Tc("week","==",d))),Fe(uo(je(re,"weeklyStats"),Tc("week","==",d))),Fe(uo(je(re,"games"),Tc("week","==",d))),Fe(je(re,"teams"))]),C={};L.docs.forEach(K=>{const ut=K.data()||{},pt=ut.teamId||K.id;C[pt]={id:K.id,teamId:pt,name:ut.teamName||ut.owner||pt,roster:ut.roster||{}}}),y(C);const Ot=w.docs.map(K=>K.data()||{}).sort((K,ut)=>String(K.matchupId||"").localeCompare(String(ut.matchupId||"")));G(Ot);const ht={};x.docs.forEach(K=>{const ut=K.data()||{},pt=String(ut.playerId||"");if(!pt)return;const ct=Number(ut.totalFantasyPoints)||0,R=Number(ut.gamesPlayed)||0;ht[pt]={pts:ct,gp:R}}),B(ht);const U={};V.docs.forEach(K=>{const ut=K.data()||{},pt=ut.homeTeamId,ct=ut.awayTeamId;typeof pt=="number"&&(U[pt]=(U[pt]||0)+1),typeof ct=="number"&&(U[ct]=(U[ct]||0)+1)}),J(U)}catch(w){s(w?.message||"Failed to load matchups."),e("error")}})()},[d,r]);const W=b=>{if(!b)return"";const w=String(b);return E[w]?.name||w},mt=b=>{if(!b)return 0;const w=String(b);return Number(D[w]?.gp)||0},vt=b=>{if(!b)return 0;const w=String(b);return Number(D[w]?.pts)||0},gt=b=>{if(!b)return null;const w=String(b),x=E[w]?.teamId;return typeof x=="number"?x:null},N=b=>{const w=b||{};let x=0;return["G1","G2","F1","F2","FC"].forEach(L=>{const C=w[L];if(!C)return;const Ot=gt(C);if(Ot==null)return;const ht=Number(Y[Ot])||0,U=mt(C),K=Math.max(0,ht-U);x+=K}),x};return M.jsxs("div",{className:"matchups-page",children:[M.jsxs("div",{className:"matchups-header",children:[M.jsx("h2",{children:"Matchups"}),M.jsxs("div",{className:"week-select",children:[M.jsx("span",{children:"Week"}),M.jsx("select",{value:d,onChange:b=>p(Number(b.target.value)),children:lt.map(b=>M.jsx("option",{value:b,children:b},b))})]})]}),r==="loading"&&M.jsx("div",{className:"state",children:"Loading"}),r==="error"&&M.jsxs("div",{className:"state error",children:["Failed to load matchups.",M.jsx("div",{className:"error-detail",children:i})]}),r==="success"&&Q.length===0&&M.jsxs("div",{className:"state",children:["No matchups for week ",d,"."]}),r==="success"&&Q.map(b=>{const w=String(b.team1||""),x=String(b.team2||""),V=g[w],L=g[x],C=V?.name||w,Ot=L?.name||x,ht=V?.roster||{},U=L?.roster||{},K=Number(b.team1Points)||0,ut=Number(b.team2Points)||0,pt=String(b.winner||""),ct=pt&&pt===w,R=pt&&pt===x,P=N(ht),et=N(U);return M.jsxs("div",{className:"matchup-card",children:[M.jsxs("div",{className:"matchup-top",children:[M.jsxs("div",{className:`team-name ${ct?"winner":""}`,children:[C,M.jsxs("div",{className:"subline",children:["GR: ",P]})]}),M.jsxs("div",{className:"score",children:[dc(K)," - ",dc(ut)]}),M.jsxs("div",{className:`team-name right ${R?"winner":""}`,children:[Ot,M.jsxs("div",{className:"subline right",children:["GR: ",et]})]})]}),M.jsxs("div",{className:"slot-header",children:[M.jsx("div",{className:"pos",children:"POS"}),M.jsx("div",{className:"player left",children:"PLAYER"}),M.jsx("div",{className:"gp",children:"GP"}),M.jsx("div",{className:"pts",children:"PTS"}),M.jsx("div",{className:"pts",children:"PTS"}),M.jsx("div",{className:"gp",children:"GP"}),M.jsx("div",{className:"player right",children:"PLAYER"}),M.jsx("div",{className:"pos",children:"POS"})]}),sC.map(rt=>{const st=ht[rt],ot=U[rt];return M.jsxs("div",{className:"slot-row",children:[M.jsx("div",{className:"pos",children:rt}),M.jsx("div",{className:"player left",children:W(st)}),M.jsx("div",{className:"gp",children:mt(st)}),M.jsx("div",{className:"pts",children:dc(vt(st))}),M.jsx("div",{className:"pts",children:dc(vt(ot))}),M.jsx("div",{className:"gp",children:mt(ot)}),M.jsx("div",{className:"player right",children:W(ot)}),M.jsx("div",{className:"pos",children:rt})]},`${b.matchupId||"m"}_${rt}`)})]},b.matchupId||`${w}_${x}_${b.week}`)})]})}const oC=["G1","G2","F1","F2","FC","Bench","IR"];function uC(){const[r,e]=j.useState("loading"),[i,s]=j.useState(""),[o,c]=j.useState(1),[d,p]=j.useState(1),[g,y]=j.useState([]),[E,S]=j.useState({}),[D,B]=j.useState({}),[Y,J]=j.useState(null),[Q,G]=j.useState(null),[lt,W]=j.useState(!1);j.useEffect(()=>{let ht=!0;async function U(){e("loading"),s("");try{const[K,ut,pt,ct]=await Promise.all([zm(Ji(re,"league","main")),Fe(je(re,"teams")),Fe(je(re,"players")),Fe(je(re,"matchups"))]),R=Number(K.data()?.currentWeek)||1,P={};ct.docs.forEach(st=>{const ot=st.data()||{};if(!ot.completed)return;const ft=ot.team1,Et=ot.team2;P[ft]||(P[ft]={wins:0,losses:0,ties:0}),P[Et]||(P[Et]={wins:0,losses:0,ties:0});const At=String(ot.winner||"");At===ft?(P[ft].wins++,P[Et].losses++):At===Et?(P[Et].wins++,P[ft].losses++):At==="tie"&&(P[ft].ties++,P[Et].ties++)});const et=ut.docs.map(st=>{const ot=st.data()||{},ft=ot.teamId||st.id,Et=P[ft]||{wins:0,losses:0,ties:0};return{id:st.id,teamId:ft,name:ot.teamName||ot.owner||st.id,roster:ot.roster||{},record:Et}}).sort((st,ot)=>st.name.localeCompare(ot.name)),rt={};if(pt.docs.forEach(st=>{const ot=st.data()||{},ft=String(ot.playerId||st.id);rt[ft]={playerId:ft,name:ot.name||ft,position:ot.position||"?",teamId:ot.teamId??null}}),!ht)return;c(R),p(R),y(et),S(rt),e("success")}catch(K){if(!ht)return;s(K?.message||"Failed to load teams."),e("error")}}return U(),()=>{ht=!1}},[]);const mt=j.useMemo(()=>{const ht=Math.max(1,o);return Array.from({length:ht},(U,K)=>K+1)},[o]);j.useEffect(()=>{if(r!=="success")return;(async()=>{try{const U=await Fe(uo(je(re,"gameStats"),Tc("week","==",d))),K={};U.docs.forEach(ut=>{const pt=ut.data()||{},ct=String(pt.playerId||"");if(!ct)return;K[ct]||(K[ct]={gamesPlayed:0,lastGamePoints:0,totalFantasyPoints:0,stats:{points:0,rebounds:0,assists:0,steals:0,blocks:0,turnovers:0,fouls:0,fieldGoalsMade:0,fieldGoalsAttempted:0,threePointFieldGoalsMade:0}}),K[ct].gamesPlayed+=1,K[ct].lastGamePoints=Number(pt.fantasyPoints)||0,K[ct].totalFantasyPoints+=Number(pt.fantasyPoints)||0;const R=pt.stats||{};K[ct].stats.points+=Number(R.points)||0,K[ct].stats.rebounds+=Number(R.rebounds)||0,K[ct].stats.assists+=Number(R.assists)||0,K[ct].stats.steals+=Number(R.steals)||0,K[ct].stats.blocks+=Number(R.blocks)||0,K[ct].stats.turnovers+=Number(R.turnovers)||0,K[ct].stats.fouls+=Number(R.fouls)||0,K[ct].stats.fieldGoalsMade+=Number(R.fieldGoalsMade)||0,K[ct].stats.fieldGoalsAttempted+=Number(R.fieldGoalsAttempted)||0,K[ct].stats.threePointFieldGoalsMade+=Number(R.threePointFieldGoalsMade)||0}),B(K)}catch(U){console.error("Error loading stats:",U)}})()},[d,r]);const vt=d===o,gt=ht=>ht&&D[String(ht)]||null,N=ht=>{const U=gt(ht);return U&&U.gamesPlayed>0},b=ht=>{const U=gt(ht);return U?U.lastGamePoints===0:!0},w=ht=>{const U=gt(ht);return U&&U.lastGamePoints>0},x=(ht,U)=>ht==="Bench"||ht==="IR"?!0:ht==="G1"||ht==="G2"?U==="G":ht==="F1"||ht==="F2"?U==="F":ht==="FC"?U==="F"||U==="C":!1,V=(ht,U,K)=>{vt&&(N(K)||(Y===ht&&Q?.slot===U?(J(null),G(null)):(J(ht),G({slot:U,playerId:K}))))},L=async(ht,U,K)=>{if(!vt||!Q||lt)return;const ut=g.find(st=>st.teamId===ht);if(!ut)return;const pt=Q.slot,ct=Q.playerId;if(pt===U){J(null),G(null);return}if(K&&N(K))return;const R=E[ct];if(!K){if(!R)return;const st=R.position;if(!x(U,st)){alert(`${R.name} (${st}) cannot be moved to ${U}.`);return}if(U==="IR"&&!b(ct)){alert("Can only move players to IR if they scored 0 in their last game.");return}W(!0);try{const ot={...ut.roster};ot[pt]=null,ot[U]=ct,await co(Ji(re,"teams",ut.id),{roster:ot}),y(ft=>ft.map(Et=>Et.teamId===ht?{...Et,roster:ot}:Et)),J(null),G(null)}catch(ot){alert("Error moving player: "+ot.message)}finally{W(!1)}return}const P=E[K];if(!R||!P)return;const et=R.position,rt=P.position;if(!x(U,et)){alert(`${R.name} (${et}) cannot play ${U}.`);return}if(!x(pt,rt)){alert(`${P.name} (${rt}) cannot play ${pt}.`);return}if(U==="IR"&&!b(ct)){alert("Can only move players to IR if they scored 0 in their last game.");return}if(pt==="IR"&&!b(K)){alert("Can only move players to IR if they scored 0 in their last game.");return}W(!0);try{const st={...ut.roster};st[pt]=K,st[U]=ct,await co(Ji(re,"teams",ut.id),{roster:st}),y(ot=>ot.map(ft=>ft.teamId===ht?{...ft,roster:st}:ft)),J(null),G(null)}catch(st){alert("Error swapping players: "+st.message)}finally{W(!1)}},C=ht=>ht?ht.toFixed(1):"0.0",Ot=(ht,U)=>U?(ht/U).toFixed(3):".000";return M.jsxs("div",{className:"teams-page",children:[M.jsxs("div",{className:"teams-header",children:[M.jsx("h2",{children:"Team Rosters"}),M.jsxs("div",{className:"week-select",children:[M.jsx("span",{children:"Week"}),M.jsx("select",{value:d,onChange:ht=>{p(Number(ht.target.value)),J(null),G(null)},children:mt.map(ht=>M.jsx("option",{value:ht,children:ht},ht))})]})]}),!vt&&M.jsx("div",{className:"past-week-notice",children:"Viewing past week. Roster changes are disabled."}),r==="loading"&&M.jsx("div",{className:"state",children:"Loading"}),r==="error"&&M.jsxs("div",{className:"state error",children:["Failed to load teams.",M.jsx("div",{className:"error-detail",children:i})]}),r==="success"&&g.map(ht=>{const U=Y===ht.teamId;return M.jsxs("div",{className:"team-section",children:[M.jsxs("h3",{children:[ht.name,M.jsxs("span",{className:"team-record",children:["(",ht.record.wins,"-",ht.record.losses,ht.record.ties>0&&`-${ht.record.ties}`,")"]})]}),M.jsx("div",{className:"roster-table-container",children:M.jsxs("table",{className:"roster-table",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{children:"POS"}),M.jsx("th",{className:"name-col",children:"NAME"}),M.jsx("th",{children:"PTS"}),M.jsx("th",{children:"REB"}),M.jsx("th",{children:"AST"}),M.jsx("th",{children:"STL"}),M.jsx("th",{children:"BLK"}),M.jsx("th",{children:"FG%"}),M.jsx("th",{children:"3PM"}),M.jsx("th",{children:"TO"}),M.jsx("th",{children:"FOUL"}),M.jsx("th",{children:"FPTS"}),M.jsx("th",{children:"GP"})]})}),M.jsx("tbody",{children:oC.map(K=>{const ut=ht.roster[K],pt=ut?E[String(ut)]:null,ct=gt(ut),R=N(ut),P=K==="IR"&&w(ut),et=U&&Q?.slot===K&&Q?.playerId===ut,rt=vt&&ut&&!R,st=U&&Q&&Q.slot!==K&&!R,ot=()=>{st?L(ht.teamId,K,ut):rt&&V(ht.teamId,K,ut)},ft=`
                        ${vt?"":"past-week"}
                        ${R?"has-played":""}
                        ${et?"selected":""}
                        ${st?"swap-target":""}
                        ${rt||st?"clickable":""}
                        ${P?"needs-ir-move":""}
                      `.trim();return M.jsxs("tr",{className:ft,onClick:ot,children:[M.jsx("td",{className:"pos-cell",children:K}),M.jsx("td",{className:"name-cell",children:pt?pt.name:""}),M.jsx("td",{children:ct?C(ct.stats.points):""}),M.jsx("td",{children:ct?C(ct.stats.rebounds):""}),M.jsx("td",{children:ct?C(ct.stats.assists):""}),M.jsx("td",{children:ct?C(ct.stats.steals):""}),M.jsx("td",{children:ct?C(ct.stats.blocks):""}),M.jsx("td",{children:ct?Ot(ct.stats.fieldGoalsMade,ct.stats.fieldGoalsAttempted):""}),M.jsx("td",{children:ct?C(ct.stats.threePointFieldGoalsMade):""}),M.jsx("td",{children:ct?C(ct.stats.turnovers):""}),M.jsx("td",{children:ct?C(ct.stats.fouls):""}),M.jsx("td",{className:"fpts-cell",children:ct?C(ct.totalFantasyPoints):""}),M.jsx("td",{children:ct?ct.gamesPlayed:"0"})]},K)})})]})})]},ht.teamId)})]})}function cC(){const[r,e]=j.useState("loading"),[i,s]=j.useState(""),[o,c]=j.useState([]),[d,p]=j.useState([]),[g,y]=j.useState({}),[E,S]=j.useState("All"),[D,B]=j.useState("ppg"),[Y,J]=j.useState("desc"),[Q,G]=j.useState(!1),[lt,W]=j.useState(null),[mt,vt]=j.useState(""),[gt,N]=j.useState(""),[b,w]=j.useState(!1);j.useEffect(()=>{let R=!0;async function P(){e("loading"),s("");try{const[et,rt,st]=await Promise.all([Fe(je(re,"teams")),Fe(je(re,"players")),Fe(je(re,"weeklyStats"))]),ot=et.docs.map(At=>{const Xt=At.data()||{};return{id:At.id,teamId:Xt.teamId||At.id,name:Xt.teamName||Xt.owner||At.id,roster:Xt.roster||{}}}).sort((At,Xt)=>At.name.localeCompare(Xt.name)),ft=rt.docs.map(At=>{const Xt=At.data()||{};return{id:At.id,playerId:String(Xt.playerId||At.id),name:Xt.name||"Unknown",position:Xt.position||"?",ncaaTeamId:Xt.teamId??null,status:Xt.status||"free_agent",fantasyTeam:Xt.fantasyTeam||null}}),Et={};if(st.docs.forEach(At=>{const Xt=At.data()||{},se=String(Xt.playerId||"");if(!se)return;Et[se]||(Et[se]={totalGames:0,totalPoints:0,totalRebounds:0,totalAssists:0,totalSteals:0,totalBlocks:0,totalTurnovers:0,totalFouls:0,totalFGM:0,totalFGA:0,total3PM:0,totalFantasyPoints:0});const Ue=Xt.aggregatedStats||{};Et[se].totalGames+=Number(Xt.gamesPlayed)||0,Et[se].totalPoints+=Number(Ue.points)||0,Et[se].totalRebounds+=Number(Ue.rebounds)||0,Et[se].totalAssists+=Number(Ue.assists)||0,Et[se].totalSteals+=Number(Ue.steals)||0,Et[se].totalBlocks+=Number(Ue.blocks)||0,Et[se].totalTurnovers+=Number(Ue.turnovers)||0,Et[se].totalFouls+=Number(Ue.fouls)||0,Et[se].totalFGM+=Number(Ue.fieldGoalsMade)||0,Et[se].totalFGA+=Number(Ue.fieldGoalsAttempted)||0,Et[se].total3PM+=Number(Ue.threePointFieldGoalsMade)||0,Et[se].totalFantasyPoints+=Number(Xt.totalFantasyPoints)||0}),!R)return;c(ot),p(ft),y(Et),e("success")}catch(et){if(!R)return;s(et?.message||"Failed to load free agents."),e("error")}}return P(),()=>{R=!1}},[]);const x=j.useMemo(()=>d.filter(R=>R.status==="free_agent"),[d]),V=j.useMemo(()=>{let R=x;return E!=="All"&&(R=R.filter(P=>P.position===E)),R},[x,E]),L=j.useMemo(()=>{const R=[...V];return R.sort((P,et)=>{const rt=g[P.playerId]||{},st=g[et.playerId]||{},ot=rt.totalGames||0,ft=st.totalGames||0;let Et,At;switch(D){case"name":return Y==="asc"?P.name.localeCompare(et.name):et.name.localeCompare(P.name);case"position":return Y==="asc"?P.position.localeCompare(et.position):et.position.localeCompare(P.position);case"ppg":Et=ot>0?rt.totalPoints/ot:0,At=ft>0?st.totalPoints/ft:0;break;case"rpg":Et=ot>0?rt.totalRebounds/ot:0,At=ft>0?st.totalRebounds/ft:0;break;case"apg":Et=ot>0?rt.totalAssists/ot:0,At=ft>0?st.totalAssists/ft:0;break;case"spg":Et=ot>0?rt.totalSteals/ot:0,At=ft>0?st.totalSteals/ft:0;break;case"bpg":Et=ot>0?rt.totalBlocks/ot:0,At=ft>0?st.totalBlocks/ft:0;break;case"fgpct":Et=rt.totalFGA>0?rt.totalFGM/rt.totalFGA:0,At=st.totalFGA>0?st.totalFGM/st.totalFGA:0;break;case"3pmpg":Et=ot>0?rt.total3PM/ot:0,At=ft>0?st.total3PM/ft:0;break;case"topg":Et=ot>0?rt.totalTurnovers/ot:0,At=ft>0?st.totalTurnovers/ft:0;break;case"fpg":Et=ot>0?rt.totalFouls/ot:0,At=ft>0?st.totalFouls/ft:0;break;default:return 0}return Y==="asc"?Et-At:At-Et}),R},[V,D,Y,g]),C=R=>{D===R?J(Y==="asc"?"desc":"asc"):(B(R),J("desc"))},Ot=R=>{W(R),vt(""),N(""),G(!0)},ht=async()=>{if(!mt||!lt){alert("Please select a team.");return}const R=o.find(st=>st.teamId===mt);if(!R)return;const P=R.roster||{},et=["G1","G2","F1","F2","FC","Bench"],rt=et.filter(st=>P[st]).length;if(rt>=6&&!gt){alert("You must drop a player first.");return}if(rt>=6&&gt==="none"){alert("You must drop a player first.");return}w(!0);try{let st=null;for(const Qt of et)if(!P[Qt]){st=Qt;break}let ot=null;if(gt&&gt!=="none"){for(const Qt of et)if(P[Qt]===gt){ot=Qt;break}}const ft=ot||st;if(!ft){alert("No available roster spot."),w(!1);return}const Et={...P};Et[ft]=lt.playerId,await co(Ji(re,"teams",R.id),{roster:Et}),await co(Ji(re,"players",lt.id),{status:"rostered",fantasyTeam:mt,rosterSpot:ft});let At=null;if(gt&&gt!=="none"){const Qt=d.find(ye=>ye.playerId===gt);Qt&&(At=Qt.name,await co(Ji(re,"players",Qt.id),{status:"free_agent",fantasyTeam:null,rosterSpot:null}))}await Ww(je(re,"transactions"),{type:"add",teamId:mt,teamName:R.name,playerAdded:lt.name,playerAddedId:lt.playerId,playerDropped:At,playerDroppedId:gt&&gt!=="none"?gt:null,timestamp:new Date});const[Xt,se]=await Promise.all([Fe(je(re,"teams")),Fe(je(re,"players"))]),Ue=Xt.docs.map(Qt=>{const ye=Qt.data()||{};return{id:Qt.id,teamId:ye.teamId||Qt.id,name:ye.teamName||ye.owner||Qt.id,roster:ye.roster||{}}}).sort((Qt,ye)=>Qt.name.localeCompare(ye.name)),ra=se.docs.map(Qt=>{const ye=Qt.data()||{};return{id:Qt.id,playerId:String(ye.playerId||Qt.id),name:ye.name||"Unknown",position:ye.position||"?",ncaaTeamId:ye.teamId??null,status:ye.status||"free_agent",fantasyTeam:ye.fantasyTeam||null}});c(Ue),p(ra),G(!1),W(null),vt(""),N("")}catch(st){alert("Error adding player: "+st.message)}finally{w(!1)}},U=R=>R?R.toFixed(1):"0.0",K=(R,P)=>P?(R/P).toFixed(3):".000",pt=(()=>{if(!mt)return[];const R=o.find(rt=>rt.teamId===mt);if(!R)return[];const P=R.roster||{};return["G1","G2","F1","F2","FC","Bench"].map(rt=>{const st=P[rt];if(!st)return null;const ot=d.find(ft=>ft.playerId===st);return ot?{...ot,slot:rt}:null}).filter(Boolean)})(),ct=mt&&pt.length>=6;return M.jsxs("div",{className:"free-agents-page",children:[M.jsxs("div",{className:"fa-header",children:[M.jsx("h2",{children:"Free Agents"}),M.jsx("div",{className:"fa-filters",children:M.jsxs("label",{children:["Position:",M.jsxs("select",{value:E,onChange:R=>S(R.target.value),children:[M.jsx("option",{value:"All",children:"All"}),M.jsx("option",{value:"G",children:"G"}),M.jsx("option",{value:"F",children:"F"}),M.jsx("option",{value:"C",children:"C"})]})]})})]}),r==="loading"&&M.jsx("div",{className:"state",children:"Loading"}),r==="error"&&M.jsxs("div",{className:"state error",children:["Failed to load free agents.",M.jsx("div",{className:"error-detail",children:i})]}),r==="success"&&M.jsx("div",{className:"fa-table-container",children:M.jsxs("table",{className:"fa-table",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{className:"add-col"}),M.jsxs("th",{onClick:()=>C("name"),className:"sortable",children:["Name ",D==="name"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("position"),className:"sortable",children:["Pos ",D==="position"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("ppg"),className:"sortable",children:["PPG ",D==="ppg"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("rpg"),className:"sortable",children:["RPG ",D==="rpg"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("apg"),className:"sortable",children:["APG ",D==="apg"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("spg"),className:"sortable",children:["SPG ",D==="spg"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("bpg"),className:"sortable",children:["BPG ",D==="bpg"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("fgpct"),className:"sortable",children:["FG% ",D==="fgpct"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("3pmpg"),className:"sortable",children:["3PMPG ",D==="3pmpg"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("topg"),className:"sortable",children:["TOPG ",D==="topg"&&(Y==="asc"?"":"")]}),M.jsxs("th",{onClick:()=>C("fpg"),className:"sortable",children:["FPG ",D==="fpg"&&(Y==="asc"?"":"")]})]})}),M.jsx("tbody",{children:L.map(R=>{const P=g[R.playerId]||{},et=P.totalGames||0,rt=et>0?P.totalPoints/et:0,st=et>0?P.totalRebounds/et:0,ot=et>0?P.totalAssists/et:0,ft=et>0?P.totalSteals/et:0,Et=et>0?P.totalBlocks/et:0;P.totalFGA>0&&P.totalFGM/P.totalFGA;const At=et>0?P.total3PM/et:0,Xt=et>0?P.totalTurnovers/et:0,se=et>0?P.totalFouls/et:0;return M.jsxs("tr",{children:[M.jsx("td",{className:"add-col",children:M.jsx("button",{className:"add-btn",onClick:()=>Ot(R),title:"Add player",children:"+"})}),M.jsx("td",{className:"name-cell",children:R.name}),M.jsx("td",{children:R.position}),M.jsx("td",{children:U(rt)}),M.jsx("td",{children:U(st)}),M.jsx("td",{children:U(ot)}),M.jsx("td",{children:U(ft)}),M.jsx("td",{children:U(Et)}),M.jsx("td",{children:K(P.totalFGM,P.totalFGA)}),M.jsx("td",{children:U(At)}),M.jsx("td",{children:U(Xt)}),M.jsx("td",{children:U(se)})]},R.playerId)})})]})}),Q&&lt&&M.jsx("div",{className:"modal-overlay",onClick:()=>G(!1),children:M.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[M.jsxs("h3",{children:["Add ",lt.name]}),M.jsxs("div",{className:"modal-field",children:[M.jsx("label",{children:"Select Team:"}),M.jsxs("select",{value:mt,onChange:R=>{vt(R.target.value),N("")},children:[M.jsx("option",{value:"",children:"-- Select Team --"}),o.map(R=>M.jsx("option",{value:R.teamId,children:R.name},R.teamId))]})]}),mt&&M.jsxs("div",{className:"modal-field",children:[M.jsx("label",{children:ct?"Drop Player:":"Drop Player (optional):"}),M.jsxs("select",{value:gt,onChange:R=>N(R.target.value),children:[M.jsx("option",{value:"",children:"-- Select --"}),!ct&&M.jsx("option",{value:"none",children:"Don't drop anyone"}),pt.map(R=>M.jsxs("option",{value:R.playerId,children:[R.name," (",R.slot,")"]},R.playerId))]})]}),M.jsxs("div",{className:"modal-actions",children:[M.jsx("button",{className:"btn-cancel",onClick:()=>G(!1),disabled:b,children:"Cancel"}),M.jsx("button",{className:"btn-confirm",onClick:ht,disabled:b||!mt||ct&&!gt,children:b?"Adding...":"Add Player"})]})]})})]})}function hC(){return M.jsx(YS,{children:M.jsxs("div",{className:"app",children:[M.jsxs("header",{className:"header",children:[M.jsx("h1",{children:" ACC Fantasy Basketball"}),M.jsxs("nav",{className:"nav",children:[M.jsx(Ns,{to:"/",children:"Standings"}),M.jsx(Ns,{to:"/matchups",children:"Matchups"}),M.jsx(Ns,{to:"/teams",children:"Teams"}),M.jsx(Ns,{to:"/free-agents",children:"Free Agents"})]})]}),M.jsx("main",{className:"main",children:M.jsxs(AS,{children:[M.jsx(Wl,{path:"/",element:M.jsx(rC,{})}),M.jsx(Wl,{path:"/matchups",element:M.jsx(lC,{})}),M.jsx(Wl,{path:"/teams",element:M.jsx(uC,{})}),M.jsx(Wl,{path:"/free-agents",element:M.jsx(cC,{})})]})})]})})}R1.createRoot(document.getElementById("root")).render(M.jsx(j.StrictMode,{children:M.jsx(hC,{})}));
